(window.webpackJsonp=window.webpackJsonp||[]).push([[5,4],{150:function(t,e,n){"use strict";n.r(e);var r=n(0),i=n.n(r),a=n(634),o=n(592),s=n(617),c=n(567),u=n(626),l=n(625),h=n(641),f=n(637),d=n(646),p=n(628),y=n(650),g=n(562),b=n(647),v=n(669),_=[{accession:"IPR00001",locations:[{fragments:[{start:1,end:466}]}],color:"#cacaca"}],m=[{accession:"SF00001",locations:[{fragments:[{start:127,end:264},{start:279,end:385},{start:400,end:466}]}],color:"#7acaca"},{accession:"PF00001",locations:[{fragments:[{start:146,end:266}]},{fragments:[{start:346,end:466}]}],color:"#ca7aca"},{accession:"CD0001",locations:[{fragments:[{start:146,end:456}]}],color:"#caca7a"}],w=[{accession:"cd00108",locations:[{fragments:[{start:127,end:203}]}],color:"#cacaca",residues:[{accession:"KR",entry_accession:"cd00108",source_database:"CDD",locations:[{fragments:[{start:153,end:153,residues:"W"},{start:163,end:163,residues:"Y"},{start:184,end:184,residues:"W"},{start:186,end:186,residues:"F"},{start:194,end:194,residues:"Y"},{start:231,end:231,residus:"W"},{start:241,end:241,residues:"F"},{start:266,end:266,residues:"W"},{start:268,end:268,residues:"Y"},{start:276,end:276,residues:"W"},{start:325,end:325,residues:"W"},{start:335,end:335,residues:"V"},{start:360,end:360,residues:"W"},{start:362,end:362,residues:"F"},{start:370,end:370,residues:"V"},{start:411,end:411,residues:"W"},{start:421,end:421,residues:"H"},{start:447,end:447,residues:"W"},{start:449,end:449,residues:"Y"},{start:457,end:457,residues:"W"}],description:"ligand binding site"},{fragments:[{start:138,end:138,residues:"K"},{start:216,end:216,residues:"R"},{start:310,end:310,residues:"R"},{start:396,end:396,residues:"M"}],description:"putative domain interaction site"}]}]},{accession:"cd00108",locations:[{fragments:[{start:204,end:285}]}],color:"#c00aca",residues:[{accession:"KR",entry_accession:"cd00108",source_database:"CDD",locations:[{fragments:[{start:153,end:153,residues:"W"},{start:163,end:163,residues:"Y"},{start:184,end:184,residues:"W"},{start:186,end:186,residues:"F"},{start:194,end:194,residues:"Y"},{start:231,end:231,residus:"W"},{start:241,end:241,residues:"F"},{start:266,end:266,residues:"W"},{start:268,end:268,residues:"Y"},{start:276,end:276,residues:"W"},{start:325,end:325,residues:"W"},{start:335,end:335,residues:"V"},{start:360,end:360,residues:"W"},{start:362,end:362,residues:"F"},{start:370,end:370,residues:"V"},{start:411,end:411,residues:"W"},{start:421,end:421,residues:"H"},{start:447,end:447,residues:"W"},{start:449,end:449,residues:"Y"},{start:457,end:457,residues:"W"}],description:"ligand binding site"},{fragments:[{start:138,end:138,residues:"K"},{start:216,end:216,residues:"R"},{start:310,end:310,residues:"R"},{start:396,end:396,residues:"M"}],description:"putative domain interaction site"}]}]},{accession:"cd00108",source_database:"cdd",locations:[{fragments:[{start:298,end:380}]}],color:"#caca0a",entry_type:"domain",type:"entry",residues:[{accession:"KR",entry_accession:"cd00108",source_database:"CDD",locations:[{fragments:[{start:153,end:153,residues:"W"},{start:163,end:163,residues:"Y"},{start:184,end:184,residues:"W"},{start:186,end:186,residues:"F"},{start:194,end:194,residues:"Y"},{start:231,end:231,residus:"W"},{start:241,end:241,residues:"F"},{start:266,end:266,residues:"W"},{start:268,end:268,residues:"Y"},{start:276,end:276,residues:"W"},{start:325,end:325,residues:"W"},{start:335,end:335,residues:"V"},{start:360,end:360,residues:"W"},{start:362,end:362,residues:"F"},{start:370,end:370,residues:"V"},{start:411,end:411,residues:"W"},{start:421,end:421,residues:"H"},{start:447,end:447,residues:"W"},{start:449,end:449,residues:"Y"},{start:457,end:457,residues:"W"}],description:"ligand binding site"},{fragments:[{start:138,end:138,residues:"K"},{start:216,end:216,residues:"R"},{start:310,end:310,residues:"R"},{start:396,end:396,residues:"M"}],description:"putative domain interaction site"}]}]},{accession:"cd00108",source_database:"cdd",locations:[{fragments:[{start:384,end:466}]}],color:"#0acaca",entry_type:"domain",type:"entry",residues:[{accession:"KR",entry_accession:"cd00108",source_database:"CDD",locations:[{fragments:[{start:153,end:153,residues:"W"},{start:163,end:163,residues:"Y"},{start:184,end:184,residues:"W"},{start:186,end:186,residues:"F"},{start:194,end:194,residues:"Y"},{start:231,end:231,residus:"W"},{start:241,end:241,residues:"F"},{start:266,end:266,residues:"W"},{start:268,end:268,residues:"Y"},{start:276,end:276,residues:"W"},{start:325,end:325,residues:"W"},{start:335,end:335,residues:"V"},{start:360,end:360,residues:"W"},{start:362,end:362,residues:"F"},{start:370,end:370,residues:"V"},{start:411,end:411,residues:"W"},{start:421,end:421,residues:"H"},{start:447,end:447,residues:"W"},{start:449,end:449,residues:"Y"},{start:457,end:457,residues:"W"}],description:"ligand binding site"},{fragments:[{start:138,end:138,residues:"K"},{start:216,end:216,residues:"R"},{start:310,end:310,residues:"R"},{start:396,end:396,residues:"M"}],description:"putative domain interaction site"}]}]}],O=n(648);function j(t){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function E(t,e){return!e||"object"!==j(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function k(t){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var A=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),E(this,k(e).apply(this,arguments))}var n,j,A;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}(e,r["Component"]),n=e,(j=[{key:"componentDidMount",value:function(){document.querySelector("#variation-track").data=b,document.querySelector("#interpro-track-residues").data=w,document.querySelector("#interpro-track").data=_,document.querySelector("#interpro-track").contributors=m,document.querySelector("#sequence-track").data=v,document.querySelector("#sequence-track").fixedHighlight="400:600",document.querySelector("#sequence-coloured-track").data=v,document.querySelector("#sequence-coloured-track").fixedHighlight="400:600",document.querySelector("#sequence-coloured-track-iso").data=v,document.querySelector("#sequence-coloured-track-iso").fixedHighlight="400:600",document.querySelector("#track1").fixedHighlight="400:600",document.querySelector("#track2").fixedHighlight="400:600",document.querySelector("#track3").data=O,document.querySelector("#track3").fixedHighlight="400:600",document.querySelector("#interpro-track").fixedHighlight="400:600",document.querySelector("#interpro-track-residues").fixedHighlight="400:600",document.querySelector("#variation-track").fixedHighlight="400:600",document.querySelector("#variation-graph").fixedHighlight="400:600"}},{key:"render",value:function(){return Object(g.a)("protvista-manager",a.a),Object(g.a)("protvista-feature-adapter",s.a),Object(g.a)("protvista-track",c.b),Object(g.a)("protvista-navigation",u.a),Object(g.a)("protvista-sequence",l.a),Object(g.a)("protvista-coloured-sequence",h.a),Object(g.a)("protvista-interpro-track",y.a),Object(g.a)("protvista-variation",f.a),Object(g.a)("protvista-variation-graph",d.a),Object(g.a)("data-loader",o.a),Object(g.a)("protvista-variation-adapter",p.a),i.a.createElement(r.Fragment,null,i.a.createElement("protvista-manager",{attributes:"length displaystart displayend variantfilters highlight",displaystart:"53",id:"example"},i.a.createElement("protvista-navigation",{length:"770"}),i.a.createElement("protvista-sequence",{length:"770",id:"sequence-track","highlight-event":"onmouseover"}),i.a.createElement("protvista-coloured-sequence",{length:"770",id:"sequence-coloured-track",scale:"hydrophobicity-interface-scale",height:"10","highlight-event":"onmouseover"}),i.a.createElement("protvista-coloured-sequence",{length:"770",id:"sequence-coloured-track-iso",scale:"isoelectric-point-scale",color_range:"white:0,dodgerblue:11",height:"10"}),i.a.createElement("protvista-track",{id:"track1",length:"770"},i.a.createElement("protvista-feature-adapter",{id:"adapter1"},i.a.createElement("data-loader",null,i.a.createElement("source",{src:"https://www.ebi.ac.uk/proteins/api/features/P05067?categories=PTM"})))),i.a.createElement("protvista-track",{id:"track2",length:"770",layout:"non-overlapping"},i.a.createElement("protvista-feature-adapter",{id:"adapter1"},i.a.createElement("data-loader",null,i.a.createElement("source",{src:"https://www.ebi.ac.uk/proteins/api/features/P05067?categories=PTM"})))),i.a.createElement("protvista-track",{id:"track3",length:"770",height:"85",displaystart:"1",displayend:"80",layout:"non-overlapping"}),i.a.createElement("protvista-interpro-track",{id:"interpro-track",length:"770",shape:"roundRectangle","highlight-event":"onmouseover",expanded:!0}),i.a.createElement("protvista-interpro-track",{id:"interpro-track-residues",length:"770",shape:"roundRectangle","highlight-event":"onmouseover",expanded:!0}),i.a.createElement("protvista-variation-graph",{id:"variation-graph",length:"770"},i.a.createElement("protvista-variation-adapter",null,i.a.createElement("data-loader",null,i.a.createElement("source",{src:"https://www.ebi.ac.uk/proteins/api/variation/P05067"})))),i.a.createElement("protvista-variation",{id:"variation-track",length:"770"})))}}])&&S(n.prototype,j),A&&S(n,A),e}();e.default=A},551:function(t,e,n){"use strict";var r=n(563),i=n(552);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o="[object Symbol]";e.a=function(t){return"symbol"==a(t)||Object(i.a)(t)&&Object(r.a)(t)==o}},558:function(t,e,n){"use strict";var r=n(551),i=1/0;e.a=function(t){if("string"==typeof t||Object(r.a)(t))return t;var e=t+"";return"0"==e&&1/t==-i?"-0":e}},562:function(t,e,n){"use strict";e.a=function(t,e){window.customElements.get(t)||window.customElements.define(t,e)}},564:function(t,e,n){"use strict";var r=n(550),i=n(551);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.a=function(t,e){if(Object(r.a)(t))return!1;var n=a(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Object(i.a)(t))||s.test(t)||!o.test(t)||null!=e&&t in Object(e)}},565:function(t,e,n){"use strict";var r=n(559),i=n(554),a=Object(r.a)(i.a,"DataView"),o=n(604),s=Object(r.a)(i.a,"Promise"),c=n(593),u=Object(r.a)(i.a,"WeakMap"),l=n(563),h=n(629),f=Object(h.a)(a),d=Object(h.a)(o.a),p=Object(h.a)(s),y=Object(h.a)(c.a),g=Object(h.a)(u),b=l.a;(a&&"[object DataView]"!=b(new a(new ArrayBuffer(1)))||o.a&&"[object Map]"!=b(new o.a)||s&&"[object Promise]"!=b(s.resolve())||c.a&&"[object Set]"!=b(new c.a)||u&&"[object WeakMap]"!=b(new u))&&(b=function(t){var e=Object(l.a)(t),n="[object Object]"==e?t.constructor:void 0,r=n?Object(h.a)(n):"";if(r)switch(r){case f:return"[object DataView]";case d:return"[object Map]";case p:return"[object Promise]";case y:return"[object Set]";case g:return"[object WeakMap]"}return e});e.a=b},567:function(t,e,n){"use strict";var r=n(555),i=n(584);function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"isContinuous",value:function(t){return"bridge"!==type.toLowerCase()}}],(n=[{key:"getFeatureShape",value:function(t,e,n,r){return r=r||"rectangle",this._ftLength=n,this._ftHeight=e,this._ftWidth=t*n,"function"!=typeof this["_"+r]&&(r="rectangle"),this["_"+r]()}},{key:"_rectangle",value:function(){return"M0,0L"+this._ftWidth+",0L"+this._ftWidth+","+this._ftHeight+"L0,"+this._ftHeight+"Z"}},{key:"_roundRectangle",value:function(){return"M6,0h"+(this._ftWidth-12)+",0a6,6 0 0 1 6,6v"+(this._ftHeight-12)+"a6,6 0 0 1 "+-6+",6h"+(12-this._ftWidth)+"a6,6 0 0 1 "+-6+","+-6+"v"+(12-this._ftHeight)+"a6,6 0 0 1 6,"+-6+"Z"}},{key:"_bridge",value:function(){return 1!==this._ftLength?"M0,"+this._ftHeight+"L0,0L"+this._ftWidth+",0L"+this._ftWidth+","+this._ftHeight+"L"+this._ftWidth+",2L0,2Z":"M0,"+this._ftHeight+"L0,"+this._ftHeight/2+"L"+this._ftWidth/2+","+this._ftHeight/2+"L"+this._ftWidth/2+",0L"+this._ftWidth/2+","+this._ftHeight/2+"L"+this._ftWidth+","+this._ftHeight/2+"L"+this._ftWidth+","+this._ftHeight+"Z"}},{key:"_getMiddleLine",value:function(t){return"M0,"+t+"L"+this._ftWidth+","+t+"Z"}},{key:"_diamond",value:function(){var t=this._ftWidth/2,e="M"+t+",0L"+(t+5)+",5L"+t+",10L"+(t-5)+",5";return 1!==this._ftLength?e+this._getMiddleLine(5,this._ftWidth):e+"Z"}},{key:"_chevron",value:function(){var t=this._ftWidth/2,e="M"+t+",5L"+(5+t)+",0L"+(5+t)+",5L"+t+",10L"+(-5+t)+",5L"+(-5+t)+",0";return 1!==this._ftLength?e+"L"+t+",5"+this._getMiddleLine(5,this._ftWidth)+"Z":e+"Z"}},{key:"_catFace",value:function(){var t=this._ftWidth/2,e="M"+(-5+t)+",0L"+(-5+t)+",6L"+(-2+t)+",10L"+(2+t)+",10L"+(5+t)+",6L"+(5+t)+",0L"+(2+t)+",4L"+(-2+t)+",4";return 1!==this._ftLength?e+"M"+t+",0"+this._getMiddleLine(5,this._ftWidth)+"Z":e+"Z"}},{key:"_triangle",value:function(){var t=this._ftWidth/2,e="M"+t+",0L"+(5+t)+",10L"+(-5+t)+",10";return 1!==this._ftLength?e+"L"+t+",0"+this._getMiddleLine(5,this._ftWidth)+"Z":e+"Z"}},{key:"_wave",value:function(){var t=this._ftWidth/2,e="M"+(-5+t)+",5A2.5,5 0 1,1 "+t+",5A2.5,5 0 1,0 "+(5+t)+",5";return 1!==this._ftLength?e+this._getMiddleLine(5,this._ftWidth)+"Z":e+"Z"}},{key:"_getPolygon",value:function(t){for(var e="M ",n=this._ftWidth/2,r=0;r<t;r++)e+=5*Math.cos(2*Math.PI*r/t)+n+","+(5*Math.sin(2*Math.PI*r/t)+5)+" ";return 1!==this._ftLength?e+" "+(5*Math.cos(0)+n)+","+(5*Math.sin(0)+5)+" "+this._getMiddleLine(5,this._ftWidth)+"Z":e+"Z"}},{key:"_hexagon",value:function(){return this._getPolygon(6)}},{key:"_pentagon",value:function(){return this._getPolygon(5)}},{key:"_circle",value:function(){var t=this._ftWidth/2,e=Math.sqrt(10/Math.PI),n="M"+t+",0A"+e+","+e+" 0 1,1 "+t+",10A"+e+","+e+" 0 1,1 "+t+",0";return 1!==this._ftLength?n+this._getMiddleLine(5,this._ftWidth)+"Z":n+"Z"}},{key:"_arrow",value:function(){var t=this._ftWidth/2,e="M"+t+",0L"+(-1+t)+",0L"+(-5+t)+",4L"+(-1+t)+","+this._ftHeight+"L"+t+","+this._ftHeight+"L"+(4+t)+",4";return 1!==this._ftLength?e+"L"+t+",0"+this._getMiddleLine(5,this._ftWidth)+"Z":e+"Z"}},{key:"_doubleBar",value:function(){var t=this._ftWidth/2,e="M"+t+",0L"+(-5+t)+",10L"+t+",10L"+(5+t)+",0";return 1!==this._ftLength?e+"L"+t+",0"+this._getMiddleLine(5,this._ftWidth)+"Z":e+"Z"}},{key:"_getBrokenEnd",value:function(){var t=this._ftHeight/4;return"L"+(this._ftWidth-t)+","+t+"L"+this._ftWidth+","+2*t+"L"+(this._ftWidth-t)+","+3*t+"L"+this._ftWidth+","+this._ftHeight}},{key:"_getBrokenStart",value:function(){var t=this._ftHeight/4;return"L"+t+","+3*t+"L0,"+2*t+"L"+t+","+t}},{key:"_discontinuosStart",value:function(){return"M0,0L"+this._ftWidth+",0L"+this._ftWidth+","+this._ftHeight+"L0,"+this._ftHeight+this._getBrokenStart()+"Z"}},{key:"_discontinuos",value:function(){return"M0,0L"+this._ftWidth+",0"+this._getBrokenEnd()+"L0,"+this._ftHeight+this._getBrokenStart()+"Z"}},{key:"_discontinuosEnd",value:function(){return"M0,0L"+this._ftWidth+",0"+this._getBrokenEnd()+"L0,"+this._ftHeight+"Z"}},{key:"_helix",value:function(){for(var t=Math.round(this._ftWidth/10),e=5,n="",r=0;r<t;r++){var i="M"+(-5+e)+",5A2.5,5 0 1,0 "+e+",5A2.5,5 0 1,1 "+(5+e)+",5";r===t-1&&(i="M"+(-5+e)+",5A2.5,5 0 1,0 "+e+",5"),n+=i,e+=10}for(var a=7,o="",s=0;s<t;s++){var c="M"+(-5+a)+",5A2.5,5 0 1,0 "+a+",5A2.5,5 0 1,1 "+(5+a)+",5";s===t-1&&(c="M"+(-5+a)+",5A2.5,5 0 1,0 "+a+",5"),o+=c,a+=10}return n+o}},{key:"_strand",value:function(){var t=this._ftWidth/5,e=this._ftHeight/4;return"M0,"+e+"L"+4*t+","+e+"L"+4*t+","+3*e+"L0,"+3*e+"L0,"+e+("M"+4*t+",0L"+this._ftWidth+","+2*e+"L"+4*t+","+this._ftHeight+"Z")}}])&&a(e.prototype,n),r&&a(e,r),t}();function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=function(){function t(e){var n=e.layoutHeight,r=e.padding,i=void 0===r?1:r,a=e.minHeight,o=void 0===a?17:a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._padding=i,this._minHeight=o,this._layoutHeight=n}var e,n,r;return e=t,(n=[{key:"init",value:function(t){this._features=t}},{key:"getFeatureYPos",value:function(t){return Math.min(this._layoutHeight,this._minHeight)}},{key:"getFeatureHeight",value:function(t){return Math.min(this._layoutHeight,this._minHeight)}}])&&s(e.prototype,n),r&&s(e,r),t}();function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=function(t,e){return e.some(function(e){return n=t,r=e,!(Number(r.start)>Number(n.end)||Number(r.end)<Number(n.start));var n,r})},y=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=h(this,f(e).call(this,t))).featuresMap=new Map,n._rowHeight=0,n._rows=new Array,n._minHeight=15,n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,c),n=e,(r=[{key:"init",value:function(t){var e=this;new Array;t.forEach(function(t){var n=e._rows.findIndex(function(e){return!p(t,e)});n>=0?(e._rows[n].push(t),e.featuresMap.set(t,n)):(e._rows.push([t]),e.featuresMap.set(t,e._rows.length-1))}),this._rowHeight=Math.min(this._layoutHeight/this._rows.length,this._minHeight)}},{key:"getOffset",value:function(){return this._rows.length*this._rowHeight<this._layoutHeight?this._layoutHeight/2-this._rows.length*this._rowHeight/2:0}},{key:"getFeatureYPos",value:function(t){var e=this.featuresMap.get(t);return this.getOffset()+this._rowHeight*e+2*this._padding}},{key:"getFeatureHeight",value:function(){return this._rowHeight-2*this._padding}}])&&l(n.prototype,r),i&&l(n,i),e}(),g=n(571),b={chain:{label:"Chain",tooltip:"(aka mature region). This describes the extent of a polypeptide chain in the mature protein following processing",shape:"rectangle",color:"#CC9933"},transit:{label:"Transit peptide",tooltip:"This describes the extent of a transit peptide",shape:"rectangle",color:"#009966"},init_met:{label:"Initiator methionine",tooltip:"This indicates that the initiator methionine is cleaved from the mature protein",shape:"arrow",color:"#996633"},propep:{label:"Propeptide",tooltip:"Part of a protein that is cleaved during maturation or activation",shape:"rectangle",color:"#99CCCC"},peptide:{label:"Peptide",tooltip:"The position and length of an active peptide in the mature protein",shape:"rectangle",color:"#006699"},signal:{label:"Signal peptide",tooltip:"N-terminal signal peptide",shape:"rectangle",color:"#CC0033"},helix:{label:"Helix",tooltip:"The positions of experimentally determined helical regions",shape:"rectangle",color:"#FF0066"},strand:{label:"Beta strand",tooltip:"The positions of experimentally determined beta strands",shape:"rectangle",color:"#FFCC00"},turn:{label:"Turn",tooltip:"The positions of experimentally determined hydrogen-bonded turns",shape:"rectangle",color:"#0571AF"},disulfid:{label:"Disulfide bond",tooltip:"The positions of cysteine residues participating in disulphide bonds",shape:"bridge",color:"#23B14D"},crosslnk:{label:"Cross-link",tooltip:"Covalent linkages of various types formed between two proteins or between two parts of the same protein",shape:"bridge",color:"#FF6600"},region:{label:"Region",tooltip:"Regions in multifunctional enzymes or fusion proteins, or characteristics of a region, e.g., protein-protein interactions mediation",shape:"rectangle",color:"#B33E00"},coiled:{label:"Coiled coil",tooltip:"Coiled coils are built by two or more alpha-helices that wind around each other to form a supercoil",shape:"rectangle",color:"#006699"},motif:{label:"Motif",tooltip:"Short conserved sequence motif of biological significance",shape:"rectangle",color:"#402060"},repeat:{label:"Repeat",tooltip:"Repeated sequence motifs or repeated domains within the protein",shape:"rectangle",color:"#9900FF"},ca_bind:{label:"Calcium binding",tooltip:"Calcium-binding regions, such as the EF-hand motif",shape:"rectangle",color:"#FF3399"},dna_bind:{label:"DNA binding",tooltip:"DNA-binding domains such as AP2/ERF domain, the ETS domain, the Fork-Head domain, the HMG box and the Myb domain",shape:"rectangle",color:"#009933"},domain:{label:"Domain",tooltip:"Specific combination of secondary structures organized into a characteristic three-dimensional structure or fold",shape:"rectangle",color:"#9999FF"},zn_fing:{label:"Zinc finger",tooltip:"Small, functional, independently folded domain that coordinates one or more zinc ions",shape:"rectangle",color:"#990066"},np_bind:{label:"Nucleotide binding",tooltip:"(aka flavin-binding). Region in the protein which binds nucleotide phosphates",shape:"rectangle",color:"#FF9900"},metal:{label:"Metal binding",tooltip:"Binding site for a metal ion",shape:"diamond",color:"#009900"},site:{label:"Site",tooltip:"Any interesting single amino acid site on the sequence",shape:"chevron",color:"#660033"},binding:{label:"Binding site",tooltip:"Binding site for any chemical group (co-enzyme, prosthetic group, etc.)",shape:"rectangle",color:"#catFace"},act_site:{label:"Active site",tooltip:"Amino acid(s) directly involved in the activity of an enzyme",shape:"circle",color:"#FF6666"},mod_res:{label:"Modified residue",tooltip:"Modified residues such as phosphorylation, acetylation, acylation, methylation",shape:"triangle",color:"#000066"},lipid:{label:"Lipidation",tooltip:"Covalently attached lipid group(s)",shape:"wave",color:"#99CC33"},carbohyd:{label:"Glycosylation",tooltip:"Covalently attached glycan group(s)",shape:"hexagon",color:"#CC3366"},compbias:{label:"Compositional bias",tooltip:"Position of regions of compositional bias within the protein and the particular amino acids that are over-represented within those regions",shape:"rectangle",color:"#FF3366"},conflict:{label:"Sequence conflict",tooltip:"Sequence discrepancies of unknown origin",shape:"rectangle",color:"#6633CC"},non_cons:{label:"Non-adjacent residues",tooltip:"Indicates that two residues in a sequence are not consecutive and that there is an undetermined number of unsequenced residues between them",shape:"doubleBar",color:"#FF0033"},non_ter:{label:"Non-terminal residue",tooltip:"The sequence is incomplete. The residue is not the terminal residue of the complete protein",shape:"doubleBar",color:"#339933"},unsure:{label:"Sequence uncertainty",tooltip:"Regions of a sequence for which the authors are unsure about the sequence assignment",shape:"rectangle",color:"#33FF00"},non_std:{label:"Non-standard residue",tooltip:"Non-standard amino acids (selenocysteine and pyrrolysine)",shape:"pentagon",color:"#330066"},mutagen:{label:"Mutagenesis",tooltip:"Site which has been experimentally altered by mutagenesis",shape:"rectangle",color:"#FF9900"},topo_dom:{label:"Topological domain",tooltip:"Location of non-membrane regions of membrane-spanning proteins",shape:"rectangle",color:"#CC0000"},transmem:{label:"Transmembrane",tooltip:"Extent of a membrane-spanning region",shape:"rectangle",color:"#CC00CC"},intramem:{label:"Intramembrane",tooltip:"Extent of a region located in a membrane without crossing it",shape:"rectangle",color:"#0000CC"},variant:{label:"Natural variant",tooltip:"Natural variant of the protein, including polymorphisms, variations between strains, isolates or cultivars, disease-associated mutations and RNA editing events",shape:"circle",color:"black"},unique:{label:"Unique peptide",tooltip:"",shape:"rectangle",color:"#fc3133"},non_unique:{label:"Non-unique peptide",tooltip:"",shape:"rectangle",color:"#8585fc"},antigen:{label:"Antibody binding sequences",tooltip:"",shape:"rectangle",color:"#996699"},pdbe_cover:{label:"PDBe 3D structure coverage",tooltip:"",shape:"rectangle",color:"#669966"}};function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var _=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._config=e}var e,n,r;return e=t,(n=[{key:"getShapeByType",value:function(t){return this._config[t.toLowerCase()]?this._config[t.toLowerCase()].shape:"rectangle"}},{key:"getColorByType",value:function(t){return this._config[t.toLowerCase()]?this._config[t.toLowerCase()].color:"black"}}])&&v(e.prototype,n),r&&v(e,r),t}();function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function O(t,e){return!e||"object"!==m(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function j(t,e,n){return(j="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=S(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function S(t){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function E(t,e){return(E=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"a",function(){return c});var k=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),O(this,S(e).apply(this,arguments))}var n,a,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&E(t,e)}(e,g["a"]),n=e,s=[{key:"observedAttributes",get:function(){return g.a.observedAttributes.concat(["highlight","color","shape"])}}],(a=[{key:"getLayout",value:function(t){return"non-overlapping"===String(this.getAttribute("layout")).toLowerCase()?new y({layoutHeight:this._height}):new c({layoutHeight:this._height})}},{key:"connectedCallback",value:function(){var t=this;j(S(e.prototype),"connectedCallback",this).call(this),this._color=this.getAttribute("color"),this._shape=this.getAttribute("shape"),this._featureShape=new o,this._layoutObj=this.getLayout(),this._config=new _(b),this._data&&this._createTrack(),this.addEventListener("load",function(e){Object(i.a)(t.children,e.target)&&(t.data=e.detail.payload)})}},{key:"normalizeLocations",value:function(t){return t.map(function(t){var e=t.locations,n=t.start,r=t.end;return e?t:Object.assign(t,{locations:[{fragments:[{start:n,end:r}]}]})})}},{key:"_getFeatureColor",value:function(t){return t.color?t.color:t.feature&&t.feature.color?t.feature.color:this._color?this._color:t.type?this._config.getColorByType(t.type):t.feature&&t.feature.type?this._config.getColorByType(t.feature.type):"black"}},{key:"_getFeatureFillColor",value:function(t){return t.fill?t.fill:t.feature&&t.feature.fill?t.feature.fill:this._getFeatureColor(t)}},{key:"_getShape",value:function(t){return t.shape?t.shape:t.feature&&t.feature.shape?t.feature.shape:this._shape?this._shape:t.type?this._config.getShapeByType(t.type):t.feature&&t.feature.type?this._config.getShapeByType(t.feature.type):"rectangle"}},{key:"_createTrack",value:function(){this._layoutObj.init(this._data),Object(r.l)(this).selectAll("svg").remove(),this.svg=Object(r.l)(this).append("div").style("line-height",0).append("svg").attr("width",this.width).attr("height",this._height),this.trackHighlighter.appendHighlightTo(this.svg),this.seq_g=this.svg.append("g").attr("class","sequence-features"),this._createFeatures()}},{key:"_createFeatures",value:function(){var t=this;this.featuresG=this.seq_g.selectAll("g.feature-group").data(this._data),this.locations=this.featuresG.enter().append("g").attr("class","feature-group").attr("id",function(t){return"g_".concat(t.accession)}).selectAll("g.location-group").data(function(t){return t.locations.map(function(e){return Object.assign({},e,{feature:t})})}).enter().append("g").attr("class","location-group"),this.features=this.locations.selectAll("g.fragment-group").data(function(t){return t.fragments.map(function(e){return Object.assign({},e,{feature:t.feature})})}).enter().append("path").attr("class","feature").attr("d",function(e){return t._featureShape.getFeatureShape(t.getSingleBaseWidth(),t._layoutObj.getFeatureHeight(e),e.end?e.end-e.start+1:1,t._getShape(e))}).attr("transform",function(e){return"translate("+t.getXFromSeqPosition(e.start)+","+t._layoutObj.getFeatureYPos(e.feature)+")"}).attr("fill",function(e){return t._getFeatureFillColor(e)}).attr("stroke",function(e){return t._getFeatureColor(e)}).style("fill-opacity",.9).call(this.bindEvents,this)}},{key:"refresh",value:function(){var t=this;this.xScale&&this.seq_g&&(this.features=this.seq_g.selectAll("path.feature").data(this._data.reduce(function(t,e){return t.concat(e.locations.reduce(function(t,n){return t.concat(n.fragments.map(function(t){return Object.assign({},t,{feature:e})}))},[]))},[])),this.features.attr("d",function(e){return t._featureShape.getFeatureShape(t.getSingleBaseWidth(),t._layoutObj.getFeatureHeight(e),e.end?e.end-e.start+1:1,t._getShape(e))}).attr("transform",function(e){return"translate("+t.getXFromSeqPosition(e.start)+","+t._layoutObj.getFeatureYPos(e.feature)+")"}),this._updateHighlight())}},{key:"_updateHighlight",value:function(){this.trackHighlighter.updateHighlight()}},{key:"data",set:function(t){this._data=this.normalizeLocations(t),this._createTrack()}}])&&w(n.prototype,a),s&&w(n,s),e}();e.b=k},568:function(t,e,n){"use strict";e.a=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},569:function(t,e,n){"use strict";var r=n(570);e.a=function(t,e,n){var i=null==t?void 0:Object(r.a)(t,e);return void 0===i?n:i}},570:function(t,e,n){"use strict";var r=n(574),i=n(558);e.a=function(t,e){for(var n=0,a=(e=Object(r.a)(e,t)).length;null!=t&&n<a;)t=t[Object(i.a)(e[n++])];return n&&n==a?t:void 0}},571:function(t,e,n){"use strict";var r=n(555),i=n(575),a=n(616);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){i=!0,a=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){var e="function"==typeof Map?new Map:void 0;return(l=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return h(t,arguments,d(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),f(r,t)})(t)}function h(t,e,n){return(h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&f(i,n.prototype),i}).apply(null,arguments)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){function e(){var t,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,r=d(e).call(this),(t=!r||"object"!==o(r)&&"function"!=typeof r?u(n):r)._updateScaleDomain=t._updateScaleDomain.bind(u(t)),t._initZoom=t._initZoom.bind(u(t)),t.zoomed=t.zoomed.bind(u(t)),t._applyZoomTranslation=t.applyZoomTranslation.bind(u(t)),t._resetEventHandler=t._resetEventHandler.bind(u(t));var a=!1;return t.applyZoomTranslation=function(){a||(a=!0,requestAnimationFrame(function(){a=!1,t._applyZoomTranslation()}))},t._onResize=t._onResize.bind(u(t)),t._listenForResize=t._listenForResize.bind(u(t)),t.trackHighlighter=new i.c({element:u(t),min:1}),t}var n,h,p;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,l(HTMLElement)),n=e,p=[{key:"observedAttributes",get:function(){return["displaystart","displayend","length","highlight"]}}],(h=[{key:"connectedCallback",value:function(){this.style.display="block",this.style.width="100%",this.width=this.offsetWidth,this._length=this.getAttribute("length")?parseFloat(this.getAttribute("length")):0,this._displaystart=this.getAttribute("displaystart")?parseFloat(this.getAttribute("displaystart")):1,this._displayend=this.getAttribute("displayend")?parseFloat(this.getAttribute("displayend")):this.width,this._height=this.getAttribute("height")?parseInt(this.getAttribute("height")):44,this._highlightEvent=this.getAttribute("highlight-event")?this.getAttribute("highlight-event"):"onclick",this.trackHighlighter.setAttributesInElement(this),this._updateScaleDomain(),this._originXScale=this.xScale.copy(),this._initZoom(),this._listenForResize(),this.addEventListener("error",function(t){throw t}),window.hasProtvistaReset||(window.addEventListener("click",this._resetEventHandler),window.hasProtvistaReset=!0)}},{key:"disconnectedCallback",value:function(){this._ro?this._ro.unobserve(this):window.removeEventListener("resize",this._onResize),window.removeEventListener("click",this._resetEventHandler)}},{key:"getWidthWithMargins",value:function(){return this.width?this.width-this.margin.left-this.margin.right:0}},{key:"_updateScaleDomain",value:function(){this.xScale=Object(r.i)().domain([1,this._length+1]).range([0,this.getWidthWithMargins()])}},{key:"_initZoom",value:function(){this._zoom=Object(r.m)().scaleExtent([1,1/0]).translateExtent([[0,0],[this.getWidthWithMargins(),0]]).extent([[0,0],[this.getWidthWithMargins(),0]]).on("zoom",this.zoomed)}},{key:"setFloatAttribute",value:function(t,e){var n=parseFloat(e);this["_".concat(t)]=isNaN(n)?e:n}},{key:"attributeChangedCallback",value:function(t,e,n){if("null"===n&&(n=null),e!==n){if(t.startsWith("highlight"))return void this.trackHighlighter.changedCallBack(t,n);this.setFloatAttribute(t,n),"length"===t&&(this._updateScaleDomain(),this._originXScale=this.xScale.copy()),this.applyZoomTranslation()}}},{key:"zoomed",value:function(){if(this.xScale=r.e.transform.rescaleX(this._originXScale),!this.dontDispatch){var t=s(this.xScale.domain(),2),e=t[0],n=t[1];n--,this.dispatchEvent(new CustomEvent("change",{detail:{displaystart:Math.max(1,e),displayend:Math.min(this.length,Math.max(n,e+1))},bubbles:!0,cancelable:!0}))}}},{key:"applyZoomTranslation",value:function(){if(this.svg&&this._originXScale){var t=Math.max(1,this.length/(1+this._displayend-this._displaystart)),e=-this._originXScale(this._displaystart);this.dontDispatch=!0,this.svg.call(this.zoom.transform,r.n.scale(t).translate(e,0)),this.dontDispatch=!1,this.refresh()}}},{key:"_onResize",value:function(){this.width=this.offsetWidth,this._updateScaleDomain(),this._originXScale=this.xScale.copy(),this.svg&&this.svg.attr("width",this.width),this._zoom.scaleExtent([1,1/0]).translateExtent([[0,0],[this.getWidthWithMargins(),0]]),this.applyZoomTranslation()}},{key:"_listenForResize",value:function(){this._ro=new a.a(this._onResize),this._ro.observe(this)}},{key:"_resetEventHandler",value:function(t){t.target.closest(".feature")||this.dispatchEvent(this.createEvent("reset",null,!0))}},{key:"getXFromSeqPosition",value:function(t){return this.margin.left+this.xScale(t)}},{key:"getSingleBaseWidth",value:function(){return this.xScale(2)-this.xScale(1)}},{key:"_getClickCoords",value:function(){return r.e?[r.e.pageX,r.e.pageY]:null}},{key:"createEvent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,o={eventtype:t,coords:this._getClickCoords(),feature:e,target:a};return n&&(e&&e.fragments?o.highlight=e.fragments.map(function(t){return"".concat(t.start,":").concat(t.end)}).join(","):o.highlight=r&&i?"".concat(r,":").concat(i):null),new CustomEvent("change",{detail:o,bubbles:!0,cancelable:!0})}},{key:"bindEvents",value:function(t,e){t.on("mouseover",function(t,n,r){e.dispatchEvent(e.createEvent("mouseover",t,"onmouseover"===e._highlightEvent,t.start,t.end,r[n]))}).on("mouseout",function(t){e.dispatchEvent(e.createEvent("mouseout",null,"onmouseover"===e._highlightEvent))}).on("click",function(t,n,r){e.dispatchEvent(e.createEvent("click",t,"onclick"===e._highlightEvent,t.start,t.end,r[n]))})}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",set:function(t){this._height=t},get:function(){return this._height}},{key:"length",set:function(t){this._length=t,this.trackHighlighter.max=t},get:function(){return this._length}},{key:"xScale",get:function(){return this._xScale},set:function(t){this._xScale=t}},{key:"zoom",get:function(){return this._zoom}},{key:"svg",set:function(t){this._svg=t,t.call(this._zoom),this.applyZoomTranslation()},get:function(){return this._svg}},{key:"isManaged",get:function(){return!0}},{key:"margin",get:function(){return{top:10,right:10,bottom:10,left:10}}},{key:"fixedHighlight",set:function(t){this.trackHighlighter.setFixedHighlight(t)}}])&&c(n.prototype,h),p&&c(n,p),e}();e.a=p},572:function(t,e,n){"use strict";var r=n(566);e.a=function(t){return"function"==typeof t?t:r.a}},574:function(t,e,n){"use strict";var r=n(550),i=n(564),a=n(583),o="Expected a function";function s(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(o);var n=function n(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(s.Cache||a.a),n}s.Cache=a.a;var c=s,u=500;var l=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,h=/\\(\\)?/g,f=function(t){var e=c(t,function(t){return n.size===u&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(l,function(t,n,r,i){e.push(r?i.replace(h,"$1"):n||t)}),e}),d=n(561),p=n(560),y=n(551),g=1/0,b=d.a?d.a.prototype:void 0,v=b?b.toString:void 0;var _=function t(e){if("string"==typeof e)return e;if(Object(r.a)(e))return Object(p.a)(e,t)+"";if(Object(y.a)(e))return v?v.call(e):"";var n=e+"";return"0"==n&&1/e==-g?"-0":n};var m=function(t){return null==t?"":_(t)};e.a=function(t,e){return Object(r.a)(t)?t:Object(i.a)(t,e)?[t]:f(m(t))}},575:function(t,e,n){"use strict";function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){i=!0,a=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.min,r=void 0===n?-1/0:n,i=e.max,a=void 0===i?1/0:i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.segments=[],this.max=a,this.min=r,this.regionString=null}var e,n,a;return e=t,(n=[{key:"encode",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.segments.map(function(n){var r=n.start,i=n.end;if(e)return"".concat(r,":").concat(i);var a=r===t.min?"":r,o=i===t.max?"":i;return"".concat(a,":").concat(o)}).join(",")}},{key:"decode",value:function(t){var e=this;void 0!==t&&(this.regionString=t),this.regionString?this.segments=this.regionString.split(",").map(function(t){var n=r(t.split(":"),3),i=n[0],a=n[1];if(void 0!==n[2])throw new Error("there should be at most 1 ':' per region. Region: ".concat(t));var o=i?parseInt(i):e.min,s=a?parseInt(a):e.max;if(o>s){var c=[s,o];o=c[0],s=c[1]}if(o<e.min&&(o=e.min),s>e.max&&(s=e.max),isNaN(o))throw new Error("The parsed value of ".concat(i," is NaN. Region: ").concat(t));if(isNaN(s))throw new Error("The parsed value of ".concat(a," is NaN. Region: ").concat(t));return{start:o,end:s}}):this.segments=[]}}])&&i(e.prototype,n),a&&i(e,a),t}();function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=function(t,e){return t?e?"".concat(t,",").concat(e):t:e},c=function(){function t(e){var n=e.element,r=e.min,i=e.max;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=n,this.region=new a({min:r,max:i}),this.fixedHighlight=null}var e,n,r;return e=t,(n=[{key:"setAttributesInElement",value:function(){this.region.decode(this.element.getAttribute("highlight")),0===this.region.segments.length&&(this.element._highlightstart=parseInt(this.element.getAttribute("highlightstart")),this.element._highlightend=parseInt(this.element.getAttribute("highlightend")),null===this.element._highlightstart||null===this.element._highlightend||isNaN(this.element._highlightstart)||isNaN(this.element._highlightend)||(this.element._highlight="".concat(this.element._highlightstart,":").concat(this.element._highlightend),this.region.decode(s(this.fixedHighlight,this.element._highlight))))}},{key:"setFloatAttribute",value:function(t,e){var n=parseFloat(e);this.element["_".concat(t)]=isNaN(n)?e:n}},{key:"changedCallBack",value:function(t,e){switch(t){case"highlightstart":case"highlightend":this.setFloatAttribute(t,e),this.element._highlight=isNaN(this.element._highlightstart)||isNaN(this.element._highlightend)||null===this.element._highlightstart||null===this.element._highlightend?"":"".concat(Math.max(this.region.min,this.element._highlightstart),":").concat(Math.min(this.region.max,this.element._highlightend));break;default:this.element._highlight=e}this.region.decode(s(this.fixedHighlight,this.element._highlight)),this.element.refresh()}},{key:"setFixedHighlight",value:function(t){this.fixedHighlight=t,this.region.decode(s(t,this.element._highlight)),this.element.refresh()}},{key:"appendHighlightTo",value:function(t){this.highlighted=t.append("g").attr("class","highlighted")}},{key:"updateHighlight",value:function(){var t=this,e=this.highlighted.selectAll("rect").data(this.region.segments);e.enter().append("rect").style("opacity",.5).attr("fill","rgba(255, 235, 59, 0.8)").style("pointer-events","none").merge(e).attr("height",this.element._height).attr("x",function(e){return t.element.getXFromSeqPosition(e.start)}).attr("width",function(e){return t.element.getSingleBaseWidth()*(e.end-e.start+1)}),e.exit().remove()}},{key:"max",set:function(t){this.region.max=t}}])&&o(e.prototype,n),r&&o(e,r),t}();var u=function(t){return t};n.d(e,"c",function(){return l}),n.d(e,"a",function(){return h}),n.d(e,"b",function(){return f});var l=c,h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=[],n=[];if(null!==t&&"string"!=typeof t)throw new Error("The attribute text has to be of type string");if(t&&""!==t.trim()){var r=t.split(",").map(function(t){return t.split(":")});if(r.length<2)throw new Error("There should be at least 2 points to create a scale");e=r.map(function(t){var e=t[0].trim().toUpperCase();if(!function(t){var e=document.createElement("div");return e.style.borderColor="",e.style.borderColor=t,""!==e.style.borderColor}(e))throw new Error("The color '".concat(e," is not valid'"));return e}),n=r.map(function(t,e){var n=parseFloat(t[1]);if(isNaN(n))throw"The second part of every point should be a number. Error in point ".concat(e,": ").concat(t);return n})}return{range:e,domain:n}},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.keyFormatter,r=void 0===n?u:n,i=e.valueFormatter,a=void 0===i?u:i;if(null!==t&&"string"!=typeof t)throw new Error("The attribute text has to be of type string");if(t&&""!==t.trim()){var o=t.split(",").map(function(t){return t.split(":")}),s={},c=!0,l=!1,h=void 0;try{for(var f,d=o[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var p=f.value;if(2!==p.length)throw new Error("Bad block: ".concat(p.join(":"),"\n The blocks of the string should follow the format KEY:VALUE"));s[r(p[0])]=a(p[1])}}catch(t){l=!0,h=t}finally{try{c||null==d.return||d.return()}finally{if(l)throw h}}return s}return{}}},576:function(t,e,n){"use strict";var r=function(t){return function(e,n,r){for(var i=-1,a=Object(e),o=r(e),s=o.length;s--;){var c=o[t?s:++i];if(!1===n(a[c],c,a))break}return e}}(),i=n(553);e.a=function(t,e){return t&&r(t,e,i.a)}},577:function(t,e,n){"use strict";var r=n(576),i=n(557);var a=function(t,e){return function(n,r){if(null==n)return n;if(!Object(i.a)(n))return t(n,r);for(var a=n.length,o=e?a:-1,s=Object(n);(e?o--:++o<a)&&!1!==r(s[o],o,s););return n}}(r.a);e.a=a},578:function(t,e,n){"use strict";var r=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a},i=n(595),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(t){return null==t?[]:(t=Object(t),r(o(t),function(e){return a.call(t,e)}))}:i.a;e.a=s},579:function(t,e,n){"use strict";var r=n(594);e.a=function(t,e,n){"__proto__"==e&&r.a?Object(r.a)(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},580:function(t,e,n){"use strict";e.a=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}},581:function(t,e,n){"use strict";e.a=function(t,e){return t.has(e)}},584:function(t,e,n){"use strict";var r=n(602),i=n(557),a=n(563),o=n(550),s=n(552),c="[object String]";var u=function(t){return"string"==typeof t||!Object(o.a)(t)&&Object(s.a)(t)&&Object(a.a)(t)==c},l=n(556),h=n(551),f=NaN,d=/^\s+|\s+$/g,p=/^[-+]0x[0-9a-f]+$/i,y=/^0b[01]+$/i,g=/^0o[0-7]+$/i,b=parseInt;var v=function(t){if("number"==typeof t)return t;if(Object(h.a)(t))return f;if(Object(l.a)(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Object(l.a)(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(d,"");var n=y.test(t);return n||g.test(t)?b(t.slice(2),n?2:8):p.test(t)?f:+t},_=1/0,m=1.7976931348623157e308;var w=function(t){return t?(t=v(t))===_||t===-_?(t<0?-1:1)*m:t==t?t:0:0===t?t:0};var O=function(t){var e=w(t),n=e%1;return e==e?n?e-n:e:0},j=n(560);var S=function(t,e){return Object(j.a)(e,function(e){return t[e]})},E=n(553);var k=function(t){return null==t?[]:S(t,Object(E.a)(t))},x=Math.max;e.a=function(t,e,n,a){t=Object(i.a)(t)?t:k(t),n=n&&!a?O(n):0;var o=t.length;return n<0&&(n=x(o+n,0)),u(t)?n<=o&&t.indexOf(e,n)>-1:!!o&&Object(r.a)(t,e,n)>-1}},585:function(t,e,n){"use strict";var r=n(583),i="__lodash_hash_undefined__";var a=function(t){return this.__data__.set(t,i),this};var o=function(t){return this.__data__.has(t)};function s(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r.a;++e<n;)this.add(t[e])}s.prototype.add=s.prototype.push=a,s.prototype.has=o;e.a=s},586:function(t,e,n){"use strict";var r=n(588);var i=function(){this.__data__=new r.a,this.size=0};var a=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n};var o=function(t){return this.__data__.get(t)};var s=function(t){return this.__data__.has(t)},c=n(604),u=n(583),l=200;var h=function(t,e){var n=this.__data__;if(n instanceof r.a){var i=n.__data__;if(!c.a||i.length<l-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new u.a(i)}return n.set(t,e),this.size=n.size,this};function f(t){var e=this.__data__=new r.a(t);this.size=e.size}f.prototype.clear=i,f.prototype.delete=a,f.prototype.get=o,f.prototype.has=s,f.prototype.set=h;e.a=f},589:function(t,e,n){"use strict";var r=n(601),i=n(577),a=n(572),o=n(550);var s=function(t,e){return(Object(o.a)(t)?r.a:i.a)(t,Object(a.a)(e))},c=[{name:"ECO:0000269",description:"Manual assertion based on experiment",shortDescription:"Publication",acronym:"EXP",isManual:!0},{name:"ECO:0000303",description:"Manual assertion based on opinion",shortDescription:"Publication",acronym:"NAS",isManual:!0},{name:"ECO:0000305",description:"Manual assertion inferred by curator",shortDescription:"Curated",acronym:"IC",isManual:!0},{name:"ECO:0000250",description:"Manual assertion inferred from sequence similarity",shortDescription:"By similarity",acronym:"ISS",isManual:!0},{name:"ECO:0000255",description:"Manual assertion according to rules",shortDescription:"Sequence Analysis",acronym:"ISM",isManual:!0},{name:"ECO:0000244",description:"Manual assertion inferred from combination of experimental and computational evidence",shortDescription:"Combined sources",acronym:"MIXM",isManual:!0},{name:"ECO:0000312",description:"Manual assertion inferred from database entries",shortDescription:"Imported",acronym:"MI",isManual:!0},{name:"ECO:0000256",description:"Automatic assertion according to rules",shortDescription:"Automatic annotation",acronym:"AA"},{name:"ECO:0000259",description:"Automatic assertion inferred from signature match",shortDescription:"Automatic annotation",acronym:"AA"},{name:"ECO:0000213",description:"Automatic assertion inferred from combination of experimental and computational evidence",shortDescription:"Combined sources",acronym:"MIXA"},{name:"ECO:0000313",description:"Automatic assertion inferred from database entries",shortDescription:"Imported",acronym:"AI"}];function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"renameProperties",value:function(t){return s(t,function(t){t.begin&&(t.start=t.begin,delete t.begin)}),t}},{key:"getEvidenceFromCodes",value:function(t){if(t){var e="";return t.map(function(t){var n=c.find(function(e){return e.name===t.code});n&&(e="".concat(e,"<p title='").concat(n.description,"'>").concat(n.shortDescription),t.source&&(e="".concat(e," <a href='").concat(t.source.url,"' target='_blank'>").concat(t.source.id,"</a> (").concat(t.source.name,")")),e="".concat(e,"</p>"))}),e}}},{key:"formatTooltip",value:function(e){var n=t.getEvidenceFromCodes(e.evidences);return" \n            <table>                        \n                ".concat(e.description?"<tr><td>Description</td><td>".concat(e.description,"</td></tr>"):""," \n                ").concat(n?"<tr><td>Evidence</td><td>".concat(n,"</td></tr>"):"","\n            </table> \n        ")}}],(n=null)&&u(e.prototype,n),r&&u(e,r),t}();function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){var e="function"==typeof Map?new Map:void 0;return(p=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return y(t,arguments,b(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),g(r,t)})(t)}function y(t,e,n){return(y=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&g(i,n.prototype),i}).apply(null,arguments)}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=d(this,b(e).call(this)))._adaptedData=[],t._basicHelper=l,t}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(e,p(HTMLElement)),n=e,(r=[{key:"connectedCallback",value:function(){this._filters=this.getAttribute("filters")?this.getAttribute("filters").split(","):[],this._initLoaders(),this._addLoaderListeners()}},{key:"parseEntry",value:function(t){return this._adaptedData=t,this._adaptedData}},{key:"filterData",value:function(){var t=this;Array.isArray(this._adaptedData)&&this._filters.length>0&&(this._adaptedData=this._adaptedData.filter(function(e){return t._filters.includes(e.type)}))}},{key:"_initLoaders",value:function(){var t=this.children;1!==this.childElementCount&&(this.dispatchEvent(new CustomEvent("warning",{detail:"Only one loader OR adapter is allowed, the first one will be used, the others dismissed",bubbles:!0,cancelable:!0})),this._removeChildrenInList(this,t,1,this.childElementCount))}},{key:"_removeChildrenInList",value:function(t,e,n,r){for(var i=n;i<r&&i<e.length;i++)t.removeChild(e[i])}},{key:"_addLoaderListeners",value:function(){var t=this;this.addEventListener("load",function(e){if(e.target!==t){e.stopPropagation();try{if(e.detail.payload.errorMessage)throw e.detail.payload.errorMessage;t.parseEntry(e.detail.payload),t.filterData(),t.dispatchEvent(new CustomEvent("load",{detail:{payload:t._adaptedData},bubbles:!0,cancelable:!0}))}catch(e){t.dispatchEvent(new CustomEvent("error",{detail:e,bubbles:!0,cancelable:!0}))}}})}},{key:"adaptedData",get:function(){return this._adaptedData}},{key:"basicHelper",get:function(){return this._basicHelper}}])&&f(n.prototype,r),i&&f(n,i),e}();e.a=v},591:function(t,e,n){"use strict";var r=n(586),i=n(585);var a=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},o=n(581),s=1,c=2;var u=function(t,e,n,r,u,l){var h=n&s,f=t.length,d=e.length;if(f!=d&&!(h&&d>f))return!1;var p=l.get(t);if(p&&l.get(e))return p==e;var y=-1,g=!0,b=n&c?new i.a:void 0;for(l.set(t,e),l.set(e,t);++y<f;){var v=t[y],_=e[y];if(r)var m=h?r(_,v,y,e,t,l):r(v,_,y,t,e,l);if(void 0!==m){if(m)continue;g=!1;break}if(b){if(!a(e,function(t,e){if(!Object(o.a)(b,e)&&(v===t||u(v,t,n,r,l)))return b.push(e)})){g=!1;break}}else if(v!==_&&!u(v,_,n,r,l)){g=!1;break}}return l.delete(t),l.delete(e),g},l=n(561),h=n(599),f=n(609);var d=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n},p=n(580),y=1,g=2,b="[object Boolean]",v="[object Date]",_="[object Error]",m="[object Map]",w="[object Number]",O="[object RegExp]",j="[object Set]",S="[object String]",E="[object Symbol]",k="[object ArrayBuffer]",x="[object DataView]",A=l.a?l.a.prototype:void 0,P=A?A.valueOf:void 0;var L=function(t,e,n,r,i,a,o){switch(n){case x:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case k:return!(t.byteLength!=e.byteLength||!a(new h.a(t),new h.a(e)));case b:case v:case w:return Object(f.a)(+t,+e);case _:return t.name==e.name&&t.message==e.message;case O:case S:return t==e+"";case m:var s=d;case j:var c=r&y;if(s||(s=p.a),t.size!=e.size&&!c)return!1;var l=o.get(t);if(l)return l==e;r|=g,o.set(t,e);var A=u(s(t),s(e),r,i,a,o);return o.delete(t),A;case E:if(P)return P.call(t)==P.call(e)}return!1},F=n(600),C=1,T=Object.prototype.hasOwnProperty;var R=function(t,e,n,r,i,a){var o=n&C,s=Object(F.a)(t),c=s.length;if(c!=Object(F.a)(e).length&&!o)return!1;for(var u=c;u--;){var l=s[u];if(!(o?l in e:T.call(e,l)))return!1}var h=a.get(t);if(h&&a.get(e))return h==e;var f=!0;a.set(t,e),a.set(e,t);for(var d=o;++u<c;){var p=t[l=s[u]],y=e[l];if(r)var g=o?r(y,p,l,e,t,a):r(p,y,l,t,e,a);if(!(void 0===g?p===y||i(p,y,n,r,a):g)){f=!1;break}d||(d="constructor"==l)}if(f&&!d){var b=t.constructor,v=e.constructor;b!=v&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof v&&v instanceof v)&&(f=!1)}return a.delete(t),a.delete(e),f},D=n(565),M=n(550),H=n(608),V=n(638),W=1,q="[object Arguments]",N="[object Array]",I="[object Object]",G=Object.prototype.hasOwnProperty;var K=function(t,e,n,i,a,o){var s=Object(M.a)(t),c=Object(M.a)(e),l=s?N:Object(D.a)(t),h=c?N:Object(D.a)(e),f=(l=l==q?I:l)==I,d=(h=h==q?I:h)==I,p=l==h;if(p&&Object(H.a)(t)){if(!Object(H.a)(e))return!1;s=!0,f=!1}if(p&&!f)return o||(o=new r.a),s||Object(V.a)(t)?u(t,e,n,i,a,o):L(t,e,l,n,i,a,o);if(!(n&W)){var y=f&&G.call(t,"__wrapped__"),g=d&&G.call(e,"__wrapped__");if(y||g){var b=y?t.value():t,v=g?e.value():e;return o||(o=new r.a),a(b,v,n,i,o)}}return!!p&&(o||(o=new r.a),R(t,e,n,i,a,o))},Y=n(552);var Q=function t(e,n,r,i,a){return e===n||(null==e||null==n||!Object(Y.a)(e)&&!Object(Y.a)(n)?e!=e&&n!=n:K(e,n,r,i,t,a))},z=1,B=2;var Z=function(t,e,n,i){var a=n.length,o=a,s=!i;if(null==t)return!o;for(t=Object(t);a--;){var c=n[a];if(s&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++a<o;){var u=(c=n[a])[0],l=t[u],h=c[1];if(s&&c[2]){if(void 0===l&&!(u in t))return!1}else{var f=new r.a;if(i)var d=i(l,h,u,t,e,f);if(!(void 0===d?Q(h,l,z|B,i,f):d))return!1}}return!0},U=n(556);var X=function(t){return t==t&&!Object(U.a)(t)},$=n(553);var J=function(t){for(var e=Object($.a)(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,X(i)]}return e};var tt=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}};var et=function(t){var e=J(t);return 1==e.length&&e[0][2]?tt(e[0][0],e[0][1]):function(n){return n===t||Z(n,t,e)}},nt=n(569);var rt=function(t,e){return null!=t&&e in Object(t)},it=n(574),at=n(612),ot=n(633),st=n(631),ct=n(558);var ut=function(t,e,n){for(var r=-1,i=(e=Object(it.a)(e,t)).length,a=!1;++r<i;){var o=Object(ct.a)(e[r]);if(!(a=null!=t&&n(t,o)))break;t=t[o]}return a||++r!=i?a:!!(i=null==t?0:t.length)&&Object(st.a)(i)&&Object(ot.a)(o,i)&&(Object(M.a)(t)||Object(at.a)(t))};var lt=function(t,e){return null!=t&&ut(t,e,rt)},ht=n(564),ft=1,dt=2;var pt=function(t,e){return Object(ht.a)(t)&&X(e)?tt(Object(ct.a)(t),e):function(n){var r=Object(nt.a)(n,t);return void 0===r&&r===e?lt(n,t):Q(e,r,ft|dt)}},yt=n(566);var gt=function(t){return function(e){return null==e?void 0:e[t]}},bt=n(570);var vt=function(t){return function(e){return Object(bt.a)(e,t)}};var _t=function(t){return Object(ht.a)(t)?gt(Object(ct.a)(t)):vt(t)};function mt(t){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.a=function(t){return"function"==typeof t?t:null==t?yt.a:"object"==mt(t)?Object(M.a)(t)?pt(t[0],t[1]):et(t):_t(t)}},592:function(t,e,n){"use strict";var r=n(569);function i(t,e,n,r,i,a,o){try{var s=t[a](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function a(t){return function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function s(t){i(o,r,a,s,c,"next",t)}function c(t){i(o,r,a,s,c,"throw",t)}s(void 0)})}}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,n=null,r=[{key:"initStore",value:function(){window[t.storeSymbol]=new Map}},{key:"loadFromCache",value:function(e){return t.storeRef.get(e)}},{key:"storeInCache",value:function(e,n){var r=n.then(function(){var t=a(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(200===n.status){t.next=2;break}throw Error("Request Failed: Status = ".concat(n.status,"; URI = ").concat(e,"; Time = ").concat(new Date));case 2:return t.next=4,n.json();case 4:return t.t0=t.sent,t.t1=n.headers,t.abrupt("return",{payload:t.t0,headers:t.t1});case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}());return t.storeRef.set(e,r),t.loadFromCache(e)}},{key:"fetch",value:function(){var e=a(regeneratorRuntime.mark(function e(n){var r,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t.storeRef&&t.initStore(),void 0===(r=t.loadFromCache(n.src))){e.next=6;break}return e.abrupt("return",r);case 6:if(!n.src){e.next=12;break}return i=new Headers({accept:"application/json"}),a=window.fetch(n.src,{headers:i}),e.abrupt("return",t.storeInCache(n.src,a));case 12:return e.abrupt("return",{payload:JSON.parse(n.textContent)});case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"storeSymbol",get:function(){return Symbol.for("protvista-request-manager-store")}},{key:"storeRef",get:function(){return window[t.storeSymbol]}}],n&&o(e.prototype,n),r&&o(e,r),t}();function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(t,e,n,r,i,a,o){try{var s=t[a](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function h(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),t}function p(t){var e="function"==typeof Map?new Map:void 0;return(p=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return y(t,arguments,b(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),g(r,t)})(t)}function y(t,e,n){return(y=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&g(i,n.prototype),i}).apply(null,arguments)}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(function(t){return t.matches('source[src], script[type="application/json"]')})},_=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=h(this,b(e).call(this)))._data=null,t.selector=(t.getAttribute("selector")||"").trim()||function(t){return t},t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(e,p(HTMLElement)),d(e,[{key:"fetch",value:function(){var t,e=(t=regeneratorRuntime.mark(function t(){var e,n,i,a,o,c,l,h,f;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((e=v.apply(void 0,u(this.children))).length){t.next=3;break}return t.abrupt("return");case 3:n=[],a=!0,o=!1,c=void 0,t.prev=7,l=e[Symbol.iterator]();case 9:if(a=(h=l.next()).done){t.next=26;break}return f=h.value,t.prev=11,t.next=14,s.fetch(f);case 14:return(i=t.sent).srcElement=f,i.src=f.src,t.abrupt("break",26);case 20:t.prev=20,t.t0=t.catch(11),n.push(t.t0);case 23:a=!0,t.next=9;break;case 26:t.next=32;break;case 28:t.prev=28,t.t1=t.catch(7),o=!0,c=t.t1;case 32:t.prev=32,t.prev=33,a||null==l.return||l.return();case 35:if(t.prev=35,!o){t.next=38;break}throw c;case 38:return t.finish(35);case 39:return t.finish(32);case 40:if(i){t.next=44;break}this._errors=n;try{this.dispatchEvent(new CustomEvent("error",{detail:n,bubbles:!0,cancelable:!0}))}catch(t){console.error(t)}return t.abrupt("return");case 44:return"string"==typeof this.selector?this._data=Object(r.a)(i.payload,this.selector):this._data=this.selector(i.payload),i.payload=this.data,this.dispatchEvent(new CustomEvent("load",{detail:i,bubbles:!0,cancelable:!0})),t.abrupt("return",i);case 48:case"end":return t.stop()}},t,this,[[7,28,32,40],[11,20],[33,,35,39]])}),function(){var e=this,n=arguments;return new Promise(function(r,i){var a=t.apply(e,n);function o(t){l(a,r,i,o,s,"next",t)}function s(t){l(a,r,i,o,s,"throw",t)}o(void 0)})});return function(){return e.apply(this,arguments)}}()},{key:"data",get:function(){return this._data}},{key:"loaded",get:function(){return!!this.data}},{key:"errors",get:function(){return this._errors}},{key:"selector",get:function(){return this._selector},set:function(t){this._selector=t}}],[{key:"is",get:function(){return"data-loader"}}]),d(e,[{key:"connectedCallback",value:function(){this.fetch()}}]),e}();_.fetch=window.fetch.bind(window);e.a=_},593:function(t,e,n){"use strict";var r=n(559),i=n(554),a=Object(r.a)(i.a,"Set");e.a=a},594:function(t,e,n){"use strict";var r=n(559),i=function(){try{var t=Object(r.a)(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();e.a=i},595:function(t,e,n){"use strict";e.a=function(){return[]}},596:function(t,e,n){"use strict";var r=n(568),i=n(550);e.a=function(t,e,n){var a=e(t);return Object(i.a)(t)?a:Object(r.a)(a,n(t))}},597:function(t,e,n){"use strict";var r=n(602);e.a=function(t,e){return!(null==t||!t.length)&&Object(r.a)(t,e,0)>-1}},598:function(t,e,n){"use strict";e.a=function(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}},599:function(t,e,n){"use strict";var r=n(554).a.Uint8Array;e.a=r},600:function(t,e,n){"use strict";var r=n(596),i=n(578),a=n(553);e.a=function(t){return Object(r.a)(t,a.a,i.a)}},610:function(t,e,n){"use strict";var r=n(557),i=n(552);e.a=function(t){return Object(i.a)(t)&&Object(r.a)(t)}},611:function(t,e,n){"use strict";var r=n(566);var i=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},a=Math.max;var o=function(t,e,n){return e=a(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,s=a(r.length-e,0),c=Array(s);++o<s;)c[o]=r[e+o];o=-1;for(var u=Array(e+1);++o<e;)u[o]=r[o];return u[e]=n(c),i(t,this,u)}};var s=function(t){return function(){return t}},c=n(594),u=c.a?function(t,e){return Object(c.a)(t,"toString",{configurable:!0,enumerable:!1,value:s(e),writable:!0})}:r.a,l=800,h=16,f=Date.now;var d=function(t){var e=0,n=0;return function(){var r=f(),i=h-(r-n);if(n=r,i>0){if(++e>=l)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(u);e.a=function(t,e){return d(o(t,e,r.a),t+"")}},613:function(t,e,n){"use strict";(function(t){var r=n(554);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a="object"==("undefined"==typeof exports?"undefined":i(exports))&&exports&&!exports.nodeType&&exports,o=a&&"object"==i(t)&&t&&!t.nodeType&&t,s=o&&o.exports===a?r.a.Buffer:void 0,c=s?s.allocUnsafe:void 0;e.a=function(t,e){if(e)return t.slice();var n=t.length,r=c?c(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(623)(t))},614:function(t,e,n){"use strict";var r=n(610);e.a=function(t){return Object(r.a)(t)?t:[]}},615:function(t,e,n){"use strict";var r=n(585),i=n(597),a=n(598),o=n(560),s=n(587),c=n(581),u=Math.min;e.a=function(t,e,n){for(var l=n?a.a:i.a,h=t[0].length,f=t.length,d=f,p=Array(f),y=1/0,g=[];d--;){var b=t[d];d&&e&&(b=Object(o.a)(b,Object(s.a)(e))),y=u(b.length,y),p[d]=!n&&(e||h>=120&&b.length>=120)?new r.a(d&&b):void 0}b=t[0];var v=-1,_=p[0];t:for(;++v<h&&g.length<y;){var m=b[v],w=e?e(m):m;if(m=n||0!==m?m:0,!(_?Object(c.a)(_,w):l(g,w,n))){for(d=f;--d;){var O=p[d];if(!(O?Object(c.a)(O,w):l(t[d],w,n)))continue t}_&&_.push(w),g.push(m)}}return g}},617:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n(589);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,s(e).call(this))}var n,i,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,r["a"]),n=e,(i=[{key:"parseEntry",value:function(t){var e=this;return this._adaptedData=t.features,this._adaptedData&&0!==this._adaptedData.length&&(this._adaptedData=this._basicHelper.renameProperties(this._adaptedData),this._adaptedData.map(function(t){return t.tooltipContent=e._basicHelper.formatTooltip(t)})),this._adaptedData}}])&&a(n.prototype,i),u&&a(n,u),e}()},618:function(t,e,n){"use strict";var r=n(586),i=n(601),a=n(579),o=n(609),s=Object.prototype.hasOwnProperty;var c=function(t,e,n){var r=t[e];s.call(t,e)&&Object(o.a)(r,n)&&(void 0!==n||e in t)||Object(a.a)(t,e,n)};var u=function(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var u=e[o],l=r?r(n[u],t[u],u,n,t):void 0;void 0===l&&(l=t[u]),i?Object(a.a)(n,u,l):c(n,u,l)}return n},l=n(553);var h=function(t,e){return t&&u(e,Object(l.a)(e),t)},f=n(632),d=n(556),p=n(605);var y=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e},g=Object.prototype.hasOwnProperty;var b=function(t){if(!Object(d.a)(t))return y(t);var e=Object(p.a)(t),n=[];for(var r in t)("constructor"!=r||!e&&g.call(t,r))&&n.push(r);return n},v=n(557);var _=function(t){return Object(v.a)(t)?Object(f.a)(t,!0):b(t)};var m=function(t,e){return t&&u(e,_(e),t)},w=n(613);var O=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},j=n(578);var S=function(t,e){return u(t,Object(j.a)(t),e)},E=n(568),k=n(630),x=Object(k.a)(Object.getPrototypeOf,Object),A=n(595),P=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Object(E.a)(e,Object(j.a)(t)),t=x(t);return e}:A.a;var L=function(t,e){return u(t,P(t),e)},F=n(600),C=n(596);var T=function(t){return Object(C.a)(t,_,P)},R=n(565),D=Object.prototype.hasOwnProperty;var M=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&D.call(t,"index")&&(n.index=t.index,n.input=t.input),n},H=n(599);var V=function(t){var e=new t.constructor(t.byteLength);return new H.a(e).set(new H.a(t)),e};var W=function(t,e){var n=e?V(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},q=/\w*$/;var N=function(t){var e=new t.constructor(t.source,q.exec(t));return e.lastIndex=t.lastIndex,e},I=n(561),G=I.a?I.a.prototype:void 0,K=G?G.valueOf:void 0;var Y=function(t){return K?Object(K.call(t)):{}};var Q=function(t,e){var n=e?V(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},z="[object Boolean]",B="[object Date]",Z="[object Map]",U="[object Number]",X="[object RegExp]",$="[object Set]",J="[object String]",tt="[object Symbol]",et="[object ArrayBuffer]",nt="[object DataView]",rt="[object Float32Array]",it="[object Float64Array]",at="[object Int8Array]",ot="[object Int16Array]",st="[object Int32Array]",ct="[object Uint8Array]",ut="[object Uint8ClampedArray]",lt="[object Uint16Array]",ht="[object Uint32Array]";var ft=function(t,e,n){var r=t.constructor;switch(e){case et:return V(t);case z:case B:return new r(+t);case nt:return W(t,n);case rt:case it:case at:case ot:case st:case ct:case ut:case lt:case ht:return Q(t,n);case Z:return new r;case U:case J:return new r(t);case X:return N(t);case $:return new r;case tt:return Y(t)}},dt=Object.create,pt=function(){function t(){}return function(e){if(!Object(d.a)(e))return{};if(dt)return dt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();var yt=function(t){return"function"!=typeof t.constructor||Object(p.a)(t)?{}:pt(x(t))},gt=n(550),bt=n(608),vt=n(552),_t="[object Map]";var mt=function(t){return Object(vt.a)(t)&&Object(R.a)(t)==_t},wt=n(587),Ot=n(606),jt=Ot.a&&Ot.a.isMap,St=jt?Object(wt.a)(jt):mt,Et="[object Set]";var kt=function(t){return Object(vt.a)(t)&&Object(R.a)(t)==Et},xt=Ot.a&&Ot.a.isSet,At=xt?Object(wt.a)(xt):kt,Pt=1,Lt=2,Ft=4,Ct="[object Arguments]",Tt="[object Function]",Rt="[object GeneratorFunction]",Dt="[object Object]",Mt={};Mt[Ct]=Mt["[object Array]"]=Mt["[object ArrayBuffer]"]=Mt["[object DataView]"]=Mt["[object Boolean]"]=Mt["[object Date]"]=Mt["[object Float32Array]"]=Mt["[object Float64Array]"]=Mt["[object Int8Array]"]=Mt["[object Int16Array]"]=Mt["[object Int32Array]"]=Mt["[object Map]"]=Mt["[object Number]"]=Mt[Dt]=Mt["[object RegExp]"]=Mt["[object Set]"]=Mt["[object String]"]=Mt["[object Symbol]"]=Mt["[object Uint8Array]"]=Mt["[object Uint8ClampedArray]"]=Mt["[object Uint16Array]"]=Mt["[object Uint32Array]"]=!0,Mt["[object Error]"]=Mt[Tt]=Mt["[object WeakMap]"]=!1;e.a=function t(e,n,a,o,s,u){var f,p=n&Pt,y=n&Lt,g=n&Ft;if(a&&(f=s?a(e,o,s,u):a(e)),void 0!==f)return f;if(!Object(d.a)(e))return e;var b=Object(gt.a)(e);if(b){if(f=M(e),!p)return O(e,f)}else{var v=Object(R.a)(e),_=v==Tt||v==Rt;if(Object(bt.a)(e))return Object(w.a)(e,p);if(v==Dt||v==Ct||_&&!s){if(f=y||_?{}:yt(e),!p)return y?L(e,m(f,e)):S(e,h(f,e))}else{if(!Mt[v])return s?e:{};f=ft(e,v,p)}}u||(u=new r.a);var j=u.get(e);if(j)return j;if(u.set(e,f),At(e))return e.forEach(function(r){f.add(t(r,n,a,r,e,u))}),f;if(St(e))return e.forEach(function(r,i){f.set(i,t(r,n,a,i,e,u))}),f;var E=g?y?T:F.a:y?keysIn:l.a,k=b?void 0:E(e);return Object(i.a)(k||e,function(r,i){k&&(r=e[i=r]),c(f,i,t(r,n,a,i,e,u))}),f}},619:function(t,e,n){"use strict";var r=n(585),i=n(597),a=n(598),o=n(581),s=n(593);var c=function(){},u=n(580),l=s.a&&1/Object(u.a)(new s.a([,-0]))[1]==1/0?function(t){return new s.a(t)}:c,h=200;e.a=function(t,e,n){var s=-1,c=i.a,f=t.length,d=!0,p=[],y=p;if(n)d=!1,c=a.a;else if(f>=h){var g=e?null:l(t);if(g)return Object(u.a)(g);d=!1,c=o.a,y=new r.a}else y=e?[]:p;t:for(;++s<f;){var b=t[s],v=e?e(b):b;if(b=n||0!==b?b:0,d&&v==v){for(var _=y.length;_--;)if(y[_]===v)continue t;e&&y.push(v),p.push(b)}else c(y,v,n)||(y!==p&&y.push(v),p.push(b))}return p}},620:function(t,e,n){"use strict";var r=n(568),i=n(561),a=n(612),o=n(550),s=i.a?i.a.isConcatSpreadable:void 0;var c=function(t){return Object(o.a)(t)||Object(a.a)(t)||!!(s&&t&&t[s])};e.a=function t(e,n,i,a,o){var s=-1,u=e.length;for(i||(i=c),o||(o=[]);++s<u;){var l=e[s];n>0&&i(l)?n>1?t(l,n-1,i,a,o):Object(r.a)(o,l):a||(o[o.length]=l)}return o}},621:function(t,e,n){"use strict";var r=n(579);var i=function(t,e,n,r){for(var i=-1,a=null==t?0:t.length;++i<a;){var o=t[i];e(r,o,n(o),t)}return r},a=n(577);var o=function(t,e,n,r){return Object(a.a)(t,function(t,i,a){e(r,t,n(t),a)}),r},s=n(591),c=n(550);var u=function(t,e){return function(n,r){var a=Object(c.a)(n)?i:o,u=e?e():{};return a(n,t,Object(s.a)(r,2),u)}},l=Object.prototype.hasOwnProperty,h=u(function(t,e,n){l.call(t,n)?t[n].push(e):Object(r.a)(t,n,[e])});e.a=h},625:function(t,e,n){"use strict";var r=n(555),i=n(571);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t,e,n,r){return(c="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(t,e,n,r){var i,a=l(t,e);if(a){if((i=Object.getOwnPropertyDescriptor(a,e)).set)return i.set.call(r,n),!0;if(!i.writable)return!1}if(i=Object.getOwnPropertyDescriptor(r,e)){if(!i.writable)return!1;i.value=n,Object.defineProperty(r,e,i)}else!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(r,e,n);return!0})(t,e,n,r)}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=l(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function l(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,h(e).apply(this,arguments))}var n,a,l;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,i["a"]),n=e,l=[{key:"observedAttributes",get:function(){return i.a.observedAttributes.concat("highlightstart","highlightend")}}],(a=[{key:"connectedCallback",value:function(){u(h(e.prototype),"connectedCallback",this).call(this),this.sequence=this.getAttribute("sequence"),this.sequence&&this._createSequence()}},{key:"_getCharWidth",value:function(){this.seq_g.append("text").attr("class","base").text("T"),this.chWidth=.8*this.seq_g.select("text.base").node().getBBox().width,this.seq_g.select("text.base").remove()}},{key:"_createSequence",value:function(){!function(t,e,n,r,i){if(!c(t,e,n,r||t)&&i)throw new Error("failed to set property")}(h(e.prototype),"svg",Object(r.l)(this).append("div").attr("class","").append("svg").attr("id","").attr("width",this.width).attr("height",this._height),this,!0),this.seq_bg=u(h(e.prototype),"svg",this).append("g").attr("class","background"),this.axis=u(h(e.prototype),"svg",this).append("g").attr("class","x axis"),this.seq_g=u(h(e.prototype),"svg",this).append("g").attr("class","sequence").attr("transform","translate(0,".concat(.75*this._height,")")),this._getCharWidth(),this.trackHighlighter.appendHighlightTo(this.svg),this.refresh()}},{key:"refresh",value:function(){var t=this;if(this.axis){var e=this.getSingleBaseWidth(),n=e-this.chWidth,i=e/2,a=Math.round(Math.max(0,this._displaystart-2)),o=Math.round(Math.min(this.sequence.length,this._displayend+1)),s=n<0?[]:this.sequence.slice(a,o).split("").map(function(t,e){return{start:1+a+e,end:1+a+e,aa:t}});this.xAxis=Object(r.a)(this.xScale).tickFormat(function(t){return Number.isInteger(t)?t:""}).ticks(3,"s"),this.axis.call(this.xAxis),this.axis.attr("transform","translate(".concat(this.margin.left+i,",0)")),this.axis.select(".domain").remove(),this.axis.selectAll(".tick line").remove(),this.bases=this.seq_g.selectAll("text.base").data(s,function(t){return t.start}),this.bases.enter().append("text").attr("class","base").attr("text-anchor","middle").attr("x",function(e){return t.getXFromSeqPosition(e.start)+i}).text(function(t){return t.aa}).style("pointer-events","none").style("font-family","monospace"),this.bases.exit().remove(),this.bases.attr("x",function(e){return t.getXFromSeqPosition(e.start)+i}),this.background=this.seq_bg.selectAll("rect.base_bg").data(s,function(t){return t.start}),this.background.enter().append("rect").attr("class","base_bg feature").attr("height",this._height).merge(this.background).attr("width",e).attr("fill",function(t){return Math.round(t.start)%2?"#ccc":"#eee"}).attr("x",function(e){return t.getXFromSeqPosition(e.start)}).call(this.bindEvents,this),this.background.exit().remove(),this.seq_g.style("opacity",Math.min(1,n)),this.background.style("opacity",Math.min(1,n)),this._updateHighlight()}}},{key:"_updateHighlight",value:function(){this.trackHighlighter.updateHighlight()}},{key:"data",get:function(){return this.sequence},set:function(t){"string"==typeof t?this.sequence=t:"sequence"in t&&(this.sequence=t.sequence),this.sequence&&!u(h(e.prototype),"svg",this)?this._createSequence():this.refresh()}}])&&o(n.prototype,a),l&&o(n,l),e}();e.a=d},626:function(t,e,n){"use strict";var r=n(555);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){var e="function"==typeof Map?new Map:void 0;return(s=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return c(t,arguments,l(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),u(r,t)})(t)}function c(t,e,n){return(c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&u(i,n.prototype),i}).apply(null,arguments)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=10,f=10,d=10,p=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=o(this,l(e).call(this)))._x=null,t.dontDispatch=!1,t}var n,i,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,s(HTMLElement)),n=e,c=[{key:"observedAttributes",get:function(){return["length","displaystart","displayend","highlightStart","highlightEnd","width"]}}],(i=[{key:"connectedCallback",value:function(){this.style.display="block",this.style.width="100%",this.width=this.offsetWidth,this._length=parseFloat(this.getAttribute("length")),this._displaystart=parseFloat(this.getAttribute("displaystart"))||1,this._displayend=parseFloat(this.getAttribute("displayend"))||this._length,this._highlightStart=parseFloat(this.getAttribute("highlightStart")),this._highlightEnd=parseFloat(this.getAttribute("highlightEnd")),this._onResize=this._onResize.bind(this),this._createNavRuler()}},{key:"disconnectedCallback",value:function(){this._ro?this._ro.unobserve(this):window.removeEventListener(this._onResize)}},{key:"attributeChangedCallback",value:function(t,e,n){e!==n&&(this["_".concat(t)]=parseFloat(n),this._updateNavRuler())}},{key:"_createNavRuler",value:function(){var t=this;this._x=Object(r.i)().range([d,this.width-h]),this._x.domain([1,this._length]),this._svg=Object(r.l)(this).append("div").attr("class","").append("svg").attr("id","").attr("width",this.width).attr("height",40),this._xAxis=Object(r.a)(this._x),this._displaystartLabel=this._svg.append("text").attr("class","start-label").attr("x",0).attr("y",40-f),this._displayendLabel=this._svg.append("text").attr("class","end-label").attr("x",this.width).attr("y",40-f).attr("text-anchor","end"),this._axis=this._svg.append("g").attr("class","x axis").call(this._xAxis),this._viewport=Object(r.d)().extent([[d,0],[this.width-h,20.4]]).on("brush",function(){r.e.selection&&(t._displaystart=Object(r.g)("d")(t._x.invert(r.e.selection[0])),t._displayend=Object(r.g)("d")(t._x.invert(r.e.selection[1])),t.dontDispatch||t.dispatchEvent(new CustomEvent("change",{detail:{displayend:t._displayend,displaystart:t._displaystart,extra:{transform:r.e.transform}},bubbles:!0,cancelable:!0})),t._updateLabels(),t._updatePolygon())}),this._brushG=this._svg.append("g").attr("class","brush").call(this._viewport),this._brushG.call(this._viewport.move,[this._x(this._displaystart),this._x(this._displayend)]),this.polygon=this._svg.append("polygon").attr("class","zoom-polygon").attr("fill","#777").attr("fill-opacity","0.3"),this._updateNavRuler(),"ResizeObserver"in window&&(this._ro=new ResizeObserver(this._onResize),this._ro.observe(this)),window.addEventListener("resize",this._onResize)}},{key:"_onResize",value:function(){this.width=this.offsetWidth,this._x=this._x.range([d,this.width-h]),this._svg.attr("width",this.width),this._axis.call(this._xAxis),this._viewport.extent([[d,0],[this.width-h,20.4]]),this._brushG.call(this._viewport),this._updateNavRuler()}},{key:"_updateNavRuler",value:function(){this._x&&(this._updatePolygon(),this._updateLabels(),this._brushG&&(this.dontDispatch=!0,this._brushG.call(this._viewport.move,[this._x(this._displaystart),this._x(this._displayend)]),this.dontDispatch=!1))}},{key:"_updateLabels",value:function(){this._displaystartLabel&&this._displaystartLabel.text(this._displaystart),this._displayendLabel&&this._displayendLabel.attr("x",this.width).text(this._displayend)}},{key:"_updatePolygon",value:function(){this.polygon&&this.polygon.attr("points","".concat(this._x(this._displaystart),",").concat(20,"\n        ").concat(this._x(this._displayend),",").concat(20,"\n        ").concat(this.width,",").concat(40,"\n        0,").concat(40))}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"isManaged",get:function(){return!0}}])&&a(n.prototype,i),c&&a(n,c),e}();e.a=p},628:function(t,e,n){"use strict";var r=n(621),i=n(620);var a=function(t){return null!=t&&t.length?Object(i.a)(t,1):[]},o=n(591),s=n(619);var c=function(t,e){return t&&t.length?Object(s.a)(t,Object(o.a)(e,2)):[]},u=n(576),l=n(572);var h=function(t,e){return t&&Object(u.a)(t,Object(l.a)(e))},f=n(560),d=n(615),p=n(611),y=n(614);var g=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0},b=Object(p.a)(function(t){var e=g(t),n=Object(f.a)(t,y.a);return e===g(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?Object(d.a)(n,Object(o.a)(e,2)):[]}),v=n(589),_=n(627),m=n(618),w=1,O=4;var j=function(t){return Object(m.a)(t,w|O)},S="#990000",E="#99cc00",k="#002594",x="#8FE3FF",A="#009e73",P=[/disease/i,/pathogenic\b/i,/risk factor/i],L=[/benign/i],F=[/uncertain/i,/conflicting/i,/unclassified/i],C=function(t,e){return e.some(function(e){return e.test(t)})},T=[{name:"disease",type:{name:"consequence",text:"Filter Consequence"},options:{labels:["Likely disease"],colors:[S]}},{name:"predicted",type:{name:"consequence",text:"Filter Consequence"},options:{labels:["Predicted deleterious","Predicted benign"],colors:[k,x]}},{name:"nonDisease",type:{name:"consequence",text:"Filter Consequence"},options:{labels:["Likely benign"],colors:[E]}},{name:"uncertain",type:{name:"consequence",text:"Filter Consequence"},options:{labels:["Uncertain"],colors:[A]}},{name:"UniProt",type:{name:"provenance",text:"Filter Provenance"},options:{labels:["UniProt reviewed"],colors:["#e5e5e5"]}},{name:"ClinVar",type:{name:"provenance",text:"Filter Provenance"},options:{labels:["ClinVar reviewed"],colors:["#e5e5e5"]}},{name:"LSS",type:{name:"provenance",text:"Filter Provenance"},options:{labels:["Large scale studies"],colors:["#e5e5e5"]}}],R={disease:{applyFilter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return j(t).filter(function(t){return C(t.clinicalSignificances,P)})}},predicted:{applyFilter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return j(t).filter(function(t){return void 0!==t.polyphenScore||void 0!==t.siftScore})}},nonDisease:{applyFilter:function(t){return(j(t)||[]).filter(function(t){return C(t.clinicalSignificances,L)})}},uncertain:{applyFilter:function(t){return(j(t)||[]).filter(function(t){return void 0===t.clinicalSignificances&&void 0===t.polyphenScore&&void 0===t.siftScore||C(t.clinicalSignificances,F)})}},UniProt:{applyFilter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return j(t).filter(function(t){return t.xrefNames&&(t.xrefNames.includes("uniprot")||t.xrefNames.includes("UniProt"))})}},ClinVar:{applyFilter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return j(t).filter(function(t){return t.xrefNames&&(t.xrefNames.includes("ClinVar")||t.xrefNames.includes("clinvar"))})}},LSS:{applyFilter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(j(t)||[]).filter(function(t){return"large_scale_study"===t.sourceType||"mixed"===t.sourceType})}}},D=Object(_.b)().domain([0,1]).range([k,x]),M=function(t){return R.disease.applyFilter([t]).length>0?S:R.nonDisease.applyFilter([t]).length>0?E:R.uncertain.applyFilter([t]).length>0?A:R.predicted.applyFilter([t]).length>0?H(t.polyphenScore,t.siftScore):A},H=function(t,e){return D((e||0+(1-t?t:1))/(t&&e?2:1))},V=function(t){return t},W=T;function q(t){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function N(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function G(t,e){return!e||"object"!==q(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function K(t,e,n){return(K="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Y(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Y(t){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Q(t,e){return(Q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"a",function(){return B});var z=function(t,e){return(n=t,r=R[n],r||console.error("No filter found for: ".concat(n)),r||{applyFilter:V}).applyFilter(e);var n,r},B=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),G(this,Y(e).call(this))}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Q(t,e)}(e,v["a"]),n=e,o=[{key:"observedAttributes",get:function(){return["activefilters"]}}],(i=[{key:"attributeChangedCallback",value:function(t,e,n){if(e!==n){if("activefilters"!==t)return;var i=this._adaptedData,o=i.sequence,s=i.variants;if(!(n=n.trim()))return void this._fireEvent("load",{payload:{sequence:o,variants:s}});var u=n.split(","),l=Object(r.a)(u,function(t){return t.split(":")[0]}),f=[];h(l,function(t){var e=function(t,e,n){return c(a(e.map(function(t){return t.split(":")[1]}).map(function(e){return z(e,t)})),function(t){return t[n]})}(s,t,"accession");f.push(e)}),f=a(b.apply(void 0,N(f).concat([function(t){return t.accession}]))),f=c(f,"accession"),this._fireEvent("load",{payload:{sequence:o,variants:f}})}}},{key:"connectedCallback",value:function(){K(Y(e.prototype),"connectedCallback",this).call(this),this._fireEvent("change",{type:"filters",value:JSON.stringify(W)})}},{key:"parseEntry",value:function(t){var e=this,n=t.sequence,r=t.features;if(n){var i=r.map(function(t){return{accession:t.genomicLocation,variant:t.alternativeSequence,start:t.begin,end:t.end,tooltipContent:e.formatTooltip(t),color:M(t),association:t.association,sourceType:t.sourceType,xrefNames:e.getSourceType(t.xrefs,t.sourceType),clinicalSignificances:t.clinicalSignificances,polyphenScore:t.polyphenScore,siftScore:t.siftScore}});this._adaptedData={sequence:n,variants:i}}}},{key:"getSourceType",value:function(t,e){var n=t.map(function(t){return t.name});return"uniprot"!==e&&"mixed"!==e||n.push("uniprot"),n}},{key:"formatTooltip",value:function(t){return t.description&&(t.descriptionArray=this.getDescriptionsAsArray(t.description)),"\n            <table>\n                <tr><td>Variant</td><td>".concat(t.wildType," > ").concat(t.alternativeSequence,"</td></tr>\n                ").concat(t.frequency?"<tr><td>Frequency (MAF)</td><td>".concat(t.frequency,"</td></tr>"):"","\n                ").concat(t.siftScore?"<tr><td>SIFT</td><td>".concat(t.siftPrediction," ").concat(t.siftScore,"</td></tr>"):"","\n                ").concat(t.polyphenScore?"<tr><td>Polyphen</td><td>".concat(t.polyphenPrediction," ").concat(t.polyphenScore,"</td></tr>"):"","\n                ").concat(t.consequenceType?"<tr><td>Consequence</td><td>".concat(t.consequenceType,"</td></tr>"):"","\n                ").concat(t.somaticStatus?"<tr><td>Somatic</td><td>".concat(0===t.somaticStatus?"No":"Yes","</td></tr>"):"","\n                ").concat(t.genomicLocation?"<tr><td>Location</td><td>".concat(t.genomicLocation,"</td></tr>"):"","\n                ").concat("UniProt"===t.sourceType||"mixed"===t.sourceType?this.getUniProtHTML(t):"","\n                ").concat("large_scale_study"===t.sourceType||"mixed"===t.sourceType?this.getLSSHTML(t):"","\n            </table>\n        ")}},{key:"getUniProtHTML",value:function(t){return'<tr><td colspan="2"><h4>UniProt</h4></td></tr>\n        '.concat(t.descriptionArray&&t.descriptionArray.UP?"<tr><td>Description</td><td>".concat(t.descriptionArray.UP.join("; "),"</td></tr>"):"","\n        ").concat(t.ftId?"<tr><td>Feature ID</td><td>".concat(t.ftId,"</td></tr>"):"","\n        ").concat(t.association?'<tr><td colspan="2"><h5>Disease association</h5></td></tr>\n            '.concat(this.getDiseaseAssociations(t.association)):"","\n        ")}},{key:"getLSSHTML",value:function(t){return'<tr><td colspan="2"><h4>Large scale studies</h4></td></tr>\n        '.concat(t.descriptionArray&&t.descriptionArray.LSS?"<tr><td>Description</td><td>".concat(t.descriptionArray.LSS,"</td></tr>"):"","\n        ").concat(t.frequency?"<tr><td>Frequency (MAF)</td><td>".concat(t.frequency,"</td></tr>"):"","\n        <tr><td>Cross-references</td><td>").concat(this.getXrefs(t.xrefs),"</td></tr>\n        ")}},{key:"getXrefs",value:function(t){return t.map(function(t){return'<a href="'.concat(t.url,'">').concat(t.id,"</a> (").concat(t.name,")")}).join("<br>")}},{key:"getDiseaseAssociations",value:function(t){var e=this;return t.map(function(t){return"\n            <tr><td>Disease</td><td>".concat(t.name,"</td></tr>\n            ").concat(t.xrefs?"<tr><td>Cross-references</td><td>".concat(e.getXrefs(t.xrefs),"</td></tr>"):"","\n            ").concat(e.getEvidenceFromCodes(t.evidences),"\n        ")})}},{key:"getEvidenceFromCodes",value:function(t){return t&&t.map(function(t){return"\n            <tr><td>Evidence</td><td>".concat(t.code,'</td></tr>\n            <tr><td>Source</td><td><a href="').concat(t.source.url,'">').concat(t.source.id,"</a> (").concat(t.source.name,")</td></tr>\n        ")})}},{key:"_fireEvent",value:function(t,e){this.dispatchEvent(new CustomEvent(t,{detail:e,bubbles:!0,cancelable:!0}))}},{key:"getDescriptionsAsArray",value:function(t){var e=t.split(/\[LSS_|\[SWP]: /g);return(e=Object(r.a)(e,function(t){return 0===t.length?"NOTHING":-1!==t.indexOf("]: ")?"LSS":"UP"})).LSS=e.LSS?e.LSS.join("; ").replace(/]: /g,": "):void 0,e}},{key:"isManaged",get:function(){return!0}}])&&I(n.prototype,i),o&&I(n,o),e}()},634:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function o(t){var e="function"==typeof Map?new Map:void 0;return(o=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return s(t,arguments,u(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),c(r,t)})(t)}function s(t,e,n){return(s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&c(i,n.prototype),i}).apply(null,arguments)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=a(this,u(e).call(this))).protvistaElements=new Set,t}var n,r,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,o(HTMLElement)),n=e,s=[{key:"observedAttributes",get:function(){return["attributes"]}}],(r=[{key:"attributeChangedCallback",value:function(t,e,n){if(e!==n&&"attributes"===t){if(this._attributes=n.split(" "),-1!==this._attributes.indexOf("type"))throw new Error("'type' can't be used as a protvista attribute");if(-1!==this._attributes.indexOf("value"))throw new Error("'value' can't be used as a protvista attribute")}}},{key:"_setAttributes",value:function(t,e,n){var r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var c=o.value;!1===n?c.removeAttribute(e):c.setAttribute(e,"boolean"==typeof n?"":n)}}catch(t){i=!0,a=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}}},{key:"_registerProtvistaDescendents",value:function(t){var e=!0,n=!1,r=void 0;try{for(var i,a=t.children[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var o=i.value;o.isManaged&&this.protvistaElements.add(o),this._registerProtvistaDescendents(o)}}catch(t){n=!0,r=t}finally{try{e||null==a.return||a.return()}finally{if(n)throw r}}}},{key:"addListeners",value:function(){var t=this,e=!0,n=!1,r=void 0;try{for(var i,a=this.protvistaElements[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){i.value.addEventListener("change",function(e){for(var n in-1!==t._attributes.indexOf(e.detail.type)&&t._setAttributes(t.protvistaElements,e.detail.type,e.detail.value),e.detail)-1!==t._attributes.indexOf(n)&&t._setAttributes(t.protvistaElements,n,e.detail[n])})}}catch(t){n=!0,r=t}finally{try{e||null==a.return||a.return()}finally{if(n)throw r}}}},{key:"connectedCallback",value:function(){this._registerProtvistaDescendents(this),this.addListeners();var t=this;"MutationObserver"in window&&(this.mutationObserver=new MutationObserver(function(e){t._registerProtvistaDescendents(t),t.addListeners()}),this.mutationObserver.observe(this,{childList:!0}))}},{key:"disconnectedCallback",value:function(){this.mutationObserver&&this.mutationObserver.disconnect()}}])&&i(n.prototype,r),s&&i(n,s),e}();e.a=l},637:function(t,e,n){"use strict";var r=n(567),i=n(555);var a=function(t){var e=t.variants,n=t.sequence;if(n&&e){var r=[],i=n.split("");for(var a in i)r.push({type:"VARIANT",normal:i[a],pos:a+1,variants:[]});return e.forEach(function(t){r[t.start-1]&&r[t.start-1].variants.push(t)}),r}};function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._frequency=Object(i.k)().exponent(.001).domain([0,1]).range([5,10]),this.drawVariationPlot=this.drawVariationPlot.bind(this)}var e,n,r;return e=t,(n=[{key:"drawVariationPlot",value:function(t,e){var n=e.getSingleBaseWidth()/2;t.each(function(t,r,a){var o=Object(i.l)(a[r]),s=t.filter(function(t){return 0!==t.variants.length}),c=o.selectAll("g").data(s,function(t){return t.pos});c.exit().remove();var u=c.enter().append("g").merge(c).selectAll("circle").data(function(t){return t.variants});u.exit().remove(),u.enter().append("circle").merge(u).attr("class","feature").attr("title",function(t){return t.start}).attr("r",function(t){return t.size?t.size:5}).attr("cx",function(t){return e.getXFromSeqPosition(t.start)+n}).attr("cy",function(t){return e._yScale(t.variant.charAt(0))}).attr("name",function(t){var e="*"===t.alternativeSequence?"STOP":t.alternativeSequence;return t.internalId="var_"+t.wildType+t.start+e,t.internalId}).attr("fill",function(t){return t.color}).call(e.bindEvents,e)})}}])&&o(e.prototype,n),r&&o(e,r),t}();function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t,e,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=["G","A","V","L","I","S","T","C","M","D","N","E","Q","R","K","H","F","Y","W","P","d","*"],y=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,f(e).call(this))}var n,o,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,r["b"]),n=e,c=[{key:"css",get:function(){return"\n    <style>\n    protvista-variation {\n      display: flex;\n      width: 100%;\n    }\n    \n    svg {\n      background-color: #fff;\n    }\n    \n    circle {\n      opacity: 0.6;\n    }\n    circle:hover {\n      opacity: 0.9;\n    }\n    .tick line,\n    .axis path {\n      opacity: 0.1;\n    }\n    \n    .protvista-highlight {\n      fill: #ffe999;\n    }\n    \n    .variation-y-right line,\n    .axis path {\n      fill: none;\n      stroke: none;\n    }\n    \n    </style>\n    "}}],(o=[{key:"connectedCallback",value:function(){h(f(e.prototype),"connectedCallback",this).call(this);var t=document.createElement("style");t.innerHTML=e.css,this.appendChild(t),this._height=parseInt(this.getAttribute("height"))?parseInt(this.getAttribute("height")):430,this._width=this._width?this._width:0,this._yScale=Object(i.i)(),this._yScale=Object(i.j)().domain(p).range([0,this._height-this.margin.top-this.margin.bottom])}},{key:"attributeChangedCallback",value:function(t,n,r){h(f(e.prototype),"attributeChangedCallback",this).call(this,t,n,r),h(f(e.prototype),"svg",this)}},{key:"_createFeatures",value:function(){this._variationPlot=new s;var t=h(f(e.prototype),"svg",this).select("g.sequence-features"),n=t.append("g").attr("clip-path","url(#plotAreaClip)");this._clipPath=t.append("clipPath").attr("id","plotAreaClip").append("rect").attr("width",this.getWidthWithMargins()).attr("height",this._height).attr("transform","translate(0, -".concat(this.margin.top,")")),this._series=n.datum(this._data),this._axisLeft=t.append("g"),this._axisRight=t.append("g"),this.updateScale()}},{key:"refresh",value:function(){this._series&&(this._clipPath.attr("width",this.getWidthWithMargins()),this.updateScale(),this._series.call(this._variationPlot.drawVariationPlot,this),this._updateHighlight())}},{key:"updateScale",value:function(){this._yAxisLScale=Object(i.b)().scale(this._yScale).tickSize(-this.getWidthWithMargins()),this._yAxisRScale=Object(i.c)().scale(this._yScale),this._axisLeft.attr("class","variation-y-left axis").attr("transform","translate(".concat(this.margin.left,",0)")).call(this._yAxisLScale),this._axisRight.attr("transform","translate(".concat(this.getWidthWithMargins()-this.margin.right+2,", 0)")).attr("class","variation-y-right axis").call(this._yAxisRScale)}},{key:"updateData",value:function(t){this._series&&this._series.datum(t)}},{key:"reset",value:function(){}},{key:"data",set:function(t){this._data=a(t),this._createTrack()}}])&&u(n.prototype,o),c&&u(n,c),e}();e.a=y},641:function(t,e,n){"use strict";var r=n(555),i=n(642),a=n(643),o=n(644),s=n(645),c=n(625),u=n(575);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y=["hydrophobicity-interface-scale","hydrophobicity-octanol-scale","hydrophobicity-scale","isoelectric-point-scale"],g={domain:[-2,2],range:["#ffdd00","#0000FF"]},b=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,d(e).apply(this,arguments))}var n,l,b;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,c["a"]),n=e,b=[{key:"observedAttributes",get:function(){return c.a.observedAttributes.concat("scale","color_range")}}],(l=[{key:"_createSequence",value:function(){this.svg=Object(r.l)(this).append("div").attr("class","").append("svg").attr("id","").attr("width",this.width).attr("height",this._height),this.uniqueID=Math.random().toString(36).substring(7),this.gradient=this.svg.append("defs").append("linearGradient").attr("id","scale-gradient-"+this.uniqueID),this.seq_g=this.svg.append("g").attr("class","background"),this.seq_greadient=this.svg.append("rect").attr("class","seq-gradient").style("pointer-events","none"),this._getCharWidth(),this.trackHighlighter.appendHighlightTo(this.svg),this.refresh()}},{key:"getScaleFromAttribute",value:function(){var t=null;if(y.indexOf(this._scale)>=0)switch(this._scale){case"hydrophobicity-scale":return o;case"hydrophobicity-interface-scale":return i;case"isoelectric-point-scale":return s;case"hydrophobicity-octanol-scale":return a}if(/([ILFVMPWHTEQCYASNDRGK]:-?\d+\.?\d*)(,[ILFVMPWHTEQCYASNDRGK]:-?\d+\.?\d*)*/.test(this._scale))try{t=Object(u.b)(this._scale,{keyFormatter:function(t){return t.toUpperCase()},valueFormatter:function(t){return parseFloat(t)}})}catch(t){console.error("Couldn't parse the given scale ".concat(this._scale),error)}return t}},{key:"refresh",value:function(){var t=this;if(this.seq_g){var e=this.getScaleFromAttribute();if(null===e)return void console.error("The attribute scale is not valid.");var n=Object(r.i)();this.colorScale=g,this._color_range&&(this._colorScale=Object(u.a)(this._color_range)),n.domain(this.colorScale.domain).range(this.colorScale.range);var i=this.getSingleBaseWidth(),a=Math.round(Math.max(0,this._displaystart-2)),o=Math.round(Math.min(this.sequence.length,this._displayend+1)),s=this.sequence.slice(a,o).split("").map(function(t,r){var i=t.toUpperCase()in e?e[t.toUpperCase()]:0;return{start:1+a+r,end:1+a+r,aa:t,value:i,colour:n(i)}});this.residues=this.seq_g.selectAll("rect.base_bg").data(i<8?[]:s,function(t){return t.start}),this.residues.enter().append("rect").attr("class","base_bg feature").attr("data-base",function(t){return t.aa}).attr("data-pos",function(t){return t.start}).attr("height",this._height).merge(this.residues).attr("width",i).attr("fill",function(t){return t.colour}).attr("x",function(e){var n=e.start;return t.getXFromSeqPosition(n)}).call(this.bindEvents,this),this.residues.exit().remove();var c=this.gradient.selectAll("stop").data(this.sequence.split(""));c.enter().append("stop").merge(c).attr("offset",function(e,n){return(n+.5)/t.sequence.length}).attr("stop-color",function(t){return n(t.toUpperCase()in e?e[t.toUpperCase()]:0)}),this.gradient.exit().remove(),this.seq_greadient.attr("x",this.getXFromSeqPosition(1)).attr("y",0).attr("height",this._height).attr("width",this.getXFromSeqPosition(this.sequence.length)-this.getXFromSeqPosition(0)).style("opacity",i<8?1:8/i).attr("fill","url(#scale-gradient-".concat(this.uniqueID,")")),this._updateHighlight()}}}])&&h(n.prototype,l),b&&h(n,b),e}();e.a=b},642:function(t){t.exports={I:-.31,L:-.56,F:-1.13,V:.07,M:-.23,P:.45,W:-1.85,H:.17,T:.14,E:-.01,Q:.58,C:-.24,Y:-.94,A:.17,S:.13,N:.42,D:-.07,R:.81,G:.01,K:.99}},643:function(t){t.exports={I:-1.12,L:-1.25,F:-1.71,V:-.46,M:-.67,P:.14,W:-2.09,H:.11,T:.25,E:.11,Q:.77,C:-.02,Y:-.71,A:.5,S:.46,N:.85,D:.43,R:1.15,G:3.63,K:3.64}},644:function(t){t.exports={I:-.81,L:-.69,F:-.58,V:-.53,M:-.44,P:-.31,W:-.24,H:-.06,T:.11,E:.12,Q:.19,C:.22,Y:.23,A:.33,S:.33,N:.43,D:.5,R:1.14,G:1.61,K:2.41}},645:function(t){t.exports={I:6.04,L:6.04,F:5.91,V:6.02,M:5.74,P:6.3,W:5.88,H:7.64,T:5.6,E:3.08,Q:5.65,C:5.02,Y:5.63,A:6.11,S:5.68,N:5.41,D:2.87,R:10.76,G:6.06,K:9.47}},646:function(t,e,n){"use strict";var r=n(567),i=n(555);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=s(this,u(e).call(this)))._line=Object(i.h)().x(function(e){return t.xScale(e.x)}).y(function(e){return t._yScale(e.y)}),t}var n,a,h;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,r["b"]),n=e,(a=[{key:"init",value:function(){this._totals_dataset={},this._totals_feature=void 0,this._disease_dataset={},this._disease_feature=void 0}},{key:"connectedCallback",value:function(){c(u(e.prototype),"connectedCallback",this).call(this),this._data=void 0,this._height=parseInt(this.getAttribute("height"))||40,this._yScale=Object(i.i)(),this._xExtent,this._yExtent,this.init()}},{key:"_createTrack",value:function(){Object(i.l)(this).selectAll("svg").remove(),this.svg=Object(i.l)(this).append("svg").attr("width",this.width).attr("height",this._height),this.trackHighlighter.appendHighlightTo(this.svg),this._createFeatures(),this.refresh()}},{key:"_createFeatures",value:function(){this._xExtent=Object(i.f)(this._totals_dataset,function(t){return parseInt(t.x)}),this._yExtent=Object(i.f)(this._totals_dataset,function(t){return t.y}),this._yExtent[1]+=2,this.xScale.domain(this._xExtent).range([0,this._width]),this._yScale.domain(this._yExtent).range([this._height,0])}},{key:"refresh",value:function(){this.svg&&(this.svg.selectAll("path").remove(),this._disease_feature=this.svg.append("path").attr("d",this._line(this._disease_dataset)).attr("fill","none").attr("stroke","red").attr("stroke-width","1.5px").attr("stroke-dasharray","0").attr("transform","translate(0,0)"),this._totals_feature=this.svg.append("path").attr("d",this._line(this._totals_dataset)).attr("fill","none").attr("stroke","darkgrey").attr("stroke-width","1px").attr("stroke-dasharray",".5").attr("transform","translate(0,0)"),this._updateHighlight())}},{key:"data",set:function(t){if(this._data=t,this.init(),!(this._data.variants.length<=0)){var e={},n={};this._data.variants.forEach(function(t){void 0===e[t.start]&&(e[t.start]=0),void 0===n[t.start]&&(n[t.start]=0),e[t.start]++,void 0!==t.association&&t.association.forEach(function(e){!0===e.disease&&n[t.start]++})}),this._totals_dataset=Object.keys(e).map(function(t){return{x:t,y:e[t]}}),this._disease_dataset=Object.keys(n).map(function(t){return{x:t,y:n[t]}}),this._createTrack()}}}])&&o(n.prototype,a),h&&o(n,h),e}();e.a=h},647:function(t){t.exports={sequence:"MLPGLALLLLAAWTARALEVPTDGNAGLLAEPQIAMFCGRLNMHMNVQNGKWDSDPSGTKTCIDTKEGILQYCQEVYPELQITNVVEANQPVTIQNWCKRGRKQCKTHPHFVIPYRCLVGEFVSDALLVPDKCKFLHQERMDVCETHLHWHTVAKETCSEKSTNLHDYGMLLPCGIDKFRGVEFVCCPLAEESDNVDSADAEEDDSDVWWGGADTDYADGSEDKVVEVAEEEEVAEVEEEEADDDEDDEDGDEVEEEAEEPYEEATERTTSIATTTTTTTESVEEVVREVCSEQAETGPCRAMISRWYFDVTEGKCAPFFYGGCGGNRNNFDTEEYCMAVCGSAMSQSLLKTTQEPLARDPVKLPTTAASTPDAVDKYLETPGDENEHAHFQKAKERLEAKHRERMSQVMREWEEAERQAKNLPKADKKAVIQHFQEKVESLEQEAANERQQLVETHMARVEAMLNDRRRLALENYITALQAVPPRPRHVFNMLKKYVRAEQKDRQHTLKHFEHVRMVDPKKAAQIRSQVMTHLRVIYERMNQSLSLLYNVPAVAEEIQDEVDELLQKEQNYSDDVLANMISEPRISYGNDALMPSLTETKTTVELLPVNGEFSLDDLQPWHSFGADSVPANTENEVEPVDARPAADRGLTTRPGSGLTNIKTEEISEVKMDAEFRHDSGYEVHHQKLVFFAEDVGSNKGAIIGLMVGGVVIATVIVITLVMLKKKQYTSIHHGVVEVDAAVTPEERHLSKMQQNGYENPTYKFFEQMQN",variants:[{accession:"feature1",variant:"V",start:1,end:1,color:"orange"},{accession:"feature2",variant:"C",start:2,end:2,color:"#33d"},{accession:"feature3",variant:"T",start:3,end:3,color:"#336"},{accession:"feature4",variant:"D",start:1,end:1,color:"#73d"},{accession:"feature5",variant:"A",start:25,end:25,size:20,color:"#63e"},{accession:"feature6",variant:"R",start:770,color:"#35d"}]}},648:function(t){t.exports=[{accession:"chain_A",locations:[{fragments:[{start:45,end:49,shape:"helix",fill:"transparent",color:"#f06"},{start:56,end:77,shape:"helix",fill:"transparent",color:"#f06"},{start:5,end:15,shape:"strand",color:"#fc0"},{start:40,end:43,shape:"strand",color:"#fc0"}]}]},{accession:"chain_D",locations:[{fragments:[{start:45,end:51,shape:"helix",fill:"transparent",color:"#f06"},{start:55,end:77,shape:"helix",fill:"transparent",color:"#f06"},{start:5,end:15,shape:"strand",color:"#fc0"},{start:19,end:26,shape:"strand",color:"#fc0"}]}]}]},650:function(t,e,n){"use strict";var r=n(567);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,s(e).apply(this,arguments))}var n,i,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,r["a"]),n=e,(i=[{key:"init",value:function(t,e){var n=0;if(this.height={},this.yPos={},this.maxYPos=0,t){for(var r={},i=0;i<t.length;i++){var a=t[i];this.height[a.accession]=this.expanded?14:16,this.yPos[a.accession]=this._padding,n=this.height[a.accession]+2*this._padding,this.maxYPos=Math.max(this.maxYPos,n),a.accession in r||(r[a.accession]={}),a.residues&&(n=this._initResidues(a.residues,a.accession,a.locations,n,i,r))}if(e)for(var o=0;o<e.length;o++){var s=e[o];s.accession in this.height||(this.height[s.accession]=this.expanded?10:0,this.yPos[s.accession]=this.maxYPos+this._padding,n+=2*this._padding+this.height[s.accession],this.maxYPos=Math.max(this.maxYPos,n)),s.accession in r||(r[s.accession]={}),s.residues&&(n=this._initResidues(s.residues,s.accession,s.locations,n,o,r))}this.maxYPos+=this._padding}}},{key:"_initResidues",value:function(t,e,n,r,i){for(var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=0;o<t.length;o++){var s=t[o];this._filterOutResidueFragmentsOutOfLocation(s,n),s.accession in a[e]||(a[e][s.accession]={});for(var c=0;c<s.locations.length;c++){var u=s.locations[c].description;u in a[e][s.accession]||(a[e][s.accession][u]={height:this.expanded?10:0,yPos:this.maxYPos+this._padding},r=this.expanded?this.maxYPos+2*this._padding+10:r),this.height["".concat(s.accession,"_").concat(i,"_").concat(o,"_").concat(c)]=a[e][s.accession][u].height,this.yPos["".concat(s.accession,"_").concat(i,"_").concat(o,"_").concat(c)]=a[e][s.accession][u].yPos,this.maxYPos=Math.max(this.maxYPos,r)}}return r}},{key:"_filterOutResidueFragmentsOutOfLocation",value:function(t,e){t.locations.forEach(function(t){return t.fragments=t.fragments.filter(function(t){return e.some(function(e){return e.fragments.some(function(e){return t.start>=e.start&&t.end<=e.end})})})}),t.locations=t.locations.filter(function(t){return t.fragments.length})}},{key:"_getAccFromFeature",value:function(t){var e="";return"string"==typeof t?e=t:t.accession&&(e=t.accession),e}},{key:"getFeatureYPos",value:function(t){var e=this._getAccFromFeature(t);return e in this.yPos?this.yPos[e]:0}},{key:"getFeatureHeight",value:function(t){var e=this._getAccFromFeature(t);return e in this.height?this.height[e]:0}}])&&a(n.prototype,i),u&&a(n,u),e}();function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t,e,n){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var g=2,b=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,p(e).apply(this,arguments))}var n,i,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(e,r["b"]),n=e,a=[{key:"observedAttributes",get:function(){return r.b.observedAttributes.concat(["expanded","color"])}}],(i=[{key:"_createTrack",value:function(){this._layoutObj.expanded=this._expanded,d(p(e.prototype),"_createTrack",this).call(this),this.children_g=null}},{key:"connectedCallback",value:function(){d(p(e.prototype),"connectedCallback",this).call(this),this._expanded=this.hasAttribute("expanded"),this._haveCreatedFeatures=!1}},{key:"attributeChangedCallback",value:function(t,n,r){if("expanded"===t&&n!==r&&this._contributors){var i=!0,a=!1,o=void 0;try{for(var s,c=this._contributors[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){s.value.expanded=!n}}catch(t){a=!0,o=t}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}}d(p(e.prototype),"attributeChangedCallback",this).call(this,t,n,r)}},{key:"getLayout",value:function(t){return new u({layoutHeight:this._height,expanded:this._expanded,padding:2})}},{key:"_createResidueGroup",value:function(t){return t.selectAll("g.residues-group").data(function(t){return t.residues?t.residues.map(function(e,n){return Object.assign({},e,{feature:t,i:n})}):[]}).enter().append("g").attr("class","residues-group").selectAll("g.residues-locations").data(function(t){return t.locations.map(function(e,n){return Object.assign({},e,{accession:t.accession,feature:t.feature,location:e,i:t.i,j:n})})}).enter().append("g").attr("class","residues-locations")}},{key:"_createResiduePaths",value:function(t){var e=this;return t.selectAll("g.residue").data(function(t){return t.fragments.map(function(e){return Object.assign({},e,{accession:t.accession,feature:t.feature,location:t.location,k:t.feature.k,i:t.i,j:t.j})})}).enter().append("path").attr("class","feature").attr("d",function(t,n){return e._featureShape.getFeatureShape(e.getSingleBaseWidth(),e._layoutObj.getFeatureHeight("".concat(t.accession,"_").concat(t.k,"_").concat(t.i,"_").concat(t.j)),t.end?t.end-t.start+1:1,"rectangle")}).attr("transform",function(t){return"translate("+e.getXFromSeqPosition(t.start)+","+(g+e._layoutObj.getFeatureYPos("".concat(t.accession,"_").concat(t.k,"_").concat(t.i,"_").concat(t.j)))+")"}).attr("fill",function(t){return e._getFeatureColor(t)}).attr("stroke","transparent").call(this.bindEvents,this)}},{key:"_refreshResiduePaths",value:function(t){var e=this;t.attr("d",function(t){return e._featureShape.getFeatureShape(e.getSingleBaseWidth(),e._layoutObj.getFeatureHeight("".concat(t.accession,"_").concat(t.k,"_").concat(t.i,"_").concat(t.j)),t.end?t.end-t.start+1:1,"rectangle")}).attr("transform",function(t){return"translate("+e.getXFromSeqPosition(t.start)+","+(g+e._layoutObj.getFeatureYPos("".concat(t.accession,"_").concat(t.k,"_").concat(t.i,"_").concat(t.j)))+")"}).attr("fill",function(t){return e._getFeatureColor(t)})}},{key:"_createFeatures",value:function(){var t=this;if(this._layoutObj.init(this._data,this._contributors),this._data.forEach(function(t,e){return t.k=e}),this.featuresG=this.seq_g.selectAll("g.feature-group").data(this._data).enter().append("g").attr("class","feature-group").attr("id",function(t){return"g_".concat(t.accession)}),this.locations=this.featuresG.selectAll("g.location-group").data(function(t){return t.locations.map(function(e){return Object.assign({},e,{feature:t})})}).enter().append("g").attr("class","location-group"),this.coverLines=this.locations.selectAll("line.cover").data(function(t){return[t.fragments.reduce(function(e,n){return{start:Math.min(e.start,n.start),end:Math.max(e.end,n.end),feature:t.feature}},{start:1/0,end:-1/0})]}).enter().append("line").attr("class","cover"),this.features=this.locations.selectAll("path.feature").data(function(t){return t.fragments.map(function(e){return Object.assign({},e,{feature:t.feature,fragments:t.fragments})})}).enter().append("path").attr("class","feature").on("click.expanded",function(e,n,r){t._expanded?t.removeAttribute("expanded"):t.setAttribute("expanded","expanded")}).call(this.bindEvents,this),this.residues_g=this._createResidueGroup(this.featuresG),this.residues_loc=this._createResiduePaths(this.residues_g),this._contributors){this._contributors.forEach(function(t,e){return t.k=e}),this.children_g||(this.children_g=this.svg.append("g").attr("class","children-features")),this.childrenGroup=this.children_g.append("g").attr("class","children-group").attr("visibility",this._expanded?"visible":"hidden"),this.childGroup=this.childrenGroup.selectAll("g.child-group").data(this._contributors).enter().append("g").attr("class","child-group");var e=this.childGroup.selectAll("g.child-location-group").data(function(e){return e.expanded=t._expanded,e.locations.map(function(t){return Object.assign({},t,{feature:e})})}).enter().append("g").attr("class",function(t,e){return"child-location-group clg-".concat(e)});this.coverLinesChildren=e.selectAll("line.cover").data(function(t){return[t.fragments.reduce(function(e,n){return{start:Math.min(e.start,n.start),end:Math.max(e.end,n.end),feature:t.feature}},{start:1/0,end:-1/0})]}).enter().append("line").attr("class","cover"),this.featureChildren=e.selectAll("path.child-fragment").data(function(t){return t.fragments.map(function(e){return Object.assign({},e,{feature:t.feature,fragments:t.fragments})})}).enter().append("path").attr("class","child-fragment feature").call(this.bindEvents,this).on("click.expanded",function(e,n,r){e.feature.expanded=!e.feature.expanded,t.refresh()}),this.child_residues_g=this._createResidueGroup(this.childGroup),this.child_residues_loc=this._createResiduePaths(this.child_residues_g)}this.svg.attr("height",this._layoutObj.maxYPos),this._haveCreatedFeatures=!0}},{key:"_refreshFeatures",value:function(t){var e=this;t.attr("d",function(t){return e._featureShape.getFeatureShape(e.getSingleBaseWidth(),e._layoutObj.getFeatureHeight(t.feature),t.end?t.end-t.start+1:1,e._getShape(t.shape?t:t.feature))}).attr("fill",function(t){return e._getFeatureColor(t.feature)}).attr("stroke",function(t){return e._getFeatureColor(t.feature)}).attr("transform",function(t){return"translate("+e.getXFromSeqPosition(t.start)+","+(g+e._layoutObj.getFeatureYPos(t.feature))+")"})}},{key:"_refreshCoverLine",value:function(t){var e=this;t.attr("x1",function(t){return e.getXFromSeqPosition(t.start)}).attr("x2",function(t){return e.getXFromSeqPosition(t.end+1)}).attr("y1",function(t){return g+e._layoutObj.getFeatureYPos(t.feature)+e._layoutObj.getFeatureHeight(t.feature)/2}).attr("y2",function(t){return g+e._layoutObj.getFeatureYPos(t.feature)+e._layoutObj.getFeatureHeight(t.feature)/2}).attr("stroke",function(t){return e._getFeatureColor(t.feature)})}},{key:"refresh",value:function(){this._haveCreatedFeatures&&(this._layoutObj.expanded=this._expanded,this._layoutObj.init(this._data,this._contributors),this.height=this._layoutObj.maxYPos,this._refreshCoverLine(this.coverLines),this._refreshFeatures(this.features),this.residues_g.attr("visibility",this._expanded?"visible":"hidden"),this._refreshResiduePaths(this.residues_loc),this._contributors&&(this.childrenGroup.attr("visibility",this._expanded?"visible":"hidden"),this._refreshCoverLine(this.coverLinesChildren),this._refreshFeatures(this.featureChildren),this.child_residues_g.attr("visibility",function(t){return t.feature.expanded?"visible":"hidden"}),this._refreshResiduePaths(this.child_residues_loc)),this._updateHighlight(),this.svg.attr("height",this._layoutObj.maxYPos))}},{key:"contributors",set:function(t){this._contributors=this.normalizeLocations(t),this._data&&this._createTrack()}},{key:"color",set:function(t){this._color!==t&&(this._color=t,this.refresh())}},{key:"margin",get:function(){return{top:0,right:10,bottom:0,left:10}}}])&&h(n.prototype,i),a&&h(n,a),e}();e.a=b},669:function(t){t.exports={sequence:"MLPGLALLLLAAWTARALEVPTDGNAGLLAEPQIAMFCGRLNMHMNVQNGKWDSDPSGTKTCIDTKEGILQYCQEVYPELQITNVVEANQPVTIQNWCKRGRKQCKTHPHFVIPYRCLVGEFVSDALLVPDKCKFLHQERMDVCETHLHWHTVAKETCSEKSTNLHDYGMLLPCGIDKFRGVEFVCCPLAEESDNVDSADAEEDDSDVWWGGADTDYADGSEDKVVEVAEEEEVAEVEEEEADDDEDDEDGDEVEEEAEEPYEEATERTTSIATTTTTTTESVEEVVREVCSEQAETGPCRAMISRWYFDVTEGKCAPFFYGGCGGNRNNFDTEEYCMAVCGSAMSQSLLKTTQEPLARDPVKLPTTAASTPDAVDKYLETPGDENEHAHFQKAKERLEAKHRERMSQVMREWEEAERQAKNLPKADKKAVIQHFQEKVESLEQEAANERQQLVETHMARVEAMLNDRRRLALENYITALQAVPPRPRHVFNMLKKYVRAEQKDRQHTLKHFEHVRMVDPKKAAQIRSQVMTHLRVIYERMNQSLSLLYNVPAVAEEIQDEVDELLQKEQNYSDDVLANMISEPRISYGNDALMPSLTETKTTVELLPVNGEFSLDDLQPWHSFGADSVPANTENEVEPVDARPAADRGLTTRPGSGLTNIKTEEISEVKMDAEFRHDSGYEVHHQKLVFFAEDVGSNKGAIIGLMVGGVVIATVIVITLVMLKKKQYTSIHHGVVEVDAAVTPEERHLSKMQQNGYENPTYKFFEQMQN"}}}]);