(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{132:function(t,e,n){"use strict";n.r(e);var i=n(1),r=n.n(i),o=n(358),s=n(322);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).apply(this,arguments))}var n,a,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,i["Component"]),n=e,(a=[{key:"componentDidMount",value:function(){var t="MAMYDDEFDTKASDLTFSPWVEVENWKDVTTRLRAIKFALQADRDKIPGVLSDLKTNCPYSAFKRFPDKSLYSVLSKEAVIAVAQIQSASGFKRRADEKNAVSGLVSVTPTQISQSASSSAATPVGLATVKPPRESDSAFQEDTFSYAKFDDASTAFHKALAYLEGLSLRPTYRRKFEKDMNVKWGGSGSAPSGAPAGGSSGSAPPTSGSSGSGAAPTPPPNP";document.querySelector("#seq1").data=t,document.querySelector("#seq2").data=t,document.querySelector("#seq3").data=t,document.querySelector("#seq4").data=t}},{key:"render",value:function(){return Object(s.a)("protvista-sequence",o.a),r.a.createElement(i.Fragment,null,r.a.createElement("protvista-sequence",{id:"seq1",length:"223",displaystart:"1",displayend:"223",highlightStart:"23",highlightEnd:"45"}),r.a.createElement("protvista-sequence",{id:"seq2",length:"223",displaystart:"10",displayend:"150",highlightStart:"23",highlightEnd:"45"}),r.a.createElement("protvista-sequence",{id:"seq3",length:"223",displaystart:"18",displayend:"100",highlightStart:"23",highlightEnd:"45"}),r.a.createElement("protvista-sequence",{id:"seq4",length:"223",displaystart:"22",displayend:"50",highlightStart:"23",highlightEnd:"45"}),r.a.createElement("protvista-sequence",{sequence:"MAMYDDEFDTKASDLTFSPWVEVENWKDVTTRLRAIKFALQADRDKIPGVLSDLKTNCPYSAFKRFPDKSLYSVLSKEAVIAVAQIQSASGFKRRADEKNAVSGLVSVTPTQISQSASSSAATPVGLATVKPPRESDSAFQEDTFSYAKFDDASTAFHKALAYLEGLSLRPTYRRKFEKDMNVKWGGSGSAPSGAPAGGSSGSAPPTSGSSGSGAAPTPPPNP",length:"223",displaystart:"1",displayend:"4",highlightStart:"2",highlightEnd:"2"}))}}])&&c(n.prototype,a),f&&c(n,f),e}();e.default=f},322:function(t,e,n){"use strict";e.a=function(t,e){window.customElements.get(t)||window.customElements.define(t,e)}},327:function(t,e,n){"use strict";var i=n(353),r=n(348);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){var e="function"==typeof Map?new Map:void 0;return(u=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return l(t,arguments,f(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),h(i,t)})(t)}function l(t,e,n){return(l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&h(r,n.prototype),r}).apply(null,arguments)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){function e(){var t,n,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,i=f(e).call(this),(t=!i||"object"!==o(i)&&"function"!=typeof i?c(n):i)._updateScaleDomain=t._updateScaleDomain.bind(c(t)),t._initZoom=t._initZoom.bind(c(t)),t.zoomed=t.zoomed.bind(c(t)),t._applyZoomTranslation=t.applyZoomTranslation.bind(c(t));var r=!1;return t.applyZoomTranslation=function(){r||(r=!0,requestAnimationFrame(function(){r=!1,t._applyZoomTranslation()}))},t._onResize=t._onResize.bind(c(t)),t._listenForResize=t._listenForResize.bind(c(t)),t}var n,l,p;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,u(HTMLElement)),n=e,p=[{key:"observedAttributes",get:function(){return["displaystart","displayend","length"]}}],(l=[{key:"connectedCallback",value:function(){this.style.display="block",this.style.width="100%",this.width=this.offsetWidth,this._length=this.getAttribute("length")?parseFloat(this.getAttribute("length")):0,this._displaystart=this.getAttribute("displaystart")?parseFloat(this.getAttribute("displaystart")):1,this._displayend=this.getAttribute("displayend")?parseFloat(this.getAttribute("displayend")):this.width,this._updateScaleDomain(),this._originXScale=this.xScale.copy(),this._initZoom(),this._listenForResize(),this.addEventListener("error",function(t){throw t})}},{key:"disconnectedCallback",value:function(){this._ro?this._ro.unobserve(this):window.removeEventListener("resize",this._onResize)}},{key:"getWidthWithMargins",value:function(){return this.width?this.width-this.margin.left-this.margin.right:0}},{key:"_updateScaleDomain",value:function(){this.xScale=Object(i.b)().domain([1,this._length+1]).range([0,this.getWidthWithMargins()])}},{key:"_initZoom",value:function(){this._zoom=Object(i.c)().scaleExtent([1,1/0]).translateExtent([[0,0],[this.getWidthWithMargins(),0]]).on("zoom",this.zoomed)}},{key:"attributeChangedCallback",value:function(t,e,n){if(e!==n){var i=parseFloat(n);this["_".concat(t)]=isNaN(i)?n:i,"length"===t&&(this._updateScaleDomain(),this._originXScale=this.xScale.copy()),this.applyZoomTranslation()}}},{key:"zoomed",value:function(){if(this.xScale=i.a.transform.rescaleX(this._originXScale),!this.dontDispatch){var t=s(this.xScale.domain(),2),e=t[0],n=t[1];n--,this.dispatchEvent(new CustomEvent("change",{detail:{displaystart:Math.max(1,e),displayend:Math.min(this.length,n)},bubbles:!0,cancelable:!0}))}}},{key:"applyZoomTranslation",value:function(){if(this.svg&&this._originXScale){var t=Math.max(1,this.length/(1+this._displayend-this._displaystart)),e=-this._originXScale(this._displaystart);this.dontDispatch=!0,this.svg.call(this.zoom.transform,i.d.scale(t).translate(e,0)),this.dontDispatch=!1,this.refresh()}}},{key:"_onResize",value:function(){this.width=this.offsetWidth,this._updateScaleDomain(),this._originXScale=this.xScale.copy(),this.svg&&this.svg.attr("width",this.width),this._zoom.scaleExtent([1,1/0]).translateExtent([[0,0],[this.getWidthWithMargins(),0]]),this.applyZoomTranslation()}},{key:"_listenForResize",value:function(){this._ro=new r.a(this._onResize),this._ro.observe(this)}},{key:"getXFromSeqPosition",value:function(t){return this.margin.left+this.xScale(t)}},{key:"getSingleBaseWidth",value:function(){return this.xScale(2)-this.xScale(1)}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"length",set:function(t){this._length=t},get:function(){return this._length}},{key:"xScale",get:function(){return this._xScale},set:function(t){this._xScale=t}},{key:"zoom",get:function(){return this._zoom}},{key:"svg",set:function(t){this._svg=t,t.call(this._zoom),this.applyZoomTranslation()},get:function(){return this._svg}},{key:"isManaged",get:function(){return!0}},{key:"margin",get:function(){return{top:10,right:10,bottom:10,left:10}}}])&&a(n.prototype,l),p&&a(n,p),e}(),y=function(){customElements.define("protvista-zoomable",p)};window.customElements?y():document.addEventListener("WebComponentsReady",function(){y()});e.a=p},358:function(t,e,n){"use strict";var i=n(398),r=n(327);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t,e,n,i){return(u="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(t,e,n,i){var r,o=h(t,e);if(o){if((r=Object.getOwnPropertyDescriptor(o,e)).set)return r.set.call(i,n),!0;if(!r.writable)return!1}if(r=Object.getOwnPropertyDescriptor(i,e)){if(!r.writable)return!1;r.value=n,Object.defineProperty(i,e,r)}else!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(i,e,n);return!0})(t,e,n,i)}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=h(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function h(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,f(e).apply(this,arguments))}var n,o,h;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,r["a"]),n=e,h=[{key:"observedAttributes",get:function(){return r.a.observedAttributes.concat("highlightstart","highlightend")}}],(o=[{key:"connectedCallback",value:function(){l(f(e.prototype),"connectedCallback",this).call(this),this._highlightstart=parseInt(this.getAttribute("highlightstart")),this._highlightend=parseInt(this.getAttribute("highlightend")),this.sequence=this.getAttribute("sequence"),this.sequence&&this._createSequence()}},{key:"_createSequence",value:function(){!function(t,e,n,i,r){if(!u(t,e,n,i||t)&&r)throw new Error("failed to set property")}(f(e.prototype),"svg",Object(i.b)(this).append("div").attr("class","").append("svg").attr("id","").attr("width",this.width).attr("height",40),this,!0),this.seq_bg=l(f(e.prototype),"svg",this).append("g").attr("class","background"),this.axis=l(f(e.prototype),"svg",this).append("g").attr("class","x axis"),this.seq_g=l(f(e.prototype),"svg",this).append("g").attr("class","sequence").attr("transform","translate(0,".concat(30,")")),this.seq_g.append("text").attr("class","base").text("T"),this.chWidth=.8*this.seq_g.select("text.base").node().getBBox().width,this.seq_g.select("text.base").remove(),this.highlighted=l(f(e.prototype),"svg",this).append("rect").attr("class","highlighted").attr("fill","yellow").attr("height",40),this.refresh()}},{key:"refresh",value:function(){var t=this;if(this.axis){var n=this.getSingleBaseWidth(),r=n-this.chWidth,o=n/2,a=Math.round(Math.max(0,this._displaystart-2)),c=Math.round(Math.min(this.sequence.length,this._displayend+1)),u=r<0?[]:this.sequence.slice(a,c).split("").map(function(t,e){return[1+a+e,t]});this.xAxis=Object(i.a)(this.xScale).tickFormat(function(t){return Number.isInteger(t)?t:""}).ticks(3,"s"),this.axis.call(this.xAxis),this.axis.attr("transform","translate(".concat(this.margin.left+o,",0)")),this.axis.select(".domain").remove(),this.axis.selectAll(".tick line").remove(),this.bases=this.seq_g.selectAll("text.base").data(u,function(t){return t[0]}),this.bases.enter().append("text").attr("class","base").attr("text-anchor","middle").attr("x",function(e){var n=s(e,1)[0];return t.getXFromSeqPosition(n)+o}).text(function(t){var e=s(t,2);e[0];return e[1]}).attr("style","font-family:monospace"),this.bases.exit().remove(),this.bases.attr("x",function(e){var n=s(e,1)[0];return t.getXFromSeqPosition(n)+o}),this.background=this.seq_bg.selectAll("rect.base_bg").data(u,function(t){return t[0]}),this.background.enter().append("rect").attr("class","base_bg").attr("height",40).merge(this.background).attr("width",n).attr("fill",function(t){var e=s(t,1)[0];return Math.round(e)%2?"#ccc":"#eee"}).attr("x",function(e){var n=s(e,1)[0];return t.getXFromSeqPosition(n)}),this.background.exit().remove(),this.seq_g.style("opacity",Math.min(1,r)),this.background.style("opacity",Math.min(1,r)),Number.isInteger(this._highlightstart)&&Number.isInteger(this._highlightend)?this.highlighted.attr("x",l(f(e.prototype),"getXFromSeqPosition",this).call(this,this._highlightstart)).style("opacity",.3).attr("width",n*(this._highlightend-this._highlightstart+1)):this.highlighted.style("opacity",0)}}},{key:"data",get:function(){return this.sequence},set:function(t){"string"==typeof t?this.sequence=t:"sequence"in t&&(this.sequence=t.sequence),this.sequence&&!l(f(e.prototype),"svg",this)?this._createSequence():this.refresh()}}])&&a(n.prototype,o),h&&a(n,h),e}(),d=function(){customElements.define("protvista-sequence",y)};window.customElements?d():document.addEventListener("WebComponentsReady",function(){d()});e.a=y}}]);