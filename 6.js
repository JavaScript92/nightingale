(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{160:function(t,e,n){"use strict";n.r(e);var r=n(0),i=n.n(r),a=n(603),o=n(644),c=n(636),u=n(108),s=n(655);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var b=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,p(e).apply(this,arguments))}var n,l,b;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,r["Component"]),n=e,(l=[{key:"componentDidMount",value:function(){document.querySelector("#track1").data=s}},{key:"render",value:function(){return Object(u.a)("protvista-variation",o.a),Object(u.a)("data-loader",a.a),Object(u.a)("protvista-variation-adapter",c.a),i.a.createElement(r.Fragment,null,i.a.createElement("protvista-variation",{id:"track1",length:"770"}),i.a.createElement("protvista-variation",{length:"770"},i.a.createElement("protvista-variation-adapter",null,i.a.createElement("data-loader",null,i.a.createElement("source",{src:"https://www.ebi.ac.uk/proteins/api/variation/P05067"})))))}}])&&f(n.prototype,l),b&&f(n,b),e}();e.default=b},567:function(t,e,n){"use strict";var r=n(577),i=n(568);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o="[object Symbol]";e.a=function(t){return"symbol"==a(t)||Object(i.a)(t)&&Object(r.a)(t)==o}},573:function(t,e,n){"use strict";var r=n(567),i=1/0;e.a=function(t){if("string"==typeof t||Object(r.a)(t))return t;var e=t+"";return"0"==e&&1/t==-i?"-0":e}},579:function(t,e,n){"use strict";var r=n(566),i=n(567);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/;e.a=function(t,e){if(Object(r.a)(t))return!1;var n=a(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Object(i.a)(t))||c.test(t)||!o.test(t)||null!=e&&t in Object(e)}},580:function(t,e,n){"use strict";var r=n(574),i=n(569),a=Object(r.a)(i.a,"DataView"),o=n(614),c=Object(r.a)(i.a,"Promise"),u=n(604),s=Object(r.a)(i.a,"WeakMap"),l=n(577),f=n(637),h=Object(f.a)(a),p=Object(f.a)(o.a),d=Object(f.a)(c),b=Object(f.a)(u.a),g=Object(f.a)(s),y=l.a;(a&&"[object DataView]"!=y(new a(new ArrayBuffer(1)))||o.a&&"[object Map]"!=y(new o.a)||c&&"[object Promise]"!=y(c.resolve())||u.a&&"[object Set]"!=y(new u.a)||s&&"[object WeakMap]"!=y(new s))&&(y=function(t){var e=Object(l.a)(t),n="[object Object]"==e?t.constructor:void 0,r=n?Object(f.a)(n):"";if(r)switch(r){case h:return"[object DataView]";case p:return"[object Map]";case d:return"[object Promise]";case b:return"[object Set]";case g:return"[object WeakMap]"}return e});e.a=y},581:function(t,e,n){"use strict";e.a=function(t){return t}},582:function(t,e,n){"use strict";var r=n(570),i=n(612),a=n(578),o=n(577),c=n(566),u=n(568),s="[object String]";var l=function(t){return"string"==typeof t||!Object(c.a)(t)&&Object(u.a)(t)&&Object(o.a)(t)==s},f=n(572),h=n(567),p=NaN,d=/^\s+|\s+$/g,b=/^[-+]0x[0-9a-f]+$/i,g=/^0b[01]+$/i,y=/^0o[0-7]+$/i,v=parseInt;var m=function(t){if("number"==typeof t)return t;if(Object(h.a)(t))return p;if(Object(f.a)(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Object(f.a)(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(d,"");var n=g.test(t);return n||y.test(t)?v(t.slice(2),n?2:8):b.test(t)?p:+t},_=1/0,O=17976931348623157e292;var j=function(t){return t?(t=m(t))===_||t===-_?(t<0?-1:1)*O:t==t?t:0:0===t?t:0};var w=function(t){var e=j(t),n=e%1;return e==e?n?e-n:e:0},S=n(575);var E=function(t,e){return Object(S.a)(e,function(e){return t[e]})},k=n(571);var A=function(t){return null==t?[]:E(t,Object(k.a)(t))},L=Math.max;var M=function(t,e,n,r){t=Object(a.a)(t)?t:A(t),n=n&&!r?w(n):0;var o=t.length;return n<0&&(n=L(o+n,0)),l(t)?n<=o&&t.indexOf(e,n)>-1:!!o&&Object(i.a)(t,e,n)>-1},P=n(586);function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var T=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"isContinuous",value:function(t){return"bridge"!==(t=t.toLowerCase())}}],(n=[{key:"getFeatureShape",value:function(t,e,n,r){return r=r||"rectangle",this._ftLength=n,this._ftHeight=e,this._ftWidth=t*n,"function"!=typeof this["_"+r]&&(r="rectangle"),this["_"+r]()}},{key:"_rectangle",value:function(){return"M0,0L"+this._ftWidth+",0L"+this._ftWidth+","+this._ftHeight+"L0,"+this._ftHeight+"Z"}},{key:"_roundRectangle",value:function(){return"M6,0h"+(this._ftWidth-12)+",0a6,6 0 0 1 6,6v"+(this._ftHeight-12)+"a6,6 0 0 1 "+-6+",6h"+(12-this._ftWidth)+"a6,6 0 0 1 "+-6+","+-6+"v"+(12-this._ftHeight)+"a6,6 0 0 1 6,"+-6+"Z"}},{key:"_bridge",value:function(){return 1!==this._ftLength?"M0,"+this._ftHeight+"L0,0L"+this._ftWidth+",0L"+this._ftWidth+","+this._ftHeight+"L"+this._ftWidth+",2L0,2Z":"M0,"+this._ftHeight+"L0,"+this._ftHeight/2+"L"+this._ftWidth/2+","+this._ftHeight/2+"L"+this._ftWidth/2+",0L"+this._ftWidth/2+","+this._ftHeight/2+"L"+this._ftWidth+","+this._ftHeight/2+"L"+this._ftWidth+","+this._ftHeight+"Z"}},{key:"_getMiddleLine",value:function(t){return"M0,"+t+"L"+this._ftWidth+","+t+"Z"}},{key:"_diamond",value:function(){var t=this._ftWidth/2,e="M"+t+",0L"+(t+5)+",5L"+t+",10L"+(t-5)+",5";return 1!==this._ftLength?e+this._getMiddleLine(5,this._ftWidth):e+"Z"}},{key:"_chevron",value:function(){var t=this._ftWidth/2,e="M"+t+",5L"+(5+t)+",0L"+(5+t)+",5L"+t+",10L"+(-5+t)+",5L"+(-5+t)+",0";return 1!==this._ftLength?e+"L"+t+",5"+this._getMiddleLine(5,this._ftWidth)+"Z":e+"Z"}},{key:"_catFace",value:function(){var t=this._ftWidth/2,e="M"+(-5+t)+",0L"+(-5+t)+",6L"+(-2+t)+",10L"+(2+t)+",10L"+(5+t)+",6L"+(5+t)+",0L"+(2+t)+",4L"+(-2+t)+",4";return 1!==this._ftLength?e+"M"+t+",0"+this._getMiddleLine(5,this._ftWidth)+"Z":e+"Z"}},{key:"_triangle",value:function(){var t=this._ftWidth/2,e="M"+t+",0L"+(5+t)+",10L"+(-5+t)+",10";return 1!==this._ftLength?e+"L"+t+",0"+this._getMiddleLine(5,this._ftWidth)+"Z":e+"Z"}},{key:"_wave",value:function(){var t=this._ftWidth/2,e="M"+(-5+t)+",5A2.5,5 0 1,1 "+t+",5A2.5,5 0 1,0 "+(5+t)+",5";return 1!==this._ftLength?e+this._getMiddleLine(5,this._ftWidth)+"Z":e+"Z"}},{key:"_getPolygon",value:function(t){for(var e="M ",n=this._ftWidth/2,r=0;r<t;r++)e+=5*Math.cos(2*Math.PI*r/t)+n+","+(5*Math.sin(2*Math.PI*r/t)+5)+" ";return 1!==this._ftLength?e+" "+(5*Math.cos(0)+n)+","+(5*Math.sin(0)+5)+" "+this._getMiddleLine(5,this._ftWidth)+"Z":e+"Z"}},{key:"_hexagon",value:function(){return this._getPolygon(6)}},{key:"_pentagon",value:function(){return this._getPolygon(5)}},{key:"_circle",value:function(){var t=this._ftWidth/2,e=Math.sqrt(10/Math.PI),n="M"+t+",0A"+e+","+e+" 0 1,1 "+t+",10A"+e+","+e+" 0 1,1 "+t+",0";return 1!==this._ftLength?n+this._getMiddleLine(5,this._ftWidth)+"Z":n+"Z"}},{key:"_arrow",value:function(){var t=this._ftWidth/2,e="M"+t+",0L"+(-1+t)+",0L"+(-5+t)+",4L"+(-1+t)+","+this._ftHeight+"L"+t+","+this._ftHeight+"L"+(4+t)+",4";return 1!==this._ftLength?e+"L"+t+",0"+this._getMiddleLine(5,this._ftWidth)+"Z":e+"Z"}},{key:"_doubleBar",value:function(){var t=this._ftWidth/2,e="M"+t+",0L"+(-5+t)+",10L"+t+",10L"+(5+t)+",0";return 1!==this._ftLength?e+"L"+t+",0"+this._getMiddleLine(5,this._ftWidth)+"Z":e+"Z"}},{key:"_getBrokenEnd",value:function(){var t=this._ftHeight/4;return"L"+(this._ftWidth-t)+","+t+"L"+this._ftWidth+","+2*t+"L"+(this._ftWidth-t)+","+3*t+"L"+this._ftWidth+","+this._ftHeight}},{key:"_getBrokenStart",value:function(){var t=this._ftHeight/4;return"L"+t+","+3*t+"L0,"+2*t+"L"+t+","+t}},{key:"_discontinuosStart",value:function(){return"M0,0L"+this._ftWidth+",0L"+this._ftWidth+","+this._ftHeight+"L0,"+this._ftHeight+this._getBrokenStart()+"Z"}},{key:"_discontinuos",value:function(){return"M0,0L"+this._ftWidth+",0"+this._getBrokenEnd()+"L0,"+this._ftHeight+this._getBrokenStart()+"Z"}},{key:"_discontinuosEnd",value:function(){return"M0,0L"+this._ftWidth+",0"+this._getBrokenEnd()+"L0,"+this._ftHeight+"Z"}},{key:"_helix",value:function(){for(var t=2.5,e=2.5,n=Math.round(this._ftWidth/10),r="",i=0;i<n;i++){r+="M"+(-2.5+e)+","+this._ftHeight+" C"+(e+t)+",7.5 "+(2.5+e)+","+t+" "+e+", 0 C"+(e-t)+","+t+" "+e+",7.5 "+(2.5+e)+","+this._ftHeight,e+=5}return r}},{key:"_strand",value:function(){var t=0;this._ftWidth>5&&(t=this._ftWidth-5);var e=this._ftHeight/4;return"M0,"+e+"L"+t+","+e+"L"+t+","+3*e+"L0,"+3*e+"L0,"+e+("M"+t+",0L"+this._ftWidth+","+2*e+"L"+t+","+this._ftHeight+"Z")}}])&&C(e.prototype,n),r&&C(e,r),t}();function x(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var F=function(){function t(e){var n=e.layoutHeight,r=e.padding,i=void 0===r?1:r,a=e.minHeight,o=void 0===a?17:a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._padding=i,this._minHeight=o,this._layoutHeight=n}var e,n,r;return e=t,(n=[{key:"init",value:function(t){this._features=t}},{key:"getFeatureYPos",value:function(){return Math.min(this._layoutHeight,this._minHeight)+this._padding}},{key:"getFeatureHeight",value:function(){return Math.min(this._layoutHeight,this._minHeight)-this._padding}}])&&x(e.prototype,n),r&&x(e,r),t}();function N(t){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function D(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function R(t,e){return!e||"object"!==N(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function H(t){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function I(t,e){return(I=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var W=function(t,e){return e.some(function(e){return n=t,r=e,!(Number(r.start)>Number(n.end)||Number(r.end)<Number(n.start));var n,r})},V=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=R(this,H(e).call(this,t))).featuresMap=new Map,n._rowHeight=0,n._rows=[],n._minHeight=15,n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&I(t,e)}(e,F),n=e,(r=[{key:"init",value:function(t){var e=this;t.forEach(function(t){var n=e._rows.findIndex(function(e){return!W(t,e)});n>=0?(e._rows[n].push(t),e.featuresMap.set(t,n)):(e._rows.push([t]),e.featuresMap.set(t,e._rows.length-1))}),this._rowHeight=Math.min(this._layoutHeight/this._rows.length,this._minHeight)}},{key:"getOffset",value:function(){return this._rows.length*this._rowHeight<this._layoutHeight?this._layoutHeight/2-this._rows.length*this._rowHeight/2:0}},{key:"getFeatureYPos",value:function(t){var e=this.featuresMap.get(t);return this.getOffset()+this._rowHeight*e+2*this._padding}},{key:"getFeatureHeight",value:function(){return this._rowHeight-2*this._padding}}])&&D(n.prototype,r),i&&D(n,i),e}(),q={CHAIN:{name:"chain",label:"Chain",tooltip:"(aka mature region). This describes the extent of a polypeptide chain in the mature protein following processing",shape:"rectangle",color:"#CC9933"},TRANSIT:{name:"transit peptide",label:"Transit peptide",tooltip:"This describes the extent of a transit peptide",shape:"rectangle",color:"#009966"},INIT_MET:{name:"initiator methionine",label:"Initiator methionine",tooltip:"This indicates that the initiator methionine is cleaved from the mature protein",shape:"arrow",color:"#996633"},PROPEP:{name:"propeptide",label:"Propeptide",tooltip:"Part of a protein that is cleaved during maturation or activation",shape:"rectangle",color:"#99CCCC"},PEPTIDE:{name:"peptide",label:"Peptide",tooltip:"The position and length of an active peptide in the mature protein",shape:"rectangle",color:"#006699"},SIGNAL:{name:"signal peptide",label:"Signal peptide",tooltip:"N-terminal signal peptide",shape:"rectangle",color:"#CC0033"},HELIX:{name:"helix",label:"Helix",tooltip:"The positions of experimentally determined helical regions",shape:"rectangle",color:"#FF0066"},STRAND:{name:"strand",label:"Beta strand",tooltip:"The positions of experimentally determined beta strands",shape:"rectangle",color:"#FFCC00"},TURN:{name:"turn",label:"Turn",tooltip:"The positions of experimentally determined hydrogen-bonded turns",shape:"rectangle",color:"#0571AF"},DISULFID:{name:"disulfide bond",label:"Disulfide bond",tooltip:"The positions of cysteine residues participating in disulphide bonds",shape:"bridge",color:"#23B14D"},CROSSLNK:{name:"cross-link",label:"Cross-link",tooltip:"Covalent linkages of various types formed between two proteins or between two parts of the same protein",shape:"bridge",color:"#FF6600"},REGION:{name:"region of interest",label:"Region of interest",tooltip:"Regions in multifunctional enzymes or fusion proteins, or characteristics of a region, e.g., protein-protein interactions mediation",shape:"rectangle",color:"#B33E00"},COILED:{name:"coiled-coil region",label:"Coiled-coil region",tooltip:"Coiled coils are built by two or more alpha-helices that wind around each other to form a supercoil",shape:"rectangle",color:"#006699"},MOTIF:{name:"short sequence motif",label:"Short sequence motif",tooltip:"Short conserved sequence motif of biological significance",shape:"rectangle",color:"#402060"},REPEAT:{name:"repeat",label:"Repeat",tooltip:"Repeated sequence motifs or repeated domains within the protein",shape:"rectangle",color:"#9900FF"},CA_BIND:{name:"calcium-binding region",label:"Calcium-binding region",tooltip:"Calcium-binding regions, such as the EF-hand motif",shape:"rectangle",color:"#FF3399"},DNA_BIND:{name:"DNA-binding region",label:"DNA binding",tooltip:"DNA-binding domains such as AP2/ERF domain, the ETS domain, the Fork-Head domain, the HMG box and the Myb domain",shape:"rectangle",color:"#009933"},DOMAIN:{name:"other domain of interest",label:"Other domain of interest",tooltip:"Specific combination of secondary structures organized into a characteristic three-dimensional structure or fold",shape:"rectangle",color:"#9999FF"},ZN_FING:{name:"zinc finger region",label:"Zinc finger",tooltip:"Small, functional, independently folded domain that coordinates one or more zinc ions",shape:"rectangle",color:"#990066"},NP_BIND:{name:"nucleotide-binding region",label:"Nucleotide-binding region",tooltip:"(aka flavin-binding). Region in the protein which binds nucleotide phosphates",shape:"rectangle",color:"#FF9900"},METAL:{name:"metal ion-binding site",label:"Metal ion-binding site",tooltip:"Binding site for a metal ion",shape:"diamond",color:"#009900"},SITE:{name:"other site of interest",label:"Other site of interest",tooltip:"Any interesting single amino acid site on the sequence",shape:"chevron",color:"#660033"},BINDING:{name:"other binding site",label:"Other binding site",tooltip:"Binding site for any chemical group (co-enzyme, prosthetic group, etc.)",shape:"rectangle",color:"#catFace"},ACT_SITE:{name:"active site",label:"Active site",tooltip:"Amino acid(s) directly involved in the activity of an enzyme",shape:"circle",color:"#FF6666"},MOD_RES:{name:"Post-translationally modified residue",label:"Modified residue",tooltip:"Modified residues such as phosphorylation, acetylation, acylation, methylation",shape:"triangle",color:"#000066"},LIPID:{name:"lipid moiety-binding region",label:"Lipidation",tooltip:"Covalently attached lipid group(s)",shape:"wave",color:"#99CC33"},CARBOHYD:{name:"glycosylation site",label:"Glycosylation",tooltip:"Covalently attached glycan group(s)",shape:"hexagon",color:"#CC3366"},COMPBIAS:{name:"compositionally biased region",label:"Compositionally biased region",tooltip:"Position of regions of compositional bias within the protein and the particular amino acids that are over-represented within those regions",shape:"rectangle",color:"#FF3366"},CONFLICT:{name:"sequence conflict",label:"Sequence conflict",tooltip:"Sequence discrepancies of unknown origin",shape:"rectangle",color:"#6633CC"},NON_CONS:{name:"non-consecutive residues",label:"Non-adjacent residues",tooltip:"Indicates that two residues in a sequence are not consecutive and that there is an undetermined number of unsequenced residues between them",shape:"doubleBar",color:"#FF0033"},NON_TER:{name:"non-terminal residue",label:"Non-terminal residue",tooltip:"The sequence is incomplete. The residue is not the terminal residue of the complete protein",shape:"doubleBar",color:"#339933"},UNSURE:{name:"unsure residue",label:"Sequence uncertainty",tooltip:"Regions of a sequence for which the authors are unsure about the sequence assignment",shape:"rectangle",color:"#33FF00"},NON_STD:{name:"non-standard amino acid",label:"Non-standard residue",tooltip:"Non-standard amino acids (selenocysteine and pyrrolysine)",shape:"pentagon",color:"#330066"},MUTAGEN:{name:"mutagenesis site",label:"Mutagenesis",tooltip:"Site which has been experimentally altered by mutagenesis",shape:"rectangle",color:"#FF9900"},TOPO_DOM:{name:"topological domain",label:"Topological domain",tooltip:"Location of non-membrane regions of membrane-spanning proteins",shape:"rectangle",color:"#CC0000"},TRANSMEM:{name:"transmembrane region",label:"Transmembrane",tooltip:"Extent of a membrane-spanning region",shape:"rectangle",color:"#CC00CC"},INTRAMEM:{name:"intramembrane region",label:"Intramembrane",tooltip:"Extent of a region located in a membrane without crossing it",shape:"rectangle",color:"#0000CC"},VAR_SEQ:{name:"splice variant",label:"Splice variant",tooltip:"",shape:"rectangle",color:"#CC11CC"},VARIANT:{name:"sequence variant",label:"Natural variant",tooltip:"Natural variant of the protein, including polymorphisms, variations between strains, isolates or cultivars, disease-associated mutations and RNA editing events",shape:"circle",color:"black"},UNIQUE:{name:"unique",label:"Unique peptide",tooltip:"",shape:"rectangle",color:"#fc3133"},NON_UNIQUE:{name:"non-unique",label:"Non-unique peptide",tooltip:"",shape:"rectangle",color:"#8585fc"},ANTIGEN:{name:"antigen",label:"Antibody binding sequences",tooltip:"",shape:"rectangle",color:"#996699"},PDBE_COVER:{name:"pdbe coverage",label:"PDBe 3D structure coverage",tooltip:"",shape:"rectangle",color:"#669966"}},G=function(t){if(q[t.toUpperCase()])return q[t.toUpperCase()].shape;var e=Object.values(q).find(function(e){return e.name.toUpperCase()===t.toUpperCase()});return e?e.shape:"rectangle"},z=function(t){if(q[t.toUpperCase()])return q[t.toUpperCase()].color;var e=Object.values(q).find(function(e){return e.name.toUpperCase()===t.toUpperCase()});return e||console.log(t),e?e.color:"black"};function K(t){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function U(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Q(t,e){return!e||"object"!==K(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Z(t,e,n){return(Z="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=B(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function B(t){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Y(t,e){return(Y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"a",function(){return F});var X=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Q(this,B(e).apply(this,arguments))}var n,i,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Y(t,e)}(e,P["a"]),n=e,a=[{key:"normalizeLocations",value:function(t){return t.map(function(t){var e=t.locations,n=t.start,r=t.end;return e?t:Object.assign(t,{locations:[{fragments:[{start:n,end:r}]}]})})}},{key:"observedAttributes",get:function(){return P.a.observedAttributes.concat(["highlight","color","shape"])}}],(i=[{key:"getLayout",value:function(){return"non-overlapping"===String(this.getAttribute("layout")).toLowerCase()?new V({layoutHeight:this._height}):new F({layoutHeight:this._height})}},{key:"connectedCallback",value:function(){var t=this;Z(B(e.prototype),"connectedCallback",this).call(this),this._color=this.getAttribute("color"),this._shape=this.getAttribute("shape"),this._featureShape=new T,this._layoutObj=this.getLayout(),this._data&&this._createTrack(),this.addEventListener("load",function(e){M(t.children,e.target)&&(t.data=e.detail.payload)})}},{key:"_getFeatureColor",value:function(t){return t.color?t.color:t.feature&&t.feature.color?t.feature.color:this._color?this._color:t.type?z(t.type):t.feature&&t.feature.type?z(t.feature.type):"black"}},{key:"_getFeatureFillColor",value:function(t){return t.fill?t.fill:t.feature&&t.feature.fill?t.feature.fill:this._getFeatureColor(t)}},{key:"_getShape",value:function(t){return t.shape?t.shape:t.feature&&t.feature.shape?t.feature.shape:this._shape?this._shape:t.type?G(t.type):t.feature&&t.feature.type?G(t.feature.type):"rectangle"}},{key:"_createTrack",value:function(){this._layoutObj.init(this._data),Object(r.l)(this).selectAll("svg").remove(),this.svg=Object(r.l)(this).append("div").style("line-height",0).append("svg").attr("width",this.width).attr("height",this._height),this.trackHighlighter.appendHighlightTo(this.svg),this.seq_g=this.svg.append("g").attr("class","sequence-features"),this._createFeatures()}},{key:"_createFeatures",value:function(){var t=this;this.featuresG=this.seq_g.attr("clip-path","url(#trackClip)").selectAll("g.feature-group").data(this._data),this._clipPath=this.svg.append("clipPath").attr("id","trackClip").append("rect").attr("width",this.getWidthWithMargins()).attr("height",this._height),this.locations=this.featuresG.enter().append("g").attr("class","feature-group").attr("id",function(t){return"g_".concat(t.accession)}).selectAll("g.location-group").data(function(t){return t.locations.map(function(e){return Object.assign({},e,{feature:t})})}).enter().append("g").attr("class","location-group"),this.features=this.locations.selectAll("g.fragment-group").data(function(t){return t.fragments.map(function(e){return Object.assign({},e,{feature:t.feature})})}).enter().append("path").attr("class",function(e){return"".concat(t._getShape(e)," feature")}).attr("d",function(e){return t._featureShape.getFeatureShape(t.getSingleBaseWidth(),t._layoutObj.getFeatureHeight(e),e.end?e.end-e.start+1:1,t._getShape(e))}).attr("transform",function(e){return"translate(".concat(t.getXFromSeqPosition(e.start),",").concat(t._layoutObj.getFeatureYPos(e.feature),")")}).attr("fill",function(e){return t._getFeatureFillColor(e)}).attr("stroke",function(e){return t._getFeatureColor(e)}).style("fill-opacity",.9).call(this.bindEvents,this)}},{key:"refresh",value:function(){var t=this;this.xScale&&this.seq_g&&(this.features=this.seq_g.selectAll("path.feature").data(this._data.reduce(function(t,e){return t.concat(e.locations.reduce(function(t,n){return t.concat(n.fragments.map(function(t){return Object.assign({},t,{feature:e})}))},[]))},[])),this.features.attr("d",function(e){return t._featureShape.getFeatureShape(t.getSingleBaseWidth(),t._layoutObj.getFeatureHeight(e),e.end?e.end-e.start+1:1,t._getShape(e))}).attr("transform",function(e){return"translate(".concat(t.getXFromSeqPosition(e.start),",").concat(t._layoutObj.getFeatureYPos(e.feature),")")}),this._updateHighlight(),this._clipPath.attr("width",this.getWidthWithMargins()))}},{key:"_updateHighlight",value:function(){this.trackHighlighter.updateHighlight()}},{key:"data",set:function(t){this._data=this.normalizeLocations(t),this._createTrack()}}])&&U(n.prototype,i),a&&U(n,a),e}();e.b=X},583:function(t,e,n){"use strict";e.a=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},584:function(t,e,n){"use strict";var r=n(585);e.a=function(t,e,n){var i=null==t?void 0:Object(r.a)(t,e);return void 0===i?n:i}},585:function(t,e,n){"use strict";var r=n(588),i=n(573);e.a=function(t,e){for(var n=0,a=(e=Object(r.a)(e,t)).length;null!=t&&n<a;)t=t[Object(i.a)(e[n++])];return n&&n==a?t:void 0}},586:function(t,e,n){"use strict";var r=n(570),i=n(589),a=n(627);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=t[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){i=!0,a=t}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){var e="function"==typeof Map?new Map:void 0;return(l=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return f(t,arguments,p(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),h(r,t)})(t)}function f(t,e,n){return(f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&h(i,n.prototype),i}).apply(null,arguments)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=function(t){function e(){var t,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,r=p(e).call(this),t=!r||"object"!==o(r)&&"function"!=typeof r?s(n):r,e._polyfillElementClosest(),t._updateScaleDomain=t._updateScaleDomain.bind(s(t)),t._initZoom=t._initZoom.bind(s(t)),t.zoomed=t.zoomed.bind(s(t)),t._applyZoomTranslation=t.applyZoomTranslation.bind(s(t)),t._resetEventHandler=t._resetEventHandler.bind(s(t));var a=!1;return t.applyZoomTranslation=function(){a||(a=!0,requestAnimationFrame(function(){a=!1,t._applyZoomTranslation()}))},t._onResize=t._onResize.bind(s(t)),t._listenForResize=t._listenForResize.bind(s(t)),t.trackHighlighter=new i.c({element:s(t),min:1}),t}var n,f,d;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,l(HTMLElement)),n=e,d=[{key:"_getClickCoords",value:function(){return r.e?[r.e.pageX,r.e.pageY]:null}},{key:"_polyfillElementClosest",value:function(){var t=this;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var n=t;do{if(n.matches(e))return n;n=n.parentElement||n.parentNode}while(null!==n&&1===n.nodeType);return null})}},{key:"observedAttributes",get:function(){return["displaystart","displayend","length","highlight"]}}],(f=[{key:"connectedCallback",value:function(){this.style.display="block",this.style.width="100%",this.width=this.offsetWidth,this.closest("protvista-manager")&&(this.manager=this.closest("protvista-manager"),this.manager.register(this)),this._length=this.getAttribute("length")?parseFloat(this.getAttribute("length")):0,this._displaystart=this.getAttribute("displaystart")?parseFloat(this.getAttribute("displaystart")):1,this._displayend=this.getAttribute("displayend")?parseFloat(this.getAttribute("displayend")):this.width,this._height=this.getAttribute("height")?Number(this.getAttribute("height")):44,this._highlightEvent=this.getAttribute("highlight-event")?this.getAttribute("highlight-event"):"onclick",this.trackHighlighter.setAttributesInElement(this),this._updateScaleDomain(),this._originXScale=this.xScale.copy(),this._initZoom(),this._listenForResize(),this.addEventListener("error",function(t){console.error(t)}),this.addEventListener("click",this._resetEventHandler)}},{key:"disconnectedCallback",value:function(){this.manager&&this.manager.unregister(this),this._ro?this._ro.unobserve(this):window.removeEventListener("resize",this._onResize),this.removeEventListener("click",this._resetEventHandler)}},{key:"getWidthWithMargins",value:function(){return this.width?this.width-this.margin.left-this.margin.right:0}},{key:"_updateScaleDomain",value:function(){this.xScale=Object(r.i)().domain([1,this._length+1]).range([0,this.getWidthWithMargins()])}},{key:"_initZoom",value:function(){this._zoom=Object(r.m)().scaleExtent([1,1/0]).translateExtent([[0,0],[this.getWidthWithMargins(),0]]).extent([[0,0],[this.getWidthWithMargins(),0]]).on("zoom",this.zoomed)}},{key:"setFloatAttribute",value:function(t,e){var n=parseFloat(e);this["_".concat(t)]=Number.isNaN(n)?e:n}},{key:"attributeChangedCallback",value:function(t,e,n){if("null"===n&&(n=null),e!==n){if(t.startsWith("highlight"))return void this.trackHighlighter.changedCallBack(t,n);this.setFloatAttribute(t,n),"length"===t&&(this._updateScaleDomain(),this._originXScale=this.xScale.copy()),this.applyZoomTranslation()}}},{key:"zoomed",value:function(){if(this.xScale=r.e.transform.rescaleX(this._originXScale),!this.dontDispatch){var t=c(this.xScale.domain(),2),e=t[0],n=t[1];this.dispatchEvent(new CustomEvent("change",{detail:{displaystart:Math.max(1,e),displayend:Math.min(this.length,Math.max(n-1,e+1))},bubbles:!0,cancelable:!0}))}}},{key:"applyZoomTranslation",value:function(){if(this.svg&&this._originXScale){var t=Math.max(1,this.length/(1+this._displayend-this._displaystart)),e=-this._originXScale(this._displaystart);this.dontDispatch=!0,this.svg.call(this.zoom.transform,r.n.scale(t).translate(e,0)),this.dontDispatch=!1,this.refresh()}}},{key:"_onResize",value:function(){this.width=this.offsetWidth,this._updateScaleDomain(),this._originXScale=this.xScale.copy(),this.svg&&this.svg.attr("width",this.width),this._zoom.scaleExtent([1,1/0]).translateExtent([[0,0],[this.getWidthWithMargins(),0]]),this.applyZoomTranslation()}},{key:"_listenForResize",value:function(){this._ro=new a.a(this._onResize),this._ro.observe(this)}},{key:"_resetEventHandler",value:function(t){t.target.closest(".feature")||this.dispatchEvent(this.createEvent("reset",null,!0))}},{key:"getXFromSeqPosition",value:function(t){return this.margin.left+this.xScale(t)}},{key:"getSingleBaseWidth",value:function(){return this.xScale(2)-this.xScale(1)}},{key:"createEvent",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;n&&(n=n.feature?n.feature:n);var c={eventtype:t,coords:e._getClickCoords(),feature:n,target:o};return r&&(n&&n.fragments?c.highlight=n.fragments.map(function(t){return"".concat(t.start,":").concat(t.end)}).join(","):c.highlight=i&&a?"".concat(i,":").concat(a):null),new CustomEvent("change",{detail:c,bubbles:!0,cancelable:!0})}},{key:"bindEvents",value:function(t,e){t.on("mouseover",function(t,n,r){e.dispatchEvent(e.createEvent("mouseover",t,"onmouseover"===e._highlightEvent,t.start,t.end,r[n]))}).on("mouseout",function(){e.dispatchEvent(e.createEvent("mouseout",null,"onmouseover"===e._highlightEvent))}).on("click",function(t,n,r){e.dispatchEvent(e.createEvent("click",t,"onclick"===e._highlightEvent,t.start,t.end,r[n]))})}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",set:function(t){this._height=t},get:function(){return this._height}},{key:"length",set:function(t){this._length=t,this.trackHighlighter.max=t},get:function(){return this._length}},{key:"xScale",get:function(){return this._xScale},set:function(t){this._xScale=t}},{key:"zoom",get:function(){return this._zoom}},{key:"svg",set:function(t){this._svg=t,t.call(this._zoom),this.applyZoomTranslation()},get:function(){return this._svg}},{key:"margin",get:function(){return{top:10,right:10,bottom:10,left:10}}},{key:"fixedHighlight",set:function(t){this.trackHighlighter.setFixedHighlight(t)}}])&&u(n.prototype,f),d&&u(n,d),e}();e.a=d},588:function(t,e,n){"use strict";var r=n(566),i=n(579),a=n(594),o="Expected a function";function c(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(o);var n=function n(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(c.Cache||a.a),n}c.Cache=a.a;var u=c,s=500;var l=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g,h=function(t){var e=u(t,function(t){return n.size===s&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(l,function(t,n,r,i){e.push(r?i.replace(f,"$1"):n||t)}),e}),p=n(576),d=n(575),b=n(567),g=1/0,y=p.a?p.a.prototype:void 0,v=y?y.toString:void 0;var m=function t(e){if("string"==typeof e)return e;if(Object(r.a)(e))return Object(d.a)(e,t)+"";if(Object(b.a)(e))return v?v.call(e):"";var n=e+"";return"0"==n&&1/e==-g?"-0":n};var _=function(t){return null==t?"":m(t)};e.a=function(t,e){return Object(r.a)(t)?t:Object(i.a)(t,e)?[t]:h(_(t))}},589:function(t,e,n){"use strict";function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=t[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){i=!0,a=t}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.min,r=void 0===n?-1/0:n,i=e.max,a=void 0===i?1/0:i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.segments=[],this.max=a,this.min=r,this.regionString=null}var e,n,a;return e=t,(n=[{key:"encode",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.segments.map(function(n){var r=n.start,i=n.end;if(e)return"".concat(r,":").concat(i);var a=r===t.min?"":r,o=i===t.max?"":i;return"".concat(a,":").concat(o)}).join(",")}},{key:"decode",value:function(t){var e=this;void 0!==t&&(this.regionString=t),this.regionString?this.segments=this.regionString.split(",").map(function(t){var n=r(t.split(":"),3),i=n[0],a=n[1];if(void 0!==n[2])throw new Error("there should be at most 1 ':' per region. Region: ".concat(t));var o=i?Number(i):e.min,c=a?Number(a):e.max;if(o>c){var u=[c,o];o=u[0],c=u[1]}if(o<e.min&&(o=e.min),c>e.max&&(c=e.max),Number.isNaN(o))throw new Error("The parsed value of ".concat(i," is NaN. Region: ").concat(t));if(Number.isNaN(c))throw new Error("The parsed value of ".concat(a," is NaN. Region: ").concat(t));return{start:o,end:c}}):this.segments=[]}}])&&i(e.prototype,n),a&&i(e,a),t}();function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=function(t,e){return t?e?"".concat(t,",").concat(e):t:e},u=function(){function t(e){var n=e.element,r=e.min,i=e.max;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=n,this.region=new a({min:r,max:i}),this.fixedHighlight=null}var e,n,r;return e=t,(n=[{key:"setAttributesInElement",value:function(){this.region.decode(this.element.getAttribute("highlight")),0===this.region.segments.length&&(this.element._highlightstart=Number(this.element.getAttribute("highlightstart")),this.element._highlightend=Number(this.element.getAttribute("highlightend")),null!==this.element._highlightstart&&null!==this.element._highlightend&&"number"==typeof this.element._highlightstart&&"number"==typeof this.element._highlightend&&(this.element._highlight="".concat(this.element._highlightstart,":").concat(this.element._highlightend),this.region.decode(c(this.fixedHighlight,this.element._highlight))))}},{key:"setFloatAttribute",value:function(t,e){var n=parseFloat(e);this.element["_".concat(t)]=Number.isNaN(n)?e:n}},{key:"changedCallBack",value:function(t,e){switch(t){case"highlightstart":case"highlightend":this.setFloatAttribute(t,e),this.element._highlight=Number.isNaN(this.element._highlightstart)||Number.isNaN(this.element._highlightend)||null===this.element._highlightstart||null===this.element._highlightend?"":"".concat(Math.max(this.region.min,this.element._highlightstart),":").concat(Math.min(this.region.max,this.element._highlightend));break;default:this.element._highlight=e}this.region.decode(c(this.fixedHighlight,this.element._highlight)),this.element.refresh()}},{key:"setFixedHighlight",value:function(t){this.fixedHighlight=t,this.region.decode(c(t,this.element._highlight)),this.element.refresh()}},{key:"appendHighlightTo",value:function(t){this.highlighted=t.append("g").attr("class","highlighted")}},{key:"updateHighlight",value:function(){var t=this,e=this.highlighted.selectAll("rect").data(this.region.segments);e.enter().append("rect").style("opacity",.5).attr("fill","rgba(255, 235, 59, 0.8)").style("pointer-events","none").merge(e).attr("height",this.element._height).attr("x",function(e){return t.element.getXFromSeqPosition(e.start)}).attr("width",function(e){return t.element.getSingleBaseWidth()*(e.end-e.start+1)}),e.exit().remove()}},{key:"max",set:function(t){this.region.max=t}}])&&o(e.prototype,n),r&&o(e,r),t}();function s(t){var e=document.createElement("div");return e.style.borderColor="",e.style.borderColor=t,""!==e.style.borderColor}var l=function(t){return t};n.d(e,"c",function(){return f}),n.d(e,"a",function(){return h}),n.d(e,"b",function(){return p});var f=u,h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=[],n=[];if(null!==t&&"string"!=typeof t)throw new Error("The attribute text has to be of type string");if(t&&""!==t.trim()){var r=t.split(",").map(function(t){return t.split(":")});if(r.length<2)throw new Error("There should be at least 2 points to create a scale");e=r.map(function(t){var e=t[0].trim().toUpperCase();if(!s(e))throw new Error("The color '".concat(e," is not valid'"));return e}),n=r.map(function(t,e){var n=parseFloat(t[1]);if(Number.isNaN(n))throw new Error("The second part of every point should be a number. Error in point ".concat(e,": ").concat(t));return n})}return{range:e,domain:n}},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.keyFormatter,r=void 0===n?l:n,i=e.valueFormatter,a=void 0===i?l:i;if(null!==t&&"string"!=typeof t)throw new Error("The attribute text has to be of type string");if(t&&""!==t.trim()){var o=t.split(",").map(function(t){return t.split(":")}),c={};return o.forEach(function(t){if(2!==t.length)throw new Error("Bad block: ".concat(t.join(":"),"\n The blocks of the string should follow the format KEY:VALUE"));c[r(t[0])]=a(t[1])}),c}return{}}},590:function(t,e,n){"use strict";var r=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a},i=n(606),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,c=o?function(t){return null==t?[]:(t=Object(t),r(o(t),function(e){return a.call(t,e)}))}:i.a;e.a=c},591:function(t,e,n){"use strict";var r=n(605);e.a=function(t,e,n){"__proto__"==e&&r.a?Object(r.a)(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},592:function(t,e,n){"use strict";e.a=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}},593:function(t,e,n){"use strict";e.a=function(t,e){return t.has(e)}},595:function(t,e,n){"use strict";var r=n(594),i="__lodash_hash_undefined__";var a=function(t){return this.__data__.set(t,i),this};var o=function(t){return this.__data__.has(t)};function c(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r.a;++e<n;)this.add(t[e])}c.prototype.add=c.prototype.push=a,c.prototype.has=o;e.a=c},596:function(t,e,n){"use strict";var r=n(599);var i=function(){this.__data__=new r.a,this.size=0};var a=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n};var o=function(t){return this.__data__.get(t)};var c=function(t){return this.__data__.has(t)},u=n(614),s=n(594),l=200;var f=function(t,e){var n=this.__data__;if(n instanceof r.a){var i=n.__data__;if(!u.a||i.length<l-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new s.a(i)}return n.set(t,e),this.size=n.size,this};function h(t){var e=this.__data__=new r.a(t);this.size=e.size}h.prototype.clear=i,h.prototype.delete=a,h.prototype.get=o,h.prototype.has=c,h.prototype.set=f;e.a=h},600:function(t,e,n){"use strict";var r=[{name:"ECO:0000269",description:"Manual assertion based on experiment",shortDescription:"Publication",acronym:"EXP",isManual:!0},{name:"ECO:0000303",description:"Manual assertion based on opinion",shortDescription:"Publication",acronym:"NAS",isManual:!0},{name:"ECO:0000305",description:"Manual assertion inferred by curator",shortDescription:"Curated",acronym:"IC",isManual:!0},{name:"ECO:0000250",description:"Manual assertion inferred from sequence similarity",shortDescription:"By similarity",acronym:"ISS",isManual:!0},{name:"ECO:0000255",description:"Manual assertion according to rules",shortDescription:"Sequence Analysis",acronym:"ISM",isManual:!0},{name:"ECO:0000244",description:"Manual assertion inferred from combination of experimental and computational evidence",shortDescription:"Combined sources",acronym:"MIXM",isManual:!0},{name:"ECO:0000312",description:"Manual assertion inferred from database entries",shortDescription:"Imported",acronym:"MI",isManual:!0},{name:"ECO:0000256",description:"Automatic assertion according to rules",shortDescription:"Automatic annotation",acronym:"AA"},{name:"ECO:0000259",description:"Automatic assertion inferred from signature match",shortDescription:"Automatic annotation",acronym:"AA"},{name:"ECO:0000213",description:"Automatic assertion inferred from combination of experimental and computational evidence",shortDescription:"Combined sources",acronym:"MIXA"},{name:"ECO:0000313",description:"Automatic assertion inferred from database entries",shortDescription:"Imported",acronym:"AI"}];function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,c;return e=t,c=[{key:"renameProperties",value:function(t){return t.map(function(t){var e={};return t.begin&&(e.start=t.begin),function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(n,!0).forEach(function(e){a(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},t,{},e)})}},{key:"formatSource",value:function(t){return t.name.toLowerCase()==="PubMed".toLowerCase()?"".concat(t.id,"&nbsp;(<a href='").concat(t.url,"' style=\"color:#FFF\" target='_blank'>").concat(t.name,"</a>&nbsp;<a href='").concat(t.alternativeUrl,"' style=\"color:#FFF\" target='_blank'>EuropePMC</a>)"):"&nbsp;<a href='".concat(t.url,"' style=\"color:#FFF\" target='_blank'>").concat(t.id,"</a>&nbsp;(").concat(t.name,")")}},{key:"getEvidenceFromCodes",value:function(e){return e?"\n      <ul>".concat(e.map(function(e){var n=r.find(function(t){return t.name===e.code});return n?"<li title='".concat(n.description,'\' style="padding: .25rem 0">').concat(n.shortDescription,":&nbsp;").concat(e.source?t.formatSource(e.source):"","</li>"):""}).join(""),"</ul>\n    "):""}},{key:"formatXrefs",value:function(t){return"<ul>".concat(t.map(function(t){return'<li style="padding: .25rem 0">'.concat(t.name," ").concat(t.url?'<a href="'.concat(t.url,'" style="color:#FFF" target="_blank">').concat(t.id,"</a>"):"".concat(t.name," ").concat(t.id),"</li>")}).join(""),"</ul>")}},{key:"formatTooltip",value:function(e){var n=t.getEvidenceFromCodes(e.evidences);return"\n      ".concat(e.description?"<h5>Description</h5><p>".concat(e.description,"</p>"):"","\n      ").concat(e.matchScore?"<h5>Match score</h5><p>".concat(e.matchScore,"%</p>"):"","\n      ").concat(e.ftId?"<h5>Feature ID</h5><p>".concat(e.ftId,"</p>"):"","\n      ").concat(e.alternativeSequence?"<h5>Alternative sequence</h5><p>".concat(e.alternativeSequence,"</p>"):"","\n      ").concat(n?"<h5>Evidence</h5>".concat(n):"","\n      ").concat(e.xrefs?"<h5>Cross-references</h5>".concat(t.formatXrefs(e.xrefs)):"","\n        ")}}],(n=null)&&o(e.prototype,n),c&&o(e,c),t}();function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){var e="function"==typeof Map?new Map:void 0;return(p=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return d(t,arguments,g(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),b(r,t)})(t)}function d(t,e,n){return(d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&b(i,n.prototype),i}).apply(null,arguments)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=h(this,g(e).call(this)))._adaptedData=[],t._basicHelper=c,t}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(e,p(HTMLElement)),n=e,(r=[{key:"connectedCallback",value:function(){this._filters=this.getAttribute("filters")?this.getAttribute("filters").split(","):[],this._addLoaderListeners()}},{key:"parseEntry",value:function(t){var e=this,n=t.features;return n&&n.length>0&&(this._adaptedData=n.map(function(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){l(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},t,{tooltipContent:e._basicHelper.formatTooltip(t)})}),this._adaptedData=this._basicHelper.renameProperties(this._adaptedData)),this._adaptedData}},{key:"filterData",value:function(){var t=this;Array.isArray(this._adaptedData)&&this._filters.length>0&&(this._adaptedData=this._adaptedData.filter(function(e){return t._filters.includes(e.type)}))}},{key:"_emitEvent",value:function(t){this.parseEntry(t),this.filterData(),this.dispatchEvent(new CustomEvent("load",{detail:{payload:this._adaptedData},bubbles:!0,cancelable:!0}))}},{key:"_addLoaderListeners",value:function(){var t=this;this.addEventListener("load",function(e){if(e.target!==t){e.stopPropagation();try{if(e.detail.payload.errorMessage)throw e.detail.payload.errorMessage;t._emitEvent(e.detail.payload)}catch(e){t.dispatchEvent(new CustomEvent("error",{detail:e,bubbles:!0,cancelable:!0}))}}})}},{key:"data",set:function(t){this._emitEvent(t)}},{key:"adaptedData",get:function(){return this._adaptedData}},{key:"basicHelper",get:function(){return this._basicHelper}}])&&f(n.prototype,r),i&&f(n,i),e}();e.a=y},602:function(t,e,n){"use strict";var r=n(596),i=n(595);var a=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},o=n(593),c=1,u=2;var s=function(t,e,n,r,s,l){var f=n&c,h=t.length,p=e.length;if(h!=p&&!(f&&p>h))return!1;var d=l.get(t);if(d&&l.get(e))return d==e;var b=-1,g=!0,y=n&u?new i.a:void 0;for(l.set(t,e),l.set(e,t);++b<h;){var v=t[b],m=e[b];if(r)var _=f?r(m,v,b,e,t,l):r(v,m,b,t,e,l);if(void 0!==_){if(_)continue;g=!1;break}if(y){if(!a(e,function(t,e){if(!Object(o.a)(y,e)&&(v===t||s(v,t,n,r,l)))return y.push(e)})){g=!1;break}}else if(v!==m&&!s(v,m,n,r,l)){g=!1;break}}return l.delete(t),l.delete(e),g},l=n(576),f=n(610),h=n(620);var p=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n},d=n(592),b=1,g=2,y="[object Boolean]",v="[object Date]",m="[object Error]",_="[object Map]",O="[object Number]",j="[object RegExp]",w="[object Set]",S="[object String]",E="[object Symbol]",k="[object ArrayBuffer]",A="[object DataView]",L=l.a?l.a.prototype:void 0,M=L?L.valueOf:void 0;var P=function(t,e,n,r,i,a,o){switch(n){case A:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case k:return!(t.byteLength!=e.byteLength||!a(new f.a(t),new f.a(e)));case y:case v:case O:return Object(h.a)(+t,+e);case m:return t.name==e.name&&t.message==e.message;case j:case S:return t==e+"";case _:var c=p;case w:var u=r&b;if(c||(c=d.a),t.size!=e.size&&!u)return!1;var l=o.get(t);if(l)return l==e;r|=g,o.set(t,e);var L=s(c(t),c(e),r,i,a,o);return o.delete(t),L;case E:if(M)return M.call(t)==M.call(e)}return!1},C=n(611),T=1,x=Object.prototype.hasOwnProperty;var F=function(t,e,n,r,i,a){var o=n&T,c=Object(C.a)(t),u=c.length;if(u!=Object(C.a)(e).length&&!o)return!1;for(var s=u;s--;){var l=c[s];if(!(o?l in e:x.call(e,l)))return!1}var f=a.get(t);if(f&&a.get(e))return f==e;var h=!0;a.set(t,e),a.set(e,t);for(var p=o;++s<u;){var d=t[l=c[s]],b=e[l];if(r)var g=o?r(b,d,l,e,t,a):r(d,b,l,t,e,a);if(!(void 0===g?d===b||i(d,b,n,r,a):g)){h=!1;break}p||(p="constructor"==l)}if(h&&!p){var y=t.constructor,v=e.constructor;y!=v&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof v&&v instanceof v)&&(h=!1)}return a.delete(t),a.delete(e),h},N=n(580),D=n(566),R=n(619),H=n(645),I=1,W="[object Arguments]",V="[object Array]",q="[object Object]",G=Object.prototype.hasOwnProperty;var z=function(t,e,n,i,a,o){var c=Object(D.a)(t),u=Object(D.a)(e),l=c?V:Object(N.a)(t),f=u?V:Object(N.a)(e),h=(l=l==W?q:l)==q,p=(f=f==W?q:f)==q,d=l==f;if(d&&Object(R.a)(t)){if(!Object(R.a)(e))return!1;c=!0,h=!1}if(d&&!h)return o||(o=new r.a),c||Object(H.a)(t)?s(t,e,n,i,a,o):P(t,e,l,n,i,a,o);if(!(n&I)){var b=h&&G.call(t,"__wrapped__"),g=p&&G.call(e,"__wrapped__");if(b||g){var y=b?t.value():t,v=g?e.value():e;return o||(o=new r.a),a(y,v,n,i,o)}}return!!d&&(o||(o=new r.a),F(t,e,n,i,a,o))},K=n(568);var U=function t(e,n,r,i,a){return e===n||(null==e||null==n||!Object(K.a)(e)&&!Object(K.a)(n)?e!=e&&n!=n:z(e,n,r,i,t,a))},Q=1,Z=2;var B=function(t,e,n,i){var a=n.length,o=a,c=!i;if(null==t)return!o;for(t=Object(t);a--;){var u=n[a];if(c&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++a<o;){var s=(u=n[a])[0],l=t[s],f=u[1];if(c&&u[2]){if(void 0===l&&!(s in t))return!1}else{var h=new r.a;if(i)var p=i(l,f,s,t,e,h);if(!(void 0===p?U(f,l,Q|Z,i,h):p))return!1}}return!0},Y=n(572);var X=function(t){return t==t&&!Object(Y.a)(t)},$=n(571);var J=function(t){for(var e=Object($.a)(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,X(i)]}return e};var tt=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}};var et=function(t){var e=J(t);return 1==e.length&&e[0][2]?tt(e[0][0],e[0][1]):function(n){return n===t||B(n,t,e)}},nt=n(584);var rt=function(t,e){return null!=t&&e in Object(t)},it=n(588),at=n(623),ot=n(641),ct=n(639),ut=n(573);var st=function(t,e,n){for(var r=-1,i=(e=Object(it.a)(e,t)).length,a=!1;++r<i;){var o=Object(ut.a)(e[r]);if(!(a=null!=t&&n(t,o)))break;t=t[o]}return a||++r!=i?a:!!(i=null==t?0:t.length)&&Object(ct.a)(i)&&Object(ot.a)(o,i)&&(Object(D.a)(t)||Object(at.a)(t))};var lt=function(t,e){return null!=t&&st(t,e,rt)},ft=n(579),ht=1,pt=2;var dt=function(t,e){return Object(ft.a)(t)&&X(e)?tt(Object(ut.a)(t),e):function(n){var r=Object(nt.a)(n,t);return void 0===r&&r===e?lt(n,t):U(e,r,ht|pt)}},bt=n(581);var gt=function(t){return function(e){return null==e?void 0:e[t]}},yt=n(585);var vt=function(t){return function(e){return Object(yt.a)(e,t)}};var mt=function(t){return Object(ft.a)(t)?gt(Object(ut.a)(t)):vt(t)};function _t(t){return(_t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.a=function(t){return"function"==typeof t?t:null==t?bt.a:"object"==_t(t)?Object(D.a)(t)?dt(t[0],t[1]):et(t):mt(t)}},603:function(t,e,n){"use strict";var r=n(584);function i(t,e,n,r,i,a,o){try{var c=t[a](o),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,i)}function a(t){return function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function c(t){i(o,r,a,c,u,"next",t)}function u(t){i(o,r,a,c,u,"throw",t)}c(void 0)})}}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r,i;return e=t,n=null,r=[{key:"initStore",value:function(){window[t.storeSymbol]=new Map}},{key:"loadFromCache",value:function(e){return t.storeRef.get(e)}},{key:"storeInCache",value:function(e,n){var r=n.then(function(){var t=a(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(200===n.status){t.next=2;break}throw Error("Request Failed: Status = ".concat(n.status,"; URI = ").concat(e,"; Time = ").concat(new Date));case 2:return t.next=4,n.json();case 4:return t.t0=t.sent,t.t1=n.headers,t.abrupt("return",{payload:t.t0,headers:t.t1});case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}());return t.storeRef.set(e,r),t.loadFromCache(e)}},{key:"fetch",value:(i=a(regeneratorRuntime.mark(function e(n){var r,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t.storeRef&&t.initStore(),void 0===(r=t.loadFromCache(n.src))){e.next=4;break}return e.abrupt("return",r);case 4:if(!n.src){e.next=8;break}return i=new Headers({accept:"application/json"}),a=window.fetch(n.src,{headers:i}),e.abrupt("return",t.storeInCache(n.src,a));case 8:return e.abrupt("return",{payload:JSON.parse(n.textContent)});case 9:case"end":return e.stop()}},e)})),function(t){return i.apply(this,arguments)})},{key:"storeSymbol",get:function(){return Symbol.for("protvista-request-manager-store")}},{key:"storeRef",get:function(){return window[t.storeSymbol]}}],n&&o(e.prototype,n),r&&o(e,r),t}();function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(t,e,n,r,i,a,o){try{var c=t[a](o),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,i)}function f(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),t}function d(t){var e="function"==typeof Map?new Map:void 0;return(d=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return b(t,arguments,y(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),g(r,t)})(t)}function b(t,e,n){return(b=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&g(i,n.prototype),i}).apply(null,arguments)}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(function(t){return t.matches('source[src], script[type="application/json"]')})},m=function(t){var e,n;function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=f(this,y(i).call(this)))._data=null,t.selector=(t.getAttribute("selector")||"").trim()||function(t){return t},t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(i,d(HTMLElement)),p(i,[{key:"fetch",value:(e=regeneratorRuntime.mark(function t(){var e,n,i,a,o,u,l,f,h;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((e=v.apply(void 0,s(this.children))).length){t.next=3;break}return t.abrupt("return");case 3:n=[],a=!0,o=!1,u=void 0,t.prev=7,l=e[Symbol.iterator]();case 9:if(a=(f=l.next()).done){t.next=26;break}return h=f.value,t.prev=11,t.next=14,c.fetch(h);case 14:return(i=t.sent).srcElement=h,i.src=h.src,t.abrupt("break",26);case 20:t.prev=20,t.t0=t.catch(11),n.push(t.t0);case 23:a=!0,t.next=9;break;case 26:t.next=32;break;case 28:t.prev=28,t.t1=t.catch(7),o=!0,u=t.t1;case 32:t.prev=32,t.prev=33,a||null==l.return||l.return();case 35:if(t.prev=35,!o){t.next=38;break}throw u;case 38:return t.finish(35);case 39:return t.finish(32);case 40:if(i){t.next=44;break}this._errors=n;try{this.dispatchEvent(new CustomEvent("error",{detail:n,bubbles:!0,cancelable:!0}))}catch(t){console.error(t)}return t.abrupt("return");case 44:"string"==typeof this.selector?this._data=Object(r.a)(i.payload,this.selector):this._data=this.selector(i.payload),i.payload=this.data,this.dispatchEvent(new CustomEvent("load",{detail:i,bubbles:!0,cancelable:!0}));case 47:case"end":return t.stop()}},t,this,[[7,28,32,40],[11,20],[33,,35,39]])}),n=function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function o(t){l(a,r,i,o,c,"next",t)}function c(t){l(a,r,i,o,c,"throw",t)}o(void 0)})},function(){return n.apply(this,arguments)})},{key:"data",get:function(){return this._data}},{key:"loaded",get:function(){return!!this.data}},{key:"errors",get:function(){return this._errors}},{key:"selector",get:function(){return this._selector},set:function(t){this._selector=t}}],[{key:"is",get:function(){return"data-loader"}}]),p(i,[{key:"connectedCallback",value:function(){this.fetch()}}]),i}();m.fetch=window.fetch.bind(window);e.a=m},604:function(t,e,n){"use strict";var r=n(574),i=n(569),a=Object(r.a)(i.a,"Set");e.a=a},605:function(t,e,n){"use strict";var r=n(574),i=function(){try{var t=Object(r.a)(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();e.a=i},606:function(t,e,n){"use strict";e.a=function(){return[]}},607:function(t,e,n){"use strict";var r=n(583),i=n(566);e.a=function(t,e,n){var a=e(t);return Object(i.a)(t)?a:Object(r.a)(a,n(t))}},608:function(t,e,n){"use strict";var r=n(612);e.a=function(t,e){return!(null==t||!t.length)&&Object(r.a)(t,e,0)>-1}},609:function(t,e,n){"use strict";e.a=function(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}},610:function(t,e,n){"use strict";var r=n(569).a.Uint8Array;e.a=r},611:function(t,e,n){"use strict";var r=n(607),i=n(590),a=n(571);e.a=function(t){return Object(r.a)(t,a.a,i.a)}},617:function(t,e,n){"use strict";function r(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}n.d(e,"a",function(){return r})},618:function(t,e,n){"use strict";var r=function(t){return function(e,n,r){for(var i=-1,a=Object(e),o=r(e),c=o.length;c--;){var u=o[t?c:++i];if(!1===n(a[u],u,a))break}return e}}(),i=n(571);e.a=function(t,e){return t&&r(t,e,i.a)}},621:function(t,e,n){"use strict";var r=n(578),i=n(568);e.a=function(t){return Object(i.a)(t)&&Object(r.a)(t)}},622:function(t,e,n){"use strict";var r=n(581);var i=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},a=Math.max;var o=function(t,e,n){return e=a(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,c=a(r.length-e,0),u=Array(c);++o<c;)u[o]=r[e+o];o=-1;for(var s=Array(e+1);++o<e;)s[o]=r[o];return s[e]=n(u),i(t,this,s)}};var c=function(t){return function(){return t}},u=n(605),s=u.a?function(t,e){return Object(u.a)(t,"toString",{configurable:!0,enumerable:!1,value:c(e),writable:!0})}:r.a,l=800,f=16,h=Date.now;var p=function(t){var e=0,n=0;return function(){var r=h(),i=f-(r-n);if(n=r,i>0){if(++e>=l)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(s);e.a=function(t,e){return p(o(t,e,r.a),t+"")}},624:function(t,e,n){"use strict";(function(t){var r=n(569);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a="object"==("undefined"==typeof exports?"undefined":i(exports))&&exports&&!exports.nodeType&&exports,o=a&&"object"==i(t)&&t&&!t.nodeType&&t,c=o&&o.exports===a?r.a.Buffer:void 0,u=c?c.allocUnsafe:void 0;e.a=function(t,e){if(e)return t.slice();var n=t.length,r=u?u(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(633)(t))},625:function(t,e,n){"use strict";var r=n(621);e.a=function(t){return Object(r.a)(t)?t:[]}},626:function(t,e,n){"use strict";var r=n(595),i=n(608),a=n(609),o=n(575),c=n(597),u=n(593),s=Math.min;e.a=function(t,e,n){for(var l=n?a.a:i.a,f=t[0].length,h=t.length,p=h,d=Array(h),b=1/0,g=[];p--;){var y=t[p];p&&e&&(y=Object(o.a)(y,Object(c.a)(e))),b=s(y.length,b),d[p]=!n&&(e||f>=120&&y.length>=120)?new r.a(p&&y):void 0}y=t[0];var v=-1,m=d[0];t:for(;++v<f&&g.length<b;){var _=y[v],O=e?e(_):_;if(_=n||0!==_?_:0,!(m?Object(u.a)(m,O):l(g,O,n))){for(p=h;--p;){var j=d[p];if(!(j?Object(u.a)(j,O):l(t[p],O,n)))continue t}m&&m.push(O),g.push(_)}}return g}},628:function(t,e,n){"use strict";var r=n(596);var i=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t},a=n(591),o=n(620),c=Object.prototype.hasOwnProperty;var u=function(t,e,n){var r=t[e];c.call(t,e)&&Object(o.a)(r,n)&&(void 0!==n||e in t)||Object(a.a)(t,e,n)};var s=function(t,e,n,r){var i=!n;n||(n={});for(var o=-1,c=e.length;++o<c;){var s=e[o],l=r?r(n[s],t[s],s,n,t):void 0;void 0===l&&(l=t[s]),i?Object(a.a)(n,s,l):u(n,s,l)}return n},l=n(571);var f=function(t,e){return t&&s(e,Object(l.a)(e),t)},h=n(640),p=n(572),d=n(615);var b=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e},g=Object.prototype.hasOwnProperty;var y=function(t){if(!Object(p.a)(t))return b(t);var e=Object(d.a)(t),n=[];for(var r in t)("constructor"!=r||!e&&g.call(t,r))&&n.push(r);return n},v=n(578);var m=function(t){return Object(v.a)(t)?Object(h.a)(t,!0):y(t)};var _=function(t,e){return t&&s(e,m(e),t)},O=n(624);var j=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},w=n(590);var S=function(t,e){return s(t,Object(w.a)(t),e)},E=n(583),k=n(638),A=Object(k.a)(Object.getPrototypeOf,Object),L=n(606),M=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Object(E.a)(e,Object(w.a)(t)),t=A(t);return e}:L.a;var P=function(t,e){return s(t,M(t),e)},C=n(611),T=n(607);var x=function(t){return Object(T.a)(t,m,M)},F=n(580),N=Object.prototype.hasOwnProperty;var D=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&N.call(t,"index")&&(n.index=t.index,n.input=t.input),n},R=n(610);var H=function(t){var e=new t.constructor(t.byteLength);return new R.a(e).set(new R.a(t)),e};var I=function(t,e){var n=e?H(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},W=/\w*$/;var V=function(t){var e=new t.constructor(t.source,W.exec(t));return e.lastIndex=t.lastIndex,e},q=n(576),G=q.a?q.a.prototype:void 0,z=G?G.valueOf:void 0;var K=function(t){return z?Object(z.call(t)):{}};var U=function(t,e){var n=e?H(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},Q="[object Boolean]",Z="[object Date]",B="[object Map]",Y="[object Number]",X="[object RegExp]",$="[object Set]",J="[object String]",tt="[object Symbol]",et="[object ArrayBuffer]",nt="[object DataView]",rt="[object Float32Array]",it="[object Float64Array]",at="[object Int8Array]",ot="[object Int16Array]",ct="[object Int32Array]",ut="[object Uint8Array]",st="[object Uint8ClampedArray]",lt="[object Uint16Array]",ft="[object Uint32Array]";var ht=function(t,e,n){var r=t.constructor;switch(e){case et:return H(t);case Q:case Z:return new r(+t);case nt:return I(t,n);case rt:case it:case at:case ot:case ct:case ut:case st:case lt:case ft:return U(t,n);case B:return new r;case Y:case J:return new r(t);case X:return V(t);case $:return new r;case tt:return K(t)}},pt=Object.create,dt=function(){function t(){}return function(e){if(!Object(p.a)(e))return{};if(pt)return pt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();var bt=function(t){return"function"!=typeof t.constructor||Object(d.a)(t)?{}:dt(A(t))},gt=n(566),yt=n(619),vt=n(568),mt="[object Map]";var _t=function(t){return Object(vt.a)(t)&&Object(F.a)(t)==mt},Ot=n(597),jt=n(616),wt=jt.a&&jt.a.isMap,St=wt?Object(Ot.a)(wt):_t,Et="[object Set]";var kt=function(t){return Object(vt.a)(t)&&Object(F.a)(t)==Et},At=jt.a&&jt.a.isSet,Lt=At?Object(Ot.a)(At):kt,Mt=1,Pt=2,Ct=4,Tt="[object Arguments]",xt="[object Function]",Ft="[object GeneratorFunction]",Nt="[object Object]",Dt={};Dt[Tt]=Dt["[object Array]"]=Dt["[object ArrayBuffer]"]=Dt["[object DataView]"]=Dt["[object Boolean]"]=Dt["[object Date]"]=Dt["[object Float32Array]"]=Dt["[object Float64Array]"]=Dt["[object Int8Array]"]=Dt["[object Int16Array]"]=Dt["[object Int32Array]"]=Dt["[object Map]"]=Dt["[object Number]"]=Dt[Nt]=Dt["[object RegExp]"]=Dt["[object Set]"]=Dt["[object String]"]=Dt["[object Symbol]"]=Dt["[object Uint8Array]"]=Dt["[object Uint8ClampedArray]"]=Dt["[object Uint16Array]"]=Dt["[object Uint32Array]"]=!0,Dt["[object Error]"]=Dt[xt]=Dt["[object WeakMap]"]=!1;e.a=function t(e,n,a,o,c,s){var h,d=n&Mt,b=n&Pt,g=n&Ct;if(a&&(h=c?a(e,o,c,s):a(e)),void 0!==h)return h;if(!Object(p.a)(e))return e;var y=Object(gt.a)(e);if(y){if(h=D(e),!d)return j(e,h)}else{var v=Object(F.a)(e),m=v==xt||v==Ft;if(Object(yt.a)(e))return Object(O.a)(e,d);if(v==Nt||v==Tt||m&&!c){if(h=b||m?{}:bt(e),!d)return b?P(e,_(h,e)):S(e,f(h,e))}else{if(!Dt[v])return c?e:{};h=ht(e,v,d)}}s||(s=new r.a);var w=s.get(e);if(w)return w;s.set(e,h),Lt(e)?e.forEach(function(r){h.add(t(r,n,a,r,e,s))}):St(e)&&e.forEach(function(r,i){h.set(i,t(r,n,a,i,e,s))});var E=g?b?x:C.a:b?keysIn:l.a,k=y?void 0:E(e);return i(k||e,function(r,i){k&&(r=e[i=r]),u(h,i,t(r,n,a,i,e,s))}),h}},630:function(t,e,n){"use strict";var r=n(595),i=n(608),a=n(609),o=n(593),c=n(604);var u=function(){},s=n(592),l=c.a&&1/Object(s.a)(new c.a([,-0]))[1]==1/0?function(t){return new c.a(t)}:u,f=200;e.a=function(t,e,n){var c=-1,u=i.a,h=t.length,p=!0,d=[],b=d;if(n)p=!1,u=a.a;else if(h>=f){var g=e?null:l(t);if(g)return Object(s.a)(g);p=!1,u=o.a,b=new r.a}else b=e?[]:d;t:for(;++c<h;){var y=t[c],v=e?e(y):y;if(y=n||0!==y?y:0,p&&v==v){for(var m=b.length;m--;)if(b[m]===v)continue t;e&&b.push(v),d.push(y)}else u(b,v,n)||(b!==d&&b.push(v),d.push(y))}return d}},631:function(t,e,n){"use strict";var r=n(583),i=n(576),a=n(623),o=n(566),c=i.a?i.a.isConcatSpreadable:void 0;var u=function(t){return Object(o.a)(t)||Object(a.a)(t)||!!(c&&t&&t[c])};e.a=function t(e,n,i,a,o){var c=-1,s=e.length;for(i||(i=u),o||(o=[]);++c<s;){var l=e[c];n>0&&i(l)?n>1?t(l,n-1,i,a,o):Object(r.a)(o,l):a||(o[o.length]=l)}return o}},632:function(t,e,n){"use strict";var r=n(591);var i=function(t,e,n,r){for(var i=-1,a=null==t?0:t.length;++i<a;){var o=t[i];e(r,o,n(o),t)}return r},a=n(618),o=n(578);var c=function(t,e){return function(n,r){if(null==n)return n;if(!Object(o.a)(n))return t(n,r);for(var i=n.length,a=e?i:-1,c=Object(n);(e?a--:++a<i)&&!1!==r(c[a],a,c););return n}}(a.a);var u=function(t,e,n,r){return c(t,function(t,i,a){e(r,t,n(t),a)}),r},s=n(602),l=n(566);var f=function(t,e){return function(n,r){var a=Object(l.a)(n)?i:u,o=e?e():{};return a(n,t,Object(s.a)(r,2),o)}},h=Object.prototype.hasOwnProperty,p=f(function(t,e,n){h.call(t,n)?t[n].push(e):Object(r.a)(t,n,[e])});e.a=p},636:function(t,e,n){"use strict";var r=n(600),i=n(632),a=n(631);var o=function(t){return null!=t&&t.length?Object(a.a)(t,1):[]},c=n(602),u=n(630);var s=function(t,e){return t&&t.length?Object(u.a)(t,Object(c.a)(e,2)):[]},l=n(618),f=n(581);var h=function(t){return"function"==typeof t?t:f.a};var p=function(t,e){return t&&Object(l.a)(t,h(e))},d=n(575),b=n(626),g=n(622),y=n(625);var v=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0},m=Object(g.a)(function(t){var e=v(t),n=Object(d.a)(t,y.a);return e===v(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?Object(b.a)(n,Object(c.a)(e,2)):[]}),_=n(648),O=n(628),j=1,w=4;var S=function(t){return Object(O.a)(t,j|w)},E="#990000",k="#99cc00",A="#002594",L="#8FE3FF",M="#009e73",P=[/disease/i,/pathogenic\b/i,/risk factor/i],C=[/benign/i],T=[/uncertain/i,/conflicting/i,/unclassified/i],x=function(t,e){return e.some(function(e){return e.test(t)})},F=[{name:"disease",type:{name:"consequence",text:"Filter Consequence"},options:{labels:["Likely disease"],colors:[E]}},{name:"predicted",type:{name:"consequence",text:"Filter Consequence"},options:{labels:["Predicted deleterious","Predicted benign"],colors:[A,L]}},{name:"nonDisease",type:{name:"consequence",text:"Filter Consequence"},options:{labels:["Likely benign"],colors:[k]}},{name:"uncertain",type:{name:"consequence",text:"Filter Consequence"},options:{labels:["Uncertain"],colors:[M]}},{name:"UniProt",type:{name:"provenance",text:"Filter Provenance"},options:{labels:["UniProt reviewed"],colors:["#9f9f9f"]}},{name:"ClinVar",type:{name:"provenance",text:"Filter Provenance"},options:{labels:["ClinVar reviewed"],colors:["#9f9f9f"]}},{name:"LSS",type:{name:"provenance",text:"Filter Provenance"},options:{labels:["Large scale studies"],colors:["#9f9f9f"]}}],N={disease:{applyFilter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=S(t);return e.filter(function(t){return x(t.clinicalSignificances,P)})}},predicted:{applyFilter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=S(t);return e.filter(function(t){return void 0!==t.polyphenScore||void 0!==t.siftScore})}},nonDisease:{applyFilter:function(t){return(S(t)||[]).filter(function(t){return x(t.clinicalSignificances,C)})}},uncertain:{applyFilter:function(t){return(S(t)||[]).filter(function(t){return void 0===t.clinicalSignificances&&void 0===t.polyphenScore&&void 0===t.siftScore||x(t.clinicalSignificances,T)})}},UniProt:{applyFilter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=S(t);return e.filter(function(t){return t.xrefNames&&(t.xrefNames.includes("uniprot")||t.xrefNames.includes("UniProt"))})}},ClinVar:{applyFilter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=S(t);return e.filter(function(t){return t.xrefNames&&(t.xrefNames.includes("ClinVar")||t.xrefNames.includes("clinvar"))})}},LSS:{applyFilter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=S(t)||[];return e.filter(function(t){return"large_scale_study"===t.sourceType||"mixed"===t.sourceType})}}},D=Object(_.a)().domain([0,1]).range([A,L]),R=function(t){return N.disease.applyFilter([t]).length>0?E:N.nonDisease.applyFilter([t]).length>0?k:N.uncertain.applyFilter([t]).length>0?M:N.predicted.applyFilter([t]).length>0?(e=t.polyphenScore,n=t.siftScore,D((n||0+(1-e?e:1))/(e&&n?2:1))):M;var e,n},H=function(t){return t},I=F;function W(t){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function V(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function G(t,e){return!e||"object"!==W(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function z(t,e,n){return(z="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=K(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function K(t){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function U(t,e){return(U=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"a",function(){return Z});var Q=function(t,e){return(n=t,r=N[n],r||console.error("No filter found for: ".concat(n)),r||{applyFilter:H}).applyFilter(e);var n,r},Z=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),G(this,K(e).apply(this,arguments))}var n,a,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&U(t,e)}(e,r["a"]),n=e,c=[{key:"getSourceType",value:function(t,e){var n=t.map(function(t){return t.name});return"uniprot"!==e&&"mixed"!==e||n.push("uniprot"),n}},{key:"getDescriptionsAsArray",value:function(t){var e=t.split(/\[LSS_|\[SWP]: /g);return(e=Object(i.a)(e,function(t){return 0===t.length?"NOTHING":-1!==t.indexOf("]: ")?"LSS":"UP"})).LSS=e.LSS?e.LSS.join("; ").replace(/]: /g,": "):void 0,e}},{key:"observedAttributes",get:function(){return["activefilters"]}}],(a=[{key:"attributeChangedCallback",value:function(t,e,n){if(e!==n){if("activefilters"!==t)return;var r=this._adaptedData,a=r.sequence,c=r.variants;if(!(n=n.trim()))return void this._fireEvent("load",{payload:{sequence:a,variants:c}});var u=n.split(","),l=Object(i.a)(u,function(t){return t.split(":")[0]}),f=[];p(l,function(t){var e=function(t,e,n){return s(o(e.map(function(t){return t.split(":")[1]}).map(function(e){return Q(e,t)})),function(t){return t[n]})}(c,t,"accession");f.push(e)}),f=o(m.apply(void 0,V(f).concat([function(t){return t.accession}]))),f=s(f,"accession"),this._fireEvent("load",{payload:{sequence:a,variants:f}})}}},{key:"connectedCallback",value:function(){z(K(e.prototype),"connectedCallback",this).call(this),this.closest("protvista-manager")&&(this.manager=this.closest("protvista-manager"),this.manager.register(this)),this._fireEvent("change",{type:"filters",value:JSON.stringify(I)})}},{key:"disconnectedCallback",value:function(){this.manager&&this.manager.unregister(this)}},{key:"parseEntry",value:function(t){var n=this,r=t.sequence,i=t.features;if(r){var a=i.map(function(t){return{type:"Variant",accession:t.genomicLocation,variant:t.alternativeSequence,start:t.begin,end:t.end,tooltipContent:n.formatTooltip(t),color:R(t),association:t.association,sourceType:t.sourceType,xrefNames:e.getSourceType(t.xrefs,t.sourceType),clinicalSignificances:t.clinicalSignificances,polyphenScore:t.polyphenScore,siftScore:t.siftScore}});this._adaptedData={sequence:r,variants:a}}}},{key:"formatTooltip",value:function(t){return t.description&&(t.descriptionArray=e.getDescriptionsAsArray(t.description)),"\n                <h5>Variant</h5><p>".concat(t.wildType," > ").concat(t.alternativeSequence,"</p>\n                ").concat(t.frequency?"<h5>Frequency (MAF)</h5><p>".concat(t.frequency,"</p>"):"","\n                ").concat(t.siftScore?"<h5>SIFT</h5><p>".concat(t.siftPrediction," ").concat(t.siftScore,"</p>"):"","\n                ").concat(t.polyphenScore?"<h5>Polyphen</h5><p>".concat(t.polyphenPrediction," ").concat(t.polyphenScore,"</p>"):"","\n                ").concat(t.consequenceType?"<h5>Consequence</h5><p>".concat(t.consequenceType,"</p>"):"","\n                ").concat(t.somaticStatus?"<h5>Somatic</h5><p>".concat(0===t.somaticStatus?"No":"Yes","</p>"):"","\n                ").concat(t.genomicLocation?"<h5>Location</h5><p>".concat(t.genomicLocation,"</p>"):"","\n                ").concat("UniProt"===t.sourceType||"mixed"===t.sourceType?"<hr/>".concat(this.getUniProtHTML(t)):"","\n                ").concat("large_scale_study"===t.sourceType||"mixed"===t.sourceType?"<hr/>".concat(this.getLSSHTML(t)):"","\n        ")}},{key:"getUniProtHTML",value:function(t){return"<h4>UniProt</h4>\n        ".concat(t.descriptionArray&&t.descriptionArray.UP?"<h5>Description</h5><p>".concat(t.descriptionArray.UP.join("; "),"</p>"):"","\n        ").concat(t.ftId?"<h5>Feature ID</h5><p>".concat(t.ftId,"</p>"):"","\n        ").concat(t.association?this.getDiseaseAssociations(t.association):"","\n        ")}},{key:"getLSSHTML",value:function(t){return"<h4>Large scale studies</h4>\n        ".concat(t.descriptionArray&&t.descriptionArray.LSS?"<h5>Description</h5><p>".concat(t.descriptionArray.LSS,"</p>"):"","\n        ").concat(t.frequency?"<h5>Frequency (MAF)</h5><p>".concat(t.frequency,"</p>"):"","\n        <h5>Cross-references</h5>").concat(this._basicHelper.formatXrefs(t.xrefs),"\n        ")}},{key:"getDiseaseAssociations",value:function(t){var e=this;return t.map(function(t){return"\n            <h4>Disease association</h4><p>".concat(t.name,"</p>\n            ").concat(t.xrefs?"<h5>Cross-references</h5>".concat(e._basicHelper.formatXrefs(t.xrefs)):"","\n            ").concat(e._basicHelper.getEvidenceFromCodes(t.evidences),"\n        ")}).join("")}},{key:"_fireEvent",value:function(t,e){this.dispatchEvent(new CustomEvent(t,{detail:e,bubbles:!0,cancelable:!0}))}}])&&q(n.prototype,a),c&&q(n,c),e}()},644:function(t,e,n){"use strict";var r=n(582),i=n(570);var a=function(t){var e=t.variants,n=t.sequence;if(!n||!e)return null;var r=n.split("").map(function(t,e){return{type:"VARIANT",normal:t,pos:e+1,variants:[]}});return e.forEach(function(t){r[t.start-1]&&r[t.start-1].variants.push(t)}),r};function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._frequency=Object(i.k)().exponent(.001).domain([0,1]).range([5,10]),this.drawVariationPlot=this.drawVariationPlot.bind(this)}var e,n,r;return e=t,(n=[{key:"drawVariationPlot",value:function(t,e){var n=e.getSingleBaseWidth()/2;t.each(function(t,r,a){var o=Object(i.l)(a[r]),c=t.filter(function(t){return 0!==t.variants.length}),u=o.selectAll("g").data(c,function(t){return t.pos});u.exit().remove();var s=u.enter().append("g").merge(u).selectAll("circle").data(function(t){return t.variants});s.exit().remove(),s.enter().append("circle").merge(s).attr("class","feature").attr("title",function(t){return t.start}).attr("r",function(t){return t.size?t.size:5}).attr("cx",function(t){return e.getXFromSeqPosition(t.start)+n}).attr("cy",function(t){return e._yScale(t.variant.charAt(0))}).attr("name",function(t){var e="*"===t.alternativeSequence?"STOP":t.alternativeSequence;return t.internalId="var_".concat(t.wildType).concat(t.start).concat(e),t.internalId}).attr("fill",function(t){return t.color}).call(e.bindEvents,e)})}}])&&o(e.prototype,n),r&&o(e,r),t}();function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t,e,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d=["G","A","V","L","I","S","T","C","M","D","N","E","Q","R","K","H","F","Y","W","P","d","*"],b=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,h(e).apply(this,arguments))}var n,o,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,r["b"]),n=e,u=[{key:"css",get:function(){return"\n    <style>\n    protvista-variation {\n      display: flex;\n      width: 100%;\n    }\n    \n    protvista-variation svg {\n      background-color: #fff;\n    }\n    \n    protvista-variation circle {\n      opacity: 0.6;\n    }\n    protvista-variation circle:hover {\n      opacity: 0.9;\n    }\n    protvista-variation .tick line,\n    protvista-variation .axis path {\n      opacity: 0.1;\n    }\n    \n    .protvista-highlight {\n      fill: #ffe999;\n    }\n    \n    protvista-variation .variation-y-right line,\n    protvista-variation .axis path {\n      fill: none;\n      stroke: none;\n    }\n    \n    </style>\n    "}}],(o=[{key:"connectedCallback",value:function(){f(h(e.prototype),"connectedCallback",this).call(this);var t=document.createElement("style");t.innerHTML=e.css,this.appendChild(t),this._height=Number(this.getAttribute("height"))?Number(this.getAttribute("height")):430,this._width=this._width?this._width:0,this._yScale=Object(i.i)(),this._yScale=Object(i.j)().domain(d).range([0,this._height-this.margin.top-this.margin.bottom])}},{key:"attributeChangedCallback",value:function(t,n,r){f(h(e.prototype),"attributeChangedCallback",this).call(this,t,n,r)}},{key:"_createFeatures",value:function(){this._variationPlot=new c;var t=f(h(e.prototype),"svg",this).select("g.sequence-features"),n=t.attr("transform","translate(0, ".concat(this.margin.top,")")).append("g").attr("clip-path","url(#plotAreaClip)");this._clipPath=t.append("clipPath").attr("id","plotAreaClip").append("rect").attr("width",this.getWidthWithMargins()).attr("height",this._height).attr("transform","translate(0, -".concat(this.margin.top,")")),this._series=n.datum(this._data),this._axisLeft=t.append("g"),this._axisRight=t.append("g"),this.updateScale()}},{key:"refresh",value:function(){this._series&&(this._clipPath.attr("width",this.getWidthWithMargins()),this.updateScale(),this._series.call(this._variationPlot.drawVariationPlot,this),this._updateHighlight())}},{key:"updateScale",value:function(){this._yAxisLScale=Object(i.b)().scale(this._yScale).tickSize(-this.getWidthWithMargins()),this._yAxisRScale=Object(i.c)().scale(this._yScale),this._axisLeft.attr("class","variation-y-left axis").attr("transform","translate(".concat(this.margin.left,",0)")).call(this._yAxisLScale),this._axisRight.attr("transform","translate(".concat(this.getWidthWithMargins()-this.margin.right+2,", 0)")).attr("class","variation-y-right axis").call(this._yAxisRScale)}},{key:"updateData",value:function(t){this._series&&this._series.datum(t)}},{key:"data",set:function(t){this._data=a(t),this._createTrack()}}])&&s(n.prototype,o),u&&s(n,u),e}();e.a=b},648:function(t,e,n){"use strict";var r=Math.sqrt(50),i=Math.sqrt(10),a=Math.sqrt(2),o=function(t,e,n){var r,i,a,o,u=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(o=c(t,e,n))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),a=new Array(i=Math.ceil(e-t+1));++u<i;)a[u]=(t+u)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),a=new Array(i=Math.ceil(t-e+1));++u<i;)a[u]=(t-u)/o;return r&&a.reverse(),a};function c(t,e,n){var o=(e-t)/Math.max(0,n),c=Math.floor(Math.log(o)/Math.LN10),u=o/Math.pow(10,c);return c>=0?(u>=r?10:u>=i?5:u>=a?2:1)*Math.pow(10,c):-Math.pow(10,-c)/(u>=r?10:u>=i?5:u>=a?2:1)}var u=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN};var s,l,f=(1===(s=u).length&&(l=s,s=function(t,e){return u(l(t),e)}),{left:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;s(t[i],e)<0?n=i+1:r=i}return n},right:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;s(t[i],e)>0?r=i:n=i+1}return n}}),h=f.right,p=n(598),d=function(t){return function(){return t}},b=function(t){return+t},g=[0,1];function y(t){return t}function v(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:d(isNaN(e)?NaN:.5)}function m(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=v(i,r),a=n(o,a)):(r=v(r,i),a=n(a,o)),function(t){return a(r(t))}}function _(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=v(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(e){var n=h(t,e,1,r)-1;return a[n](i[n](e))}}function O(){var t,e,n,r,i,a,o=g,c=g,u=p.a,s=y;function l(){var t,e,n,u=Math.min(o.length,c.length);return s!==y&&(t=o[0],e=o[u-1],t>e&&(n=t,t=e,e=n),s=function(n){return Math.max(t,Math.min(e,n))}),r=u>2?_:m,i=a=null,f}function f(e){return isNaN(e=+e)?n:(i||(i=r(o.map(t),c,u)))(t(s(e)))}return f.invert=function(n){return s(e((a||(a=r(c,o.map(t),p.c)))(n)))},f.domain=function(t){return arguments.length?(o=Array.from(t,b),l()):o.slice()},f.range=function(t){return arguments.length?(c=Array.from(t),l()):c.slice()},f.rangeRound=function(t){return c=Array.from(t),u=p.f,l()},f.clamp=function(t){return arguments.length?(s=!!t||y,l()):s!==y},f.interpolate=function(t){return arguments.length?(u=t,l()):u},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,l()}}var j=n(617),w=n(629),S=function(t,e,n,o){var c,u=function(t,e,n){var o=Math.abs(e-t)/Math.max(0,n),c=Math.pow(10,Math.floor(Math.log(o)/Math.LN10)),u=o/c;return u>=r?c*=10:u>=i?c*=5:u>=a&&(c*=2),e<t?-c:c}(t,e,n);switch((o=Object(w.c)(null==o?",f":o)).type){case"s":var s=Math.max(Math.abs(t),Math.abs(e));return null!=o.precision||isNaN(c=Object(w.e)(u,s))||(o.precision=c),Object(w.b)(o,s);case"":case"e":case"g":case"p":case"r":null!=o.precision||isNaN(c=Object(w.f)(u,Math.max(Math.abs(t),Math.abs(e))))||(o.precision=c-("e"===o.type));break;case"f":case"%":null!=o.precision||isNaN(c=Object(w.d)(u))||(o.precision=c-2*("%"===o.type))}return Object(w.a)(o)};function E(){var t=O()(y,y);return t.copy=function(){return e=t,E().domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown());var e},j.a.apply(t,arguments),function(t){var e=t.domain;return t.ticks=function(t){var n=e();return o(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return S(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),a=0,o=i.length-1,u=i[a],s=i[o];return s<u&&(r=u,u=s,s=r,r=a,a=o,o=r),(r=c(u,s,n))>0?r=c(u=Math.floor(u/r)*r,s=Math.ceil(s/r)*r,n):r<0&&(r=c(u=Math.ceil(u*r)/r,s=Math.floor(s*r)/r,n)),r>0?(i[a]=Math.floor(u/r)*r,i[o]=Math.ceil(s/r)*r,e(i)):r<0&&(i[a]=Math.ceil(u*r)/r,i[o]=Math.floor(s*r)/r,e(i)),t},t}(t)}n.d(e,"a",function(){return E})},655:function(t){t.exports=JSON.parse('{"sequence":"MLPGLALLLLAAWTARALEVPTDGNAGLLAEPQIAMFCGRLNMHMNVQNGKWDSDPSGTKTCIDTKEGILQYCQEVYPELQITNVVEANQPVTIQNWCKRGRKQCKTHPHFVIPYRCLVGEFVSDALLVPDKCKFLHQERMDVCETHLHWHTVAKETCSEKSTNLHDYGMLLPCGIDKFRGVEFVCCPLAEESDNVDSADAEEDDSDVWWGGADTDYADGSEDKVVEVAEEEEVAEVEEEEADDDEDDEDGDEVEEEAEEPYEEATERTTSIATTTTTTTESVEEVVREVCSEQAETGPCRAMISRWYFDVTEGKCAPFFYGGCGGNRNNFDTEEYCMAVCGSAMSQSLLKTTQEPLARDPVKLPTTAASTPDAVDKYLETPGDENEHAHFQKAKERLEAKHRERMSQVMREWEEAERQAKNLPKADKKAVIQHFQEKVESLEQEAANERQQLVETHMARVEAMLNDRRRLALENYITALQAVPPRPRHVFNMLKKYVRAEQKDRQHTLKHFEHVRMVDPKKAAQIRSQVMTHLRVIYERMNQSLSLLYNVPAVAEEIQDEVDELLQKEQNYSDDVLANMISEPRISYGNDALMPSLTETKTTVELLPVNGEFSLDDLQPWHSFGADSVPANTENEVEPVDARPAADRGLTTRPGSGLTNIKTEEISEVKMDAEFRHDSGYEVHHQKLVFFAEDVGSNKGAIIGLMVGGVVIATVIVITLVMLKKKQYTSIHHGVVEVDAAVTPEERHLSKMQQNGYENPTYKFFEQMQN","variants":[{"accession":"feature1","variant":"V","start":1,"end":1,"color":"orange"},{"accession":"feature2","variant":"C","start":2,"end":2,"color":"#33d"},{"accession":"feature3","variant":"T","start":3,"end":3,"color":"#336"},{"accession":"feature4","variant":"D","start":1,"end":1,"color":"#73d"},{"accession":"feature5","variant":"A","start":25,"end":25,"size":20,"color":"#63e"},{"accession":"feature6","variant":"R","start":770,"color":"#35d"}]}')}}]);