(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{134:function(t,e,n){"use strict";n.r(e);var r=n(1),i=n.n(r),a=n(335),o=n(355),c=n(404),s=n(322),u=n(386);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,d(e).apply(this,arguments))}var n,l,h;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(e,r["Component"]),n=e,(l=[{key:"componentDidMount",value:function(){document.querySelector("#track1").data=u}},{key:"render",value:function(){return Object(s.a)("protvista-variation",o.a),Object(s.a)("data-loader",a.a),Object(s.a)("protvista-variation-adapter",c.a),i.a.createElement(r.Fragment,null,i.a.createElement("protvista-variation",{id:"track1",length:"770"}),i.a.createElement("protvista-variation",{length:"770"},i.a.createElement("protvista-variation-adapter",null,i.a.createElement("data-loader",null,i.a.createElement("source",{src:"https://www.ebi.ac.uk/proteins/api/variation/P05067"})))))}}])&&f(n.prototype,l),h&&f(n,h),e}();e.default=h},351:function(t,e,n){var r=n(352);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(92)(r,i);r.locals&&(t.exports=r.locals)},352:function(t,e,n){(t.exports=n(91)(!1)).push([t.i,"protvista-variation {\n  display: flex;\n  width: 100%;\n}\n\nsvg {\n  background-color: #fff;\n}\n\ncircle {\n  opacity: 0.6;\n}\ncircle:hover {\n  opacity: 0.9;\n}\n.tick line,\n.axis path {\n  opacity: 0.1;\n}\n\n.protvista-highlight {\n  fill: #ffe999;\n}\n\n.variation-y-right line,\n.axis path {\n  fill: none;\n  stroke: none;\n}\n",""])},355:function(t,e,n){"use strict";var r=n(326),i=n(337);var a=function(t){var e=t.variants,n=t.sequence;if(n&&e){var r=[],i=n.split("");for(var a in i)r.push({type:"VARIANT",normal:i[a],pos:a+1,variants:[]});return e.forEach(function(t){r[t.start-1]&&r[t.start-1].variants.push(t)}),r}};function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){c(t,e,n[e])})}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._frequency=Object(i.f)().exponent(.001).domain([0,1]).range([5,10]),this.drawVariationPlot=this.drawVariationPlot.bind(this)}var e,n,r;return e=t,(n=[{key:"drawVariationPlot",value:function(t,e){var n=e.getSingleBaseWidth()/2;t.each(function(t,r,a){var c=Object(i.g)(a[r]),s=t.filter(function(t){return 0!==t.variants.length}),u=c.selectAll("g").data(s,function(t){return t.pos});u.exit().remove();var l=u.enter().append("g").merge(u).selectAll("circle").data(function(t){return t.variants});l.exit().remove(),l.enter().append("circle").merge(l).attr("class",function(t){}).attr("title",function(t){return t.start}).attr("r",function(t){return t.size?t.size:5}).attr("cx",function(t){return e.getXFromSeqPosition(t.start)+n}).attr("cy",function(t){return e._yScale(t.variant.charAt(0))}).attr("name",function(t){var e="*"===t.alternativeSequence?"STOP":t.alternativeSequence;return t.internalId="var_"+t.wildType+t.start+e,t.internalId}).attr("fill",function(t){return t.color}).attr("tooltip-trigger","true").on("mouseover",function(t){e.dispatchEvent(new CustomEvent("change",{detail:{highlightend:t.end,highlightstart:t.start},bubbles:!0,cancelable:!0}))}).on("click",function(t){var n={start:t.start,end:t.end,feature:o({},t,{type:"Variant"})};e.createTooltip(i.c,n,!0)})})}}])&&s(e.prototype,n),r&&s(e,r),t}();n(351);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t,e,n){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var v=["G","A","V","L","I","S","T","C","M","D","N","E","Q","R","K","H","F","Y","W","P","d","*"],b=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,y(e).apply(this,arguments))}var n,o,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,r["b"]),n=e,(o=[{key:"connectedCallback",value:function(){d(y(e.prototype),"connectedCallback",this).call(this),this._accession=this.getAttribute("accession"),this._height=parseInt(this.getAttribute("height"))?parseInt(this.getAttribute("height")):430,this._width=this._width?this._width:0,this._yScale=Object(i.d)(),this._yScale=Object(i.e)().domain(v).range([0,this._height-this.margin.top-this.margin.bottom])}},{key:"attributeChangedCallback",value:function(t,n,r){d(y(e.prototype),"attributeChangedCallback",this).call(this,t,n,r),d(y(e.prototype),"svg",this)}},{key:"_createFeatures",value:function(){this._variationPlot=new u;var t=d(y(e.prototype),"svg",this).select("g"),n=t.append("g").attr("clip-path","url(#plotAreaClip)");this._clipPath=t.append("clipPath").attr("id","plotAreaClip").append("rect").attr("width",this.getWidthWithMargins()).attr("height",this._height).attr("transform","translate(0, -".concat(this.margin.top,")")),this._series=n.datum(this._data),this._axisLeft=t.append("g"),this._axisRight=t.append("g"),this.updateScale()}},{key:"refresh",value:function(){this._series&&(this._clipPath.attr("width",this.getWidthWithMargins()),this.updateScale(),this._series.call(this._variationPlot.drawVariationPlot,this),this._updateHighlight())}},{key:"updateScale",value:function(){this._yAxisLScale=Object(i.a)().scale(this._yScale).tickSize(-this.getWidthWithMargins()),this._yAxisRScale=Object(i.b)().scale(this._yScale),this._axisLeft.attr("class","variation-y-left axis").attr("transform","translate(".concat(this.margin.left,",0)")).call(this._yAxisLScale),this._axisRight.attr("transform","translate(".concat(this.getWidthWithMargins()-this.margin.right+2,", 0)")).attr("class","variation-y-right axis").call(this._yAxisRScale)}},{key:"updateData",value:function(t){this._series&&this._series.datum(t)}},{key:"reset",value:function(){}},{key:"data",set:function(t){this._data=a(t),this._createTrack()}}])&&f(n.prototype,o),c&&f(n,c),e}();e.a=b},386:function(t){t.exports={sequence:"MLPGLALLLLAAWTARALEVPTDGNAGLLAEPQIAMFCGRLNMHMNVQNGKWDSDPSGTKTCIDTKEGILQYCQEVYPELQITNVVEANQPVTIQNWCKRGRKQCKTHPHFVIPYRCLVGEFVSDALLVPDKCKFLHQERMDVCETHLHWHTVAKETCSEKSTNLHDYGMLLPCGIDKFRGVEFVCCPLAEESDNVDSADAEEDDSDVWWGGADTDYADGSEDKVVEVAEEEEVAEVEEEEADDDEDDEDGDEVEEEAEEPYEEATERTTSIATTTTTTTESVEEVVREVCSEQAETGPCRAMISRWYFDVTEGKCAPFFYGGCGGNRNNFDTEEYCMAVCGSAMSQSLLKTTQEPLARDPVKLPTTAASTPDAVDKYLETPGDENEHAHFQKAKERLEAKHRERMSQVMREWEEAERQAKNLPKADKKAVIQHFQEKVESLEQEAANERQQLVETHMARVEAMLNDRRRLALENYITALQAVPPRPRHVFNMLKKYVRAEQKDRQHTLKHFEHVRMVDPKKAAQIRSQVMTHLRVIYERMNQSLSLLYNVPAVAEEIQDEVDELLQKEQNYSDDVLANMISEPRISYGNDALMPSLTETKTTVELLPVNGEFSLDDLQPWHSFGADSVPANTENEVEPVDARPAADRGLTTRPGSGLTNIKTEEISEVKMDAEFRHDSGYEVHHQKLVFFAEDVGSNKGAIIGLMVGGVVIATVIVITLVMLKKKQYTSIHHGVVEVDAAVTPEERHLSKMQQNGYENPTYKFFEQMQN",variants:[{accession:"feature1",variant:"V",start:1,end:1,color:"orange"},{accession:"feature2",variant:"C",start:2,end:2,color:"#33d"},{accession:"feature3",variant:"T",start:3,end:3,color:"#336"},{accession:"feature4",variant:"D",start:1,end:1,color:"#73d"},{accession:"feature5",variant:"A",start:25,end:25,size:20,color:"#63e"},{accession:"feature6",variant:"R",start:770,color:"#35d"}]}},404:function(t,e,n){"use strict";var r=n(448),i=n(456),a=n(452),o=n(460),c=n(446),s=n(334),u=n(442),l=Object(u.a)().domain([0,1]).range(["#002594","#8FE3FF"]),f=function(t,e){return l((e||0+(1-t?t:1))/(t&&e?2:1))},p=function(t){return"*"===t.alternativeSequence?"#FFCC00":"uniprot"===t.sourceType||"mixed"===t.sourceType?t.association&&t.association.length>0?"#990000":"#99cc00":t.polyphenScore||t.siftScore?f(t.polyphenScore,t.siftScore):void 0},d=n(444),y=[{name:"disease",applyFilter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(d.a)(t).filter(function(t){return t.association&&t.association.some(function(t){return t.disease})||t.clinicalSignificances&&"disease"===t.clinicalSignificances})}},{name:"predicted",applyFilter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(d.a)(t).filter(function(t){return"large_scale_study"===t.sourceType})}},{name:"nonDisease",applyFilter:function(t){return(Object(d.a)(t)||[]).filter(function(t){return t.association&&t.association.some(function(t){return!t.disease})||t.clinicalSignificances&&("likely benign"===t.clinicalSignificances||"Likely benign"===t.clinicalSignificances)})}},{name:"uncertain",applyFilter:function(t){return[]}},{name:"UniProt",applyFilter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(d.a)(t).filter(function(t){return t.xrefNames&&(t.xrefNames.includes("uniprot")||t.xrefNames.includes("UniProt"))})}},{name:"ClinVar",applyFilter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(d.a)(t).filter(function(t){return t.xrefNames&&(t.xrefNames.includes("ClinVar")||t.xrefNames.includes("clinvar"))})}},{name:"LSS",applyFilter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(Object(d.a)(t)||[]).filter(function(t){return"large_scale_study"===t.sourceType||"mixed"===t.sourceType})}}],h=function(t){return t},v=[{name:"disease",type:{name:"consequence",text:"Filter Consequence"},options:{labels:["Likely disease"],colors:["#990000"]}},{name:"predicted",type:{name:"consequence",text:"Filter Consequence"},options:{labels:["Predicted deleterious","Predicted benign"],colors:["#002594","#8FE3FF"]}},{name:"nonDisease",type:{name:"consequence",text:"Filter Consequence"},options:{labels:["Likely benign"],colors:["#99cc00"]}},{name:"uncertain",type:{name:"consequence",text:"Filter Consequence"},options:{labels:["Uncertain"],colors:["#FFCC00"]}},{name:"UniProt",type:{name:"provenance",text:"Filter Provenance"},options:{labels:["UniProt reviewed"],colors:["#e5e5e5"]}},{name:"ClinVar",type:{name:"provenance",text:"Filter Provenance"},options:{labels:["ClinVar reviewed"],colors:["#e5e5e5"]}},{name:"LSS",type:{name:"provenance",text:"Filter Provenance"},options:{labels:["Large scale studies"],colors:["#e5e5e5"]}}];function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function E(t,e){return!e||"object"!==b(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function S(t,e,n){return(S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=A(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function A(t){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"a",function(){return L});var T=function(t,e){return(n=t,r=y.find(function(t){return n===t.name}),r||console.error("No filter found for: ".concat(n)),r||{applyFilter:h}).applyFilter(e);var n,r},L=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),E(this,A(e).call(this))}var n,u,l;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}(e,s["a"]),n=e,l=[{key:"observedAttributes",get:function(){return["activefilters"]}}],(u=[{key:"attributeChangedCallback",value:function(t,e,n){if(e!==n){if("activefilters"!==t)return;var s=this._adaptedData,u=s.sequence,l=s.variants;if(!(n=n.trim()))return void this._fireEvent("load",{payload:{sequence:u,variants:l}});var f=n.split(","),p=Object(r.a)(f,function(t){return t.split(":")[0]}),d=[];Object(o.a)(p,function(t){var e=function(t,e,n){return Object(a.a)(Object(i.a)(e.map(function(t){return t.split(":")[1]}).map(function(e){return T(e,t)})),function(t){return t[n]})}(l,t,"accession");d.push(e)}),d=Object(i.a)(c.a.apply(void 0,g(d).concat([function(t){return t.accession}]))),d=Object(a.a)(d,"accession"),this._fireEvent("load",{payload:{sequence:u,variants:d}})}}},{key:"connectedCallback",value:function(){S(A(e.prototype),"connectedCallback",this).call(this),this._fireEvent("change",{type:"filters",value:JSON.stringify(v)})}},{key:"parseEntry",value:function(t){var e=this,n=t.sequence,r=t.features;if(n){var i=r.map(function(t){return{accession:t.genomicLocation,variant:t.alternativeSequence,start:t.begin,end:t.end,tooltipContent:e.formatTooltip(t),color:p(t),association:t.association,sourceType:t.sourceType,xrefNames:e.getSourceType(t.xrefs,t.sourceType),clinicalSignificances:t.clinicalSignificances}});this._adaptedData={sequence:n,variants:i}}}},{key:"getSourceType",value:function(t,e){var n=t.map(function(t){return t.name});return"uniprot"!==e&&"mixed"!==e||n.push("uniprot"),n}},{key:"formatTooltip",value:function(t){return t.description&&(t.descriptionArray=this.getDescriptionsAsArray(t.description)),"\n            <table>\n                <tr><td>Variant</td><td>".concat(t.wildType," > ").concat(t.alternativeSequence,"</td></tr>\n                ").concat(t.frequency?"<tr><td>Frequency (MAF)</td><td>".concat(t.frequency,"</td></tr>"):"","\n                ").concat(t.siftScore?"<tr><td>SIFT</td><td>".concat(t.siftPrediction," ").concat(t.siftScore,"</td></tr>"):"","\n                ").concat(t.polyphenScore?"<tr><td>Polyphen</td><td>".concat(t.polyphenPrediction," ").concat(t.polyphenScore,"</td></tr>"):"","\n                ").concat(t.consequenceType?"<tr><td>Consequence</td><td>".concat(t.consequenceType,"</td></tr>"):"","\n                ").concat(t.somaticStatus?"<tr><td>Somatic</td><td>".concat(0===t.somaticStatus?"No":"Yes","</td></tr>"):"","\n                ").concat(t.genomicLocation?"<tr><td>Location</td><td>".concat(t.genomicLocation,"</td></tr>"):"","\n                ").concat("UniProt"===t.sourceType||"mixed"===t.sourceType?this.getUniProtHTML(t):"","\n                ").concat("large_scale_study"===t.sourceType||"mixed"===t.sourceType?this.getLSSHTML(t):"","\n            </table>\n        ")}},{key:"getUniProtHTML",value:function(t){return'<tr><td colspan="2"><h4>UniProt</h4></td></tr>\n        '.concat(t.descriptionArray&&t.descriptionArray.UP?"<tr><td>Description</td><td>".concat(t.descriptionArray.UP.join("; "),"</td></tr>"):"","\n        ").concat(t.ftId?"<tr><td>Feature ID</td><td>".concat(t.ftId,"</td></tr>"):"","\n        ").concat(t.association?'<tr><td colspan="2"><h5>Disease association</h5></td></tr>\n            '.concat(this.getDiseaseAssociations(t.association)):"","\n        ")}},{key:"getLSSHTML",value:function(t){return'<tr><td colspan="2"><h4>Large scale studies</h4></td></tr>\n        '.concat(t.descriptionArray&&t.descriptionArray.LSS?"<tr><td>Description</td><td>".concat(t.descriptionArray.LSS,"</td></tr>"):"","\n        ").concat(t.frequency?"<tr><td>Frequency (MAF)</td><td>".concat(t.frequency,"</td></tr>"):"","\n        <tr><td>Cross-references</td><td>").concat(this.getXrefs(t.xrefs),"</td></tr>\n        ")}},{key:"getXrefs",value:function(t){return t.map(function(t){return'<a href="'.concat(t.url,'">').concat(t.id,"</a> (").concat(t.name,")")}).join("<br>")}},{key:"getDiseaseAssociations",value:function(t){var e=this;return t.map(function(t){return"\n            <tr><td>Disease</td><td>".concat(t.name,"</td></tr>\n            ").concat(t.xrefs?"<tr><td>Cross-references</td><td>".concat(e.getXrefs(t.xrefs),"</td></tr>"):"","\n            ").concat(e.getEvidenceFromCodes(t.evidences),"\n        ")})}},{key:"getEvidenceFromCodes",value:function(t){return t&&t.map(function(t){return"\n            <tr><td>Evidence</td><td>".concat(t.code,'</td></tr>\n            <tr><td>Source</td><td><a href="').concat(t.source.url,'">').concat(t.source.id,"</a> (").concat(t.source.name,")</td></tr>\n        ")})}},{key:"_fireEvent",value:function(t,e){this.dispatchEvent(new CustomEvent(t,{detail:e,bubbles:!0,cancelable:!0}))}},{key:"getDescriptionsAsArray",value:function(t){var e=t.split(/\[LSS_|\[SWP]: /g);return(e=Object(r.a)(e,function(t){return 0===t.length?"NOTHING":-1!==t.indexOf("]: ")?"LSS":"UP"})).LSS=e.LSS?e.LSS.join("; ").replace(/]: /g,": "):void 0,e}},{key:"isManaged",get:function(){return!0}}])&&m(n.prototype,u),l&&m(n,l),e}()}}]);