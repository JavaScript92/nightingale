<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Test web components</title>

  <!-- Required for IE11 -->
  <script src="https://cdn.jsdelivr.net/npm/babel-polyfill/dist/polyfill.min.js"></script>
  <!-- Web component polyfill (only loads what it needs) -->
  <script src="https://cdn.jsdelivr.net/npm/@webcomponents/webcomponentsjs/webcomponents-lite.js" charset="utf-8"></script>
  <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
  <script src="https://cdn.jsdelivr.net/npm/@webcomponents/webcomponentsjs/custom-elements-es5-adapter.js" charset="utf-8"></script>
  <script src="https://cdn.jsdelivr.net/npm/data-loader@latest/dist/index.js" charset="utf-8" defer></script>
</head>
<body>
  <data-loader>
    <source src="https://jsonplaceholder.typicode.com/posts">
  </data-loader>
  <data-loader selector="root">
    <script type="application/json">
      {
        "root": [
          {
            "userId": 1,
            "id": 1,
            "title": "sunt aut facere repellat provident occaecati excepturi optio reprehenderit",
            "body": "quia et suscipit\nsuscipit recusandae consequuntur expedita et cum\nreprehenderit molestiae ut ut quas totam\nnostrum rerum est autem sunt rem eveniet architecto"
          }
        ]
      }
    </script>
  </data-loader>
  Open the developer tools console to see the loaded data.
  <script>
    for (const dataLoaderElement of document.querySelectorAll('data-loader')) {
      dataLoaderElement.addEventListener(
        'load',
        e => {
          console.log(e.target);
          console.table(e.detail.payload);
        }
      );
      dataLoaderElement.addEventListener(
        'error',
        e => {
          console.error(e.target);
          console.table(e.detail);
        }
      );
    }
  </script>
</body>
</html>
