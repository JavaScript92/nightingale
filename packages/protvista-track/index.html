<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>protvista-track-demo</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link type="text/css" rel="stylesheet" href="styles/protvistaConfig.css"/>

        <link rel="apple-touch-icon" href="apple-touch-icon.png">
        <!-- Place favicon.ico in the root directory -->

    </head>
    <body>
      <table>
        <tr>
          <th>FROM</th><th>Track</th><th>TO</th>
        </tr>
        <tr>
          <td>1</td>
          <td width="100%"><protvista-track id= "track1" width="1020" length="223" displaystart="1" displayend="223" highlightstart="23"
                               highlightend="45" color="red"></protvista-track></td>
          <td>223</td>
        </tr>
        <tr>
          <td>100</td>
          <td width="100%"><protvista-track id= "track2" width="1020" length="223" displaystart="100" displayend="200" highlightstart="23"
                               highlightend="45" color="green" layout="non-overlapping"></protvista-track></td>
          <td>200</td>
        </tr>
        <tr>
          <td>110</td>
          <td width="100%"><protvista-track id= "track3" width="1020" length="223" displaystart="110" displayend="210" highlightstart="23" highlightend="45"></protvista-track></td>
          <td>210</td>
        </tr>
      </table>

      <h2>Getting data</h2>
      <table>
        <tr>
          <th>FROM</th><th>Track</th><th>TO</th>
        </tr>
        <tr>
          <td>1</td>
          <td width="100%">
            <protvista-track id="track1" width="1020" length="770" displaystart="1" displayend="770">
              <protvista-feature-adapter id="adapter1">
                <uniprot-entry-data-loader id="loader1" accession="P05067">
                  <source src="https://www.ebi.ac.uk/proteins/api/features/{0}?categories=PTM" />
                </uniprot-entry-data-loader>
              </protvista-feature-adapter>
              <data-loader data-key="config">
                  <source src="https://cdn.jsdelivr.net/npm/protvista-track/dist/config.json">
              </data-loader>
            </protvista-track>
          </td>
          <td>770</td>
        </tr>
      </table>

      <protvista-track id="track1" length="770" displaystart="1" displayend="770">
        <protvista-feature-adapter id="adapter1">
          <uniprot-entry-data-loader id="loader1" accession="P05067">
            <source src="https://www.ebi.ac.uk/proteins/api/features/{0}?categories=PTM" />
          </uniprot-entry-data-loader>
        </protvista-feature-adapter>
        <data-loader data-key="config">
            <source src="https://cdn.jsdelivr.net/npm/protvista-track/dist/config.json">
        </data-loader>
      </protvista-track>

      <script src="https://d3js.org/d3.v4.min.js" charset="utf-8" defer></script>
      <!-- Required for IE11 -->
      <script src="https://cdn.jsdelivr.net/npm/babel-polyfill/dist/polyfill.min.js"></script>
      <!-- Web component polyfill (only loads what it needs) -->
      <script src="https://cdn.jsdelivr.net/npm/@webcomponents/webcomponentsjs/webcomponents-lite.js" charset="utf-8"></script>
      <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
      <script src="https://cdn.jsdelivr.net/npm/@webcomponents/webcomponentsjs/custom-elements-es5-adapter.js" charset="utf-8"></script>

      <script src="https://cdn.jsdelivr.net/npm/data-loader@latest/dist/index.js" charset="utf-8" defer></script>
      <script src="https://cdn.jsdelivr.net/npm/uniprot-entry-data-loader/dist/UniProtEntryDataLoader.js" charset="utf-8" defer></script>
      <script src="https://cdn.jsdelivr.net/npm/uniprot-entry-data-adapter/dist/UniProtEntryDataAdapter.js" charset="utf-8" defer></script>
      <script src="https://cdn.jsdelivr.net/npm/protvista-feature-adapter/dist/ProtVistaFeatureAdapter.js" charset="utf-8" defer></script>
      <script src="https://cdn.jsdelivr.net/npm/protvista-zoomable/dist/protvista-zoomable.js" charset="utf-8" defer></script>
      <script src="https://cdn.jsdelivr.net/npm/protvista-track/dist/protvista-track.js" charset="utf-8" defer></script>

      <script>
      window.onload = () => {
        const data = [
          {accession:'feature1', start: 10, end: 40, color: '#342ea2'},
          {accession:'feature2', locations: [{ fragments:[{start: 50, end: 160}]}], color: '#A42ea2'},
          {accession:'feature3', locations: [{
            fragments:[{start: 155, end: 155}]},
            {fragments:[{start: 158, end: 158}]}
          ], color: '#A4Aea2'},
          {accession:'feature4', locations: [
            { fragments:[
              {start: 200, end: 204},
              {start: 206, end: 210}
            ]}
          ]},
        ];
        document.querySelector("#track1").data = data;
        document.querySelector("#track2").data = data;
        document.querySelector("#track3").data = data;
      }
      </script>
    </body>
</html>
