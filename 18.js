(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{137:function(t,e,r){"use strict";r.r(e);var n=r(1),a=r.n(n),i=r(362),o=r(378),s=r(467),c=r(351),u=r(518),l=r(519),d=r(520);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.forEach(function(e){p(t,e,r[e])})}return t}function p(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g(){return(g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var v=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),_(this,b(e).apply(this,arguments))}var r,h,p;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(e,n["Component"]),r=e,(h=[{key:"componentDidMount",value:function(){document.querySelector("#track1").data=u,document.querySelector("#track2").data=u,document.querySelector("#track2").contributors=l;var t=u.map(function(t){return f({},g({},t))});t[0].residues=d,document.querySelector("#track3").data=t;var e=l.map(function(t){return f({},g({},t))});e[0].residues=d,document.querySelector("#track4").data=u,document.querySelector("#track4").contributors=e}},{key:"render",value:function(){return Object(c.a)("protvista-feature-adapter",o.a),Object(c.a)("protvista-interpro-track",s.a),Object(c.a)("data-loader",i.a),a.a.createElement(n.Fragment,null,a.a.createElement("h2",null,"Track with data-loader"),a.a.createElement("protvista-interpro-track",{length:"770",displaystart:"1",displayend:"770","tooltip-event":"click"},a.a.createElement("protvista-feature-adapter",{id:"adapter1"},a.a.createElement("data-loader",null,a.a.createElement("source",{src:"https://www.ebi.ac.uk/proteins/api/features/P05067?categories=PTM"})))),a.a.createElement("h2",null,"Track with data injected after mounted"),a.a.createElement("h3",null,"Entry"),a.a.createElement("protvista-interpro-track",{id:"track1",width:"1020",length:"390",displaystart:"1",displayend:"390",highlight:"20:50,40:80",shape:"roundRectangle"}),a.a.createElement("h3",null,"Entry + contributors"),a.a.createElement("protvista-interpro-track",{id:"track2",width:"1020",length:"390",displaystart:"1",displayend:"390",highlight:"20:50,40:80",shape:"roundRectangle",expanded:!0}),a.a.createElement("h3",null,"Entry + residues"),a.a.createElement("protvista-interpro-track",{id:"track3",width:"1020",length:"390",displaystart:"1",displayend:"390",highlight:"20:50,40:80",shape:"roundRectangle",expanded:!0}),a.a.createElement("h3",null,"Entry + contributors + residues"),a.a.createElement("protvista-interpro-track",{id:"track4",width:"1020",length:"390",displaystart:"1",displayend:"390",highlight:"20:50,40:80",shape:"roundRectangle",expanded:!0}))}}])&&y(r.prototype,h),p&&y(r,p),e}();e.default=v},467:function(t,e,r){"use strict";var n=r(354);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,s(e).apply(this,arguments))}var r,a,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,n["a"]),r=e,(a=[{key:"init",value:function(t,e){var r=0;if(this.height={},this.yPos={},this.maxYPos=0,t){for(var n={},a=0;a<t.length;a++){var i=t[a];this.height[i.accession]=this.expanded?14:16,this.yPos[i.accession]=this._padding,r=this.height[i.accession]+2*this._padding,this.maxYPos=Math.max(this.maxYPos,r),i.accession in n||(n[i.accession]={}),i.residues&&(r=this._initResidues(i.residues,i.accession,i.locations,r,a,n))}if(e)for(var o=0;o<e.length;o++){var s=e[o];s.accession in this.height||(this.height[s.accession]=this.expanded?10:0,this.yPos[s.accession]=this.maxYPos+this._padding,r+=2*this._padding+this.height[s.accession],this.maxYPos=Math.max(this.maxYPos,r)),s.accession in n||(n[s.accession]={}),s.residues&&(r=this._initResidues(s.residues,s.accession,s.locations,r,o,n))}this.maxYPos+=this._padding}}},{key:"_initResidues",value:function(t,e,r,n,a){for(var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=0;o<t.length;o++){var s=t[o];this._filterOutResidueFragmentsOutOfLocation(s,r),s.accession in i[e]||(i[e][s.accession]={});for(var c=0;c<s.locations.length;c++){var u=s.locations[c].description;u in i[e][s.accession]||(i[e][s.accession][u]={height:this.expanded?10:0,yPos:this.maxYPos+this._padding},n=this.expanded?this.maxYPos+2*this._padding+10:n),this.height["".concat(s.accession,"_").concat(a,"_").concat(o,"_").concat(c)]=i[e][s.accession][u].height,this.yPos["".concat(s.accession,"_").concat(a,"_").concat(o,"_").concat(c)]=i[e][s.accession][u].yPos,this.maxYPos=Math.max(this.maxYPos,n)}}return n}},{key:"_filterOutResidueFragmentsOutOfLocation",value:function(t,e){t.locations.forEach(function(t){return t.fragments=t.fragments.filter(function(t){return e.some(function(e){return e.fragments.some(function(e){return t.start>=e.start&&t.end<=e.end})})})}),t.locations=t.locations.filter(function(t){return t.fragments.length})}},{key:"_getAccFromFeature",value:function(t){var e="";return"string"==typeof t?e=t:t.accession&&(e=t.accession),e}},{key:"getFeatureYPos",value:function(t){var e=this._getAccFromFeature(t);return e in this.yPos?this.yPos[e]:0}},{key:"getFeatureHeight",value:function(t){var e=this._getAccFromFeature(t);return e in this.height?this.height[e]:0}}])&&i(r.prototype,a),u&&i(r,u),e}();function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function h(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t,e,r){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(n){var a=Object.getOwnPropertyDescriptor(n,e);return a.get?a.get.call(r):a.value}})(t,e,r||t)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y=2,_=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,p(e).apply(this,arguments))}var r,a,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(e,n["b"]),r=e,i=[{key:"observedAttributes",get:function(){return n.b.observedAttributes.concat(["expanded","color"])}}],(a=[{key:"_createTrack",value:function(){this._layoutObj.expanded=this._expanded,f(p(e.prototype),"_createTrack",this).call(this),this.children_g=null}},{key:"connectedCallback",value:function(){f(p(e.prototype),"connectedCallback",this).call(this),this._expanded=this.hasAttribute("expanded"),this._haveCreatedFeatures=!1}},{key:"attributeChangedCallback",value:function(t,r,n){if("expanded"===t&&r!==n&&this._contributors){var a=!0,i=!1,o=void 0;try{for(var s,c=this._contributors[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){s.value.expanded=!r}}catch(t){i=!0,o=t}finally{try{a||null==c.return||c.return()}finally{if(i)throw o}}}f(p(e.prototype),"attributeChangedCallback",this).call(this,t,r,n)}},{key:"getLayout",value:function(t){return new u({layoutHeight:this._height,expanded:this._expanded,padding:2})}},{key:"_createResidueGroup",value:function(t){return t.selectAll("g.residues-group").data(function(t){return t.residues?t.residues.map(function(e,r){return Object.assign({},e,{feature:t,i:r})}):[]}).enter().append("g").attr("class","residues-group").selectAll("g.residues-locations").data(function(t){return t.locations.map(function(e,r){return Object.assign({},e,{accession:t.accession,feature:t.feature,location:e,i:t.i,j:r})})}).enter().append("g").attr("class","residues-locations")}},{key:"_createResiduePaths",value:function(t){var e=this;return t.selectAll("g.residue").data(function(t){return t.fragments.map(function(e){return Object.assign({},e,{accession:t.accession,feature:t.feature,location:t.location,k:t.feature.k,i:t.i,j:t.j})})}).enter().append("path").attr("class","feature").attr("d",function(t,r){return e._featureShape.getFeatureShape(e.getSingleBaseWidth(),e._layoutObj.getFeatureHeight("".concat(t.accession,"_").concat(t.k,"_").concat(t.i,"_").concat(t.j)),t.end?t.end-t.start+1:1,"rectangle")}).attr("transform",function(t){return"translate("+e.getXFromSeqPosition(t.start)+","+(y+e._layoutObj.getFeatureYPos("".concat(t.accession,"_").concat(t.k,"_").concat(t.i,"_").concat(t.j)))+")"}).attr("fill",function(t){return e._getFeatureColor(t)}).attr("stroke","transparent").call(this.bindEvents,this)}},{key:"_refreshResiduePaths",value:function(t){var e=this;t.attr("d",function(t){return e._featureShape.getFeatureShape(e.getSingleBaseWidth(),e._layoutObj.getFeatureHeight("".concat(t.accession,"_").concat(t.k,"_").concat(t.i,"_").concat(t.j)),t.end?t.end-t.start+1:1,"rectangle")}).attr("transform",function(t){return"translate("+e.getXFromSeqPosition(t.start)+","+(y+e._layoutObj.getFeatureYPos("".concat(t.accession,"_").concat(t.k,"_").concat(t.i,"_").concat(t.j)))+")"}).attr("fill",function(t){return e._getFeatureColor(t)})}},{key:"_createFeatures",value:function(){var t=this;if(this._layoutObj.init(this._data,this._contributors),this._data.forEach(function(t,e){return t.k=e}),this.featuresG=this.seq_g.selectAll("g.feature-group").data(this._data).enter().append("g").attr("class","feature-group").attr("id",function(t){return"g_".concat(t.accession)}),this.locations=this.featuresG.selectAll("g.location-group").data(function(t){return t.locations.map(function(e){return Object.assign({},e,{feature:t})})}).enter().append("g").attr("class","location-group"),this.coverLines=this.locations.selectAll("line.cover").data(function(t){return[t.fragments.reduce(function(e,r){return{start:Math.min(e.start,r.start),end:Math.max(e.end,r.end),feature:t.feature}},{start:1/0,end:-1/0})]}).enter().append("line").attr("class","cover"),this.features=this.locations.selectAll("path.feature").data(function(t){return t.fragments.map(function(e){return Object.assign({},e,{feature:t.feature,fragments:t.fragments})})}).enter().append("path").attr("class","feature").on("click.expanded",function(e,r,n){t._expanded?t.removeAttribute("expanded"):t.setAttribute("expanded","expanded")}).call(this.bindEvents,this),this.residues_g=this._createResidueGroup(this.featuresG),this.residues_loc=this._createResiduePaths(this.residues_g),this._contributors){this._contributors.forEach(function(t,e){return t.k=e}),this.children_g||(this.children_g=this.svg.append("g").attr("class","children-features")),this.childrenGroup=this.children_g.append("g").attr("class","children-group").attr("visibility",this._expanded?"visible":"hidden"),this.childGroup=this.childrenGroup.selectAll("g.child-group").data(this._contributors).enter().append("g").attr("class","child-group");var e=this.childGroup.selectAll("g.child-location-group").data(function(e){return e.expanded=t._expanded,e.locations.map(function(t){return Object.assign({},t,{feature:e})})}).enter().append("g").attr("class",function(t,e){return"child-location-group clg-".concat(e)});this.coverLinesChildren=e.selectAll("line.cover").data(function(t){return[t.fragments.reduce(function(e,r){return{start:Math.min(e.start,r.start),end:Math.max(e.end,r.end),feature:t.feature}},{start:1/0,end:-1/0})]}).enter().append("line").attr("class","cover"),this.featureChildren=e.selectAll("path.child-fragment").data(function(t){return t.fragments.map(function(e){return Object.assign({},e,{feature:t.feature,fragments:t.fragments})})}).enter().append("path").attr("class","child-fragment feature").call(this.bindEvents,this).on("click.expanded",function(e,r,n){e.feature.expanded=!e.feature.expanded,t.refresh()}),this.child_residues_g=this._createResidueGroup(this.childGroup),this.child_residues_loc=this._createResiduePaths(this.child_residues_g)}this.svg.attr("height",this._layoutObj.maxYPos),this._haveCreatedFeatures=!0}},{key:"_refreshFeatures",value:function(t){var e=this;t.attr("d",function(t){return e._featureShape.getFeatureShape(e.getSingleBaseWidth(),e._layoutObj.getFeatureHeight(t.feature),t.end?t.end-t.start+1:1,e._getShape(t.shape?t:t.feature))}).attr("fill",function(t){return e._getFeatureColor(t.feature)}).attr("stroke",function(t){return e._getFeatureColor(t.feature)}).attr("transform",function(t){return"translate("+e.getXFromSeqPosition(t.start)+","+(y+e._layoutObj.getFeatureYPos(t.feature))+")"})}},{key:"_refreshCoverLine",value:function(t){var e=this;t.attr("x1",function(t){return e.getXFromSeqPosition(t.start)}).attr("x2",function(t){return e.getXFromSeqPosition(t.end+1)}).attr("y1",function(t){return y+e._layoutObj.getFeatureYPos(t.feature)+e._layoutObj.getFeatureHeight(t.feature)/2}).attr("y2",function(t){return y+e._layoutObj.getFeatureYPos(t.feature)+e._layoutObj.getFeatureHeight(t.feature)/2}).attr("stroke",function(t){return e._getFeatureColor(t.feature)})}},{key:"refresh",value:function(){this._haveCreatedFeatures&&(this._layoutObj.expanded=this._expanded,this._layoutObj.init(this._data,this._contributors),this.height=this._layoutObj.maxYPos,this._refreshCoverLine(this.coverLines),this._refreshFeatures(this.features),this.residues_g.attr("visibility",this._expanded?"visible":"hidden"),this._refreshResiduePaths(this.residues_loc),this._contributors&&(this.childrenGroup.attr("visibility",this._expanded?"visible":"hidden"),this._refreshCoverLine(this.coverLinesChildren),this._refreshFeatures(this.featureChildren),this.child_residues_g.attr("visibility",function(t){return t.feature.expanded?"visible":"hidden"}),this._refreshResiduePaths(this.child_residues_loc)),this._updateHighlight(),this.svg.attr("height",this._layoutObj.maxYPos))}},{key:"contributors",set:function(t){this._contributors=this.normalizeLocations(t),this._data&&this._createTrack()}},{key:"color",set:function(t){this._color!==t&&(this._color=t,this.refresh())}},{key:"margin",get:function(){return{top:0,right:10,bottom:0,left:10}}}])&&d(r.prototype,a),i&&d(r,i),e}(),b=function(){customElements.define("protvista-interpro-track",_)};window.customElements?b():document.addEventListener("WebComponentsReady",function(){b()});e.a=_},518:function(t){t.exports=[{accession:"IPR016039",name:"Thiolase-like",source_database:"interpro",locations:[{fragments:[{start:5,end:389}],model_acc:null,seq_feature:null}],color:"#84862d",type:"homologous_superfamily",k:0}]},519:function(t){t.exports=[{accession:"SSF53901",name:"Thiolase-like",source_database:"ssf",type:"homologous_superfamily",locations:[{fragments:[{start:5,end:262}],model_acc:"0050445",seq_feature:null},{fragments:[{start:266,end:389}],model_acc:"0049940",seq_feature:null}],color:"#bbd279",k:0,expanded:!0},{accession:"G3DSA:3.40.47.10",name:"G3DSA:3.40.47.10",source_database:"cathgene3d",type:"homologous_superfamily",locations:[{fragments:[{start:9,end:130},{start:188,end:260}],model_acc:"1wdkC01",seq_feature:null},{fragments:[{start:138,end:180},{start:272,end:384}],model_acc:"1wdkC02",seq_feature:null}],color:"#87c59c",k:1,expanded:!0}]},520:function(t){t.exports=[{accession:"cd01991",name:"Asn_Synthase_B_C",source_database:"cdd",locations:[{description:"Molecular Tunnel",fragments:[{residues:"L",start:262,end:262},{residues:"L",start:263,end:263},{residues:"S",start:264,end:264},{residues:"A",start:290,end:290},{residues:"G",start:291,end:291},{residues:"F",start:292,end:292},{residues:"V",start:350,end:350},{residues:"T",start:363,end:363},{residues:"G",start:364,end:364},{residues:"D",start:365,end:365}]},{description:"Ligand Binding Site",fragments:[{residues:"L",start:262,end:262},{residues:"L",start:263,end:263},{residues:"S",start:264,end:264},{residues:"A",start:290,end:290},{residues:"G",start:291,end:291},{residues:"F",start:292,end:292},{residues:"V",start:350,end:350},{residues:"T",start:363,end:363},{residues:"G",start:364,end:364},{residues:"D",start:365,end:365}]}]}]}}]);